function prettyHours(e){var t=parseInt(e)||0;return 0!=t?Math.round(t/36)/100+"h":""}var app=angular.module("searchApp",["ngRoute","angular-i18n","aui","talis.services.logging","xeditable","ui.sortable"]);app.run(["editableOptions","editableThemes",function(e,t){e.theme="aui",t.aui={formTpl:'<form class="aui"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="inline-edit-fields" tabindex="1"><div class="field-group"></div></div>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button class="aui-button submit" accesskey="s" type="submit" title="Press Alt+s to submit this form"><span class="aui-icon aui-icon-small aui-iconfont-success">Save</span></button>',cancelTpl:'<button class="aui-button cancel" type="cancel" ng-click="$form.$cancel()" title="Press Alt+` to cancel"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">Cancel</span></button>',buttonsClass:"",inputClass:"text",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}}]),app.config(["$routeProvider","$httpProvider","$provide","$i18nProvider",function(e,t,n,r){var i=window.RA||window.AP,a=["$q",function(e){var t=e.defer();return i.getLocation(function(e){var n=e.split("project.key=")[1];n=n?n.split("&")[0]:void 0,t.resolve(n)}),t.promise}],o=["$q","$rootScope","$location",function(e,t,n){var r=e.defer();return i.getUser(function(e){r.resolve(e)}),r.promise}];e.when("/",{controller:"SearchController",templateUrl:"templates/main.html",resolve:{loggedInUser:o,projectKey:a}}).when("/columns",{controller:"ColumnController",templateUrl:"templates/main.html",resolve:{loggedInUser:o,projectKey:a}}).otherwise({redirectTo:"/"}),n.decorator("$exceptionHandler",["$delegate","exceptionHandlerInterceptor",function(e,t){return function(n,r){t.invoke?t.invoke(n,r):e(n,r)}}]),t.defaults.headers.common.Authorization="JWT "+window.atlToken,n.factory("authHttpInterceptor",["$injector","$q",function(e,n){return{response:function(n){var r=n.headers("X-acpt");return r&&(t.defaults.headers.common["X-acpt"]=r,e.get("authbeat").authbeat()),n},responseError:function(e){return 401==e.status&&"/authbeat"!=e.config.url&&i.flag.create({title:"Authentication expired",body:"Reload page to restore communication with add-on backend",type:"error"}),n.reject(e)}}}]),n.factory("urlRewriteHttpInterceptor",["$injector","$window",function(e,t){return{request:function(e){var n=e.url.match(/^\/?(.+?)\//);return n&&"i18n"==n[1]&&(e.url=t.i18nDefault),e}}}]),t.interceptors.push("authHttpInterceptor","urlRewriteHttpInterceptor")}]).service("exceptionHandlerInterceptor",function(){}).service("authbeat",["$timeout","$http",function(e,t){this.authbeatPromise=null,this.authbeat=function(){e.cancel(this.authbeatPromise),this.authbeatPromise=e(function(){t.get("/authbeat")},84e4,!1)}}]),app.controller("ColumnController",["$scope","$routeParams","$sce","$q","$route","searchService","columnService","$compile","$interpolate","loggedInUser","exceptionHandlerInterceptor","projectKey","applicationLoggingService",function(e,t,n,r,i,a,o,s,l,c,u,d,f){function h(t){var n=function(e,t){if(-1==["expand","self","$$hashKey"].indexOf(e))return t};e.preview.issue=t,e.preview.issueJson=JSON.stringify(t,n,"  ")}!e.isGadget&&angular.isFunction(AP.history.pushState)&&AP.history.pushState("/columns"),e.menuInfo={contentTemplate:"templates/columns.html",isColumn:!0},e.licenseManager=SearchUtils.getLicenseManager(e,n),e.filterOptions={filters:a.data.allFilters};var p=a.getDefaultFilter(d);a.getFilters(c,{},function(e){e.splice(0,0,p)}).then(function(t){e.filterOptions.selected=a.data.filterId||p.id}),e.columns=o.data.allColumns,o.getColumns({columnIds:[]}).then(function(){e.columnSelected(o.data.selectedColumnId||e.columns[0].id)}),e.column={};var m={name:"",template:'<span ng-bind="{{column.expression}}"/>',expression:""};angular.isDefined(e.column.id)||angular.copy(m,e.column),e.columnSelected=function(t){o.data.selectedColumnId=t;var n=o.findById(t,e.columns);null!=n&&angular.copy(n,e.column)},e.preview={};var g=a.data.issues;g.length>0&&(e.selectedIssueKey=g[0].key,h(g[0])),e.filterSelected=function(){},e.issueSelected=function(e){a.findIssueByKey(e).then(h)},e.columnOptions={};var v=function(){delete e.columnOptions.templateError,angular.isDefined(e.columnOptions.templateError)||(e.columnOptions.noTemplateError=!0,u.invoke=function(t,n){e.columnOptions.templateError=t.message,delete e.columnOptions.noTemplateError},s(e.column.template)(e),delete u.invoke)};e.$watch("column.template",v),e.$watch("column.expression",function(){delete e.columnOptions.expressionError,e.columnOptions.noExpressionError=!0,u.invoke=function(t,n){e.columnOptions.expressionError=t.message,delete e.columnOptions.noExpressionError},l("{{"+e.column.expression+"}}")(e),delete u.invoke,v()}),e.saveColumn=function(t){var n;return e.column._global&&(delete e.column.id,delete e.column._global),angular.isDefined(e.column.id)?n=o.updateColumn(e.column,{}):(n=o.addColumn(e.column),n.then(function(t){e.columnSelected(t.id)})),e.showSaveAsNewButton=!1,t.$setPristine(),n.promise},e.columnNameChanged=function(){e.column.name&&e.column.id&&!e.column._global&&(e.showSaveAsNewButton=!0)},e.saveAsNewColumn=function(t){delete e.column.id,e.saveColumn(t)},e.removeColumn=function(t){var n=o.removeColumn(e.column,t);return e.columnSelected(e.columns.length>0?e.columns[0].id:""),n.promise},e.newColumn=function(){angular.copy(m,e.column),e.showSaveAsNewButton=!1},e.refresh=function(){a.resetState(),o.resetState(),i.reload()},e.resize=function(){AP.resize()},e.logger=f}]),app.controller("ColumnDialogController",function(e,t,n,r,i){e.columnOptions={selected:"",columns:n},e.selectedColumns=[],r.forEach(function(r){var i=t.findById(r,n);e.selectedColumns.push(i)}),e.columnSelected=function(){var r=!1,i=t.findById(e.columnOptions.selected,n);e.selectedColumns.forEach(function(e){e.id==i.id&&(r=!0)}),r?AP.flag.create({title:"Failed to add column",body:"Column is already added",type:"warning"}):e.selectedColumns.push(i)},e.removeSelectedColumn=function(t){for(var n=0;n<e.selectedColumns.length;n++)e.selectedColumns[n].id==t&&e.selectedColumns.splice(n,1)},e.saveSelectedColumns=function(){e.closeDialog(t.getColumnIds(e.selectedColumns))},e.cancelDialog=function(){i.dismiss()},e.closeDialog=function(e){i.close(e)}}),app.controller("GadgetController",["$scope","$rootScope","$route","$routeParams","$q","$location","$timeout","searchService",function(e,t,n,r,i,a,o,s){var l=function(){return SearchUtils.normalizeObject({viewId:e.$parent.viewOptions.selected,filterId:"0"==e.$parent.filterOptions.selected?"":e.$parent.filterOptions.selected},!0)};e.saveGadgetConfig=function(){s.data.filterId=null;var n=l();s.saveGadgetConfiguration(e.dashboardId,e.dashboardItemId,n).then(t.$emit("gadgetConfigSave"))},e.cancelGadgetConfigSaving=function(){t.$emit("gadgetConfigCancel")}}]),app.controller("SearchController",["$scope","$rootScope","$sce","$q","$route","$routeParams","$location","$modal","searchService","columnService","viewService","loggedInUser","projectKey","$document","$timeout",function(e,t,n,r,i,a,o,s,l,c,u,d,f,h,p){function m(t,m){e.showGadgetConfiguration=!1;var g={viewId:t,filterId:m};e.reportParams=$.param(g),e.menuInfo={contentTemplate:"templates/issues.html",isView:!0},e.licenseManager=SearchUtils.getLicenseManager(e,n),e.currentView=u.data.currentView,e.viewOptions={views:u.data.allViews,selected:u.data.currentView.id},e.projectKey=f,e.columns=c.data.currentColumns,e.allColumns=c.data.allColumns,e.issues=l.data.issues,e.issuesCount=l.data.issuesCount,e.pages=[],e.loading=!0;var v,b=function(e){var t=[];return angular.isArray(e)?t=e.map(function(e){return parseInt(e)}):angular.isDefined(e)&&t.push(parseInt(e)),t},y=u.getViews({viewId:t}).then(function(){e.viewOptions.selected=u.data.currentView.id;var t=angular.isDefined(u.data.currentView.id);e.isGadget&&t&&AP.jira.setDashboardItemTitle(u.data.currentView.name),e.showDeleteButton=t,a.columnId&&(e.currentView.columns=b(a.columnId)),e.showSaveButton=(e.currentView._origColumns||e.currentView.columns.length>0)&&!angular.equals(e.currentView.columns,e.currentView._origColumns),c.getColumns({columnIds:e.currentView.columns})}),A={filterId:m||l.data.filterId,projectKey:e.projectKey||"",maxResults:50,startAt:a.startAt||l.data.issuesCount.startAt||0};v=A.filterId?l.getFilter(A.filterId).then(function(e){var t=e.searchUrl.match(/\/rest\/api\/3\/search\?jql=(.*)$/);return t&&(A.filterQuery=t[1]),A}):r.resolve(A);var w=v.then(l.getIssues.bind(l));r.all([y,w]).then(function(t){e.loading=!1,e.issuesCount.end=Math.min(e.issuesCount.startAt+e.issuesCount.maxResults,e.issuesCount.total);for(var n=Math.ceil(e.issuesCount.total/e.issuesCount.maxResults),r=0;r<n;r++)e.pages.push(r);p(function(){AP.resize()},100)}).catch(function(t,n){e.loading=!1}),e.filterOptions={filters:l.data.allFilters};var x=l.getDefaultFilter(e.projectKey);l.getFilters(d,{},function(e){e.splice(0,0,x)}).then(function(t){e.filterOptions.selected=A.filterId||"0"}),m&&l.getFilter(m).then(function(t){e.currentFilterName=t.name}),e.viewSelected=function(e){var t=o.search();t.viewId=e,o.search(t)},e.filterSelected=function(){var t=o.search();t.filterId="0"==e.filterOptions.selected?"":e.filterOptions.selected,l.data.filterId=null,l.data.issuesCount.total=null,t.startAt=0,l.data.issuesCount.startAt=0,o.search(t)},e.setStartAt=function(e){var t=o.search();t.startAt=e,o.search(t)},e.refresh=function(){l.resetState(),c.resetState(),u.resetState(),i.reload()},e.addColumn=function(){s.open({templateUrl:"column-dialog-template",controller:"ColumnDialogController",resolve:{columns:function(){return c.getAllColumnsGrouped()},selectedColumnIds:function(){return e.currentView.columns}}}).result.then(function(e){var t=o.search();e&&(t.columnId=e,0==e.length&&(t._=Date.now()),o.search(t))})},e.updateColumns=function(){var t=e.currentView.columns,n=o.search();t&&(n.columnId=t,0==t.length&&(n._=Date.now()),o.search(n))},e.saveViewAsNew=function(){u.addView(e.currentView).then(function(e){var t=o.search();t.viewId=e.id,o.search(t)})},e.saveView=function(){e.currentView.id?(u.updateView(e.currentView),e.showSaveAsNewButton=!1,e.showSaveButton=!1):e.saveViewAsNew()},e.deleteView=function(){u.removeView(e.currentView).then(function(){var e=o.search();e.viewId?delete e.viewId:e._=Date.now(),o.search(e)})},e.viewNameChanged=function(){e.showSaveAsNewButton=angular.isDefined(e.currentView.id),e.showSaveButton=!0},e.dragDropOptions={orderChanged:function(t){e.showSaveButton=!0;var n=o.search();n.columnId=c.getColumnIds(e.columns),o.search(n)},dragStart:function(e){angular.element(h[0].body).addClass("as-sortable-unselectable"),angular.element(".sortable-placeholder").css("min-width",e.source.itemScope.element.css("width"))},dragCancel:function(e){angular.element(h[0].body).removeClass("as-sortable-unselectable")}}}e.isGadget?l.getGadgetConfiguration(e.dashboardId,e.dashboardItemId).then(function(e){m(e.viewId,e.filterId||"")}):(m(a.viewId,a.filterId),angular.isFunction(AP.history.pushState)&&(a.viewId=a.viewId||u.data.currentView.id,a.filterId=a.filterId||l.data.filterId,a.startAt=a.startAt||l.data.issuesCount.startAt,AP.history.pushState("/?"+$.param(a)))),e.isGadget&&(AP.jira.DashboardItem.onDashboardItemEdit(function(){e.$apply("showGadgetConfiguration = true"),AP.resize()}),t.onGadgetConfigSave=t.onGadgetConfigSave||t.$on("gadgetConfigSave",function(){e.refresh()}),t.onGadgetConfigCancel&&t.onGadgetConfigCancel(),t.onGadgetConfigCancel=t.$on("gadgetConfigCancel",function(){e.showGadgetConfiguration=!1,p(function(){AP.resize()})}))}]),app.directive("context",function(){return{restrict:"E",scope:{items:"="},link:function(e,t,n){var r=e.items;angular.extend(e.$parent,r)}}}),app.directive("issueColumn",["$compile",function(e){return{restrict:"E",scope:{issue:"=",column:"="},link:function(t,n,r){n.html(e(t.column.template)(t))}}}]),app.directive("issueColumn2",["$compile",function(e){return{restrict:"E",scope:{issue:"=",column:"=",isValid:"="},link:function(t,n,r){t.$watchCollection(r.column,function(){t.isValid?n.html(e(t.column.template)(t)):n.html("")})}}}]),app.directive("issueType",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent"><img width="16" height="16" title="{{issue.fields.issuetype.description}}" ng-src="{{issue.fields.issuetype.iconUrl}}" alt="{{issue.fields.issuetype.name}}" /></a>'}}),app.directive("issueKey",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent">{{issue.key}}</a>'}}),app.directive("issueSummary",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent">{{issue.fields.summary}}</a>'}}),app.directive("issuePriority",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent"><img width="16" height="16" ng-src="{{issue.fields.priority.iconUrl}}" alt="{{issue.fields.priority.name}}" /></a>'}}),app.directive("auiSelect2",["$document",function(e){return{require:"ngModel",restrict:"A",link:function(t,n,r,i){t.$watch(r.ngModel,function(){$(n).auiSelect2().on("select2-open",function(){var t=$(".select2-drop-above.select2-drop-active");t.length>0&&t.offset().top<0&&AP.resize(e.width(),e.height()+t.height())})})}}}]),app.directive("columnsDropdown",["$timeout",function(e){return{restrict:"E",scope:{isGadget:"=",columns:"=",selected:"=",onClose:"&"},templateUrl:"/templates/columnsDropdown.html",link:function(e,t,n){e.checked=function(t){return e.selected.indexOf(t.id)>=0?"checked":""},e.save=function(){var t=[];angular.element("#columns-dropdown > div > ul > li > .checked").each(function(e,n){var r=angular.element(n);t.push(r.scope().column.id)}),r(e.selected,t),angular.element("#columns-dropdown-trigger").trigger("aui-button-invoke"),e.onClose()},e.cancel=function(){angular.element("#columns-dropdown > div > ul > li > a").each(function(t,n){var r=angular.element(n),i=r.scope().column.id;-1==e.selected.indexOf(i)?(r.removeClass("checked"),r.removeClass("aui-dropdown2-checked")):r.addClass("checked")}),angular.element("#columns-dropdown-trigger").trigger("aui-button-invoke")};var r=function(e,t){angular.forEach(e,function(n,r){-1==t.indexOf(n)&&e.splice(r,1)}),angular.forEach(t,function(t){-1==e.indexOf(t)&&e.push(t)})}}}}]),app.directive("auiIssuePicker",["searchService",function(e){return{scope:{ngModel:"=",ngDisabled:"="},restrict:"A",link:function(t,n,r){$(n).auiSelect2({placeholder:"",multiple:!1,ajax:{url:"/rest/api/2/issue/picker",type:"GET",dataType:"json",cache:!0,data:function(e){return{query:e,currentJQL:"",showSubTasks:!0}},results:function(e){e=SearchUtils.getJson(e);var t=[];return e.sections.length>0&&(t.push({select2Section:e.sections[0].label,children:e.sections[0].issues}),e.sections.length>1&&t.push({select2Section:e.sections[1].label,children:e.sections[1].issues})),{results:t}},transport:function(e){AP.request({url:e.url,headers:{Accept:"application/json"},data:e.data,success:e.success,error:e.error})}},id:function(e){return e.key},formatSelection:function(e){return Select2.util.escapeMarkup(e.key+": "+e.summaryText)},formatResult:function(e,t,n,r){if(e.hasOwnProperty("select2Section"))return e.select2Section;var i=e.key+": "+e.summaryText,a=[],o=function(e){return e};return Select2.util.markMatch(r(i),r(n.term),a,o),a.join("")},initSelection:function(n,r){t.ngModel&&e.findIssueByKey(t.ngModel).then(function(e){r({key:e.key,summaryText:e.fields.summary})})},formatNoMatches:function(e){return"No matches found"}}),t.$watch("ngModel",function(e){n.select2("val")!=e&&n.select2("val",e)})}}}]),app.directive("auiInlineDialog",["$timeout",function(e){return{restrict:"A",scope:{auiInlineDialog:"@",callback:"&auiPopupCallback"},link:function(e,t,n,r){AJS.InlineDialog(t,"auiPopup",e.auiInlineDialog)}}}]),app.directive("highlight",[function(){return{restrict:"A",link:function(e,t,n){e.$watch(n.ngBind,function(){hljs.highlightBlock(t[0])})}}}]),app.directive("codemirror",[function(){return{restrict:"A",require:"ngModel",scope:{codemirrorOpts:"="},link:function(e,t,n,r){var i=CodeMirror.fromTextArea(t[0],e.codemirrorOpts);r.$render=function(){var e=r.$viewValue||"";i.setValue(e)},i.on("changes",function(t,n){var i=t.getValue();i!==r.$viewValue&&(e.$root.$$phase?r.$setViewValue(i):e.$apply(function(){r.$setViewValue(i)}),e.$parent.columnForm&&e.$parent.columnForm.$setPristine())})}}}]),app.directive("selectedColumn",[function(){return{restrict:"E",scope:{label:"=",removeAction:"&removeAction"},template:'<span id="closeable-label-nourl" class="aui-label aui-label-closeable">{{label}}<span ng-click="removeAction()" tabindex="0" class="aui-icon aui-icon-close" original-title="(remove closableNoUrl)">(remove closableNoUrl)</span></span>'}}]),app.directive("resize",[function(e){return{restrict:"EA",link:function(e,t){angular.element(function(){(window.RA||window.AP).resize()})}}}]),app.filter("prettyHours",function(){return prettyHours}),app.filter("prettyDuration",function(){return function(e){var t=parseInt(e)||0,n="";if(t>=10368e3){var r=Math.floor(t/10368e3);n+=r+" years ",t-=10368e3*r}if(t>=864e3){var i=Math.floor(t/864e3);n+=i+" months ",t-=864e3*i}if(t>=144e3){var a=Math.floor(t/144e3);n+=a+" weeks ",t-=144e3*a}if(t>=28800){var o=Math.floor(t/28800);n+=o+" days ",t-=28800*o}if(t>=3600){var s=Math.floor(t/3600);n+=s+" hours ",t-=3600*s}if(!n&&t>=60){var l=Math.floor(t/60);n+=l+" minutes",t-=60*l}return n}}),app.filter("timeago",[function(){return function(e){var t=moment(e);return t.isValid()?t.fromNow():e}}]),app.filter("timeToResolve",["applicationLoggingService",function(e){return function(t){if(!t)return"";var n=(t.fields.resolution,t.fields.resolutiondate);n=n?moment(n):moment(),e.debug("resolutiondate",n.toDate());var r=moment(t.fields.created);e.debug("created",r.toDate());var i="",a=moment.unix(n.unix()-r.unix());a.add(-a.utcOffset()/60,"hours"),e.debug("diff",a.toDate());var o=a.year()-1970;o>0&&(i+=o+"y ");var s=a.month();s>0&&(i+=s+"m ");var l=a.date()-1;if(l>=7){var c=Math.floor(l/7);i+=c+"w ",l-=7*c}l>0&&(i+=l+"d ");var u=a.hours();u>0&&(i+=u+"h ");var d=a.minutes();return i||(i+=d+" min"),e.debug("timeToResolve",i),i}}]),app.filter("timeToResolveLozenge",function(){return function(e){if(!e)return"";var t="aui-lozenge ",n=(e.fields.resolution,e.fields.resolutiondate);n?n=moment(n):(t+="aui-lozenge-subtle ",n=moment());var r=moment(e.fields.created),i=moment.unix(n.unix()-r.unix());i.add(-i.utcOffset()/60,"hours");var a=i.year()-1970,o=i.month(),s=i.date()-1,l=i.hours(),c=i.minutes();return t+=a>0||o>0||s>5?"aui-lozenge-error":s>2||2==s&&(l>0||c>0)?"aui-lozenge-current":"aui-lozenge-success"}}),app.filter("timeLeft",function(){return function(e){if(!e)return"";var t=e.fields.duedate;if(!t&&e.fields.timeestimate)return prettyHours(e.fields.timeestimate);if(!t)return"-";t=moment(t);var n=moment(),r=null,i="";t.isBefore(n)?(i+="-",r=n.subtract(1e3*t.unix())):r=t.subtract(1e3*n.unix()),r.add(-r.utcOffset()/60,"hours");var a=r.year()-1970;a>0&&(i+=a+"y ");var o=r.month();o>0&&(i+=o+"m ");var s=r.date()-1;if(s>=7){var l=Math.floor(s/7);i+=l+"w ",s-=7*l}s>0&&(i+=s+"d ");var c=r.hours();c>0&&(i+=c+"h ");var u=r.minutes();return i||(i+=u+" min"),i}}),app.filter("timeLeftLozenge",function(){return function(e){if(!e)return"";var t="aui-lozenge ",n=e.fields.duedate,r=e.fields.timeestimate,i=moment();n?n=moment(n):(t+="aui-lozenge-subtle ",n=i);var a=null,o=null;n.isBefore(i)?(a=i.subtract(1e3*n.unix()),o=-a.unix()):(a=n.subtract(1e3*i.unix()),o=a.unix()),a.add(-a.utcOffset()/60,"hours");a.year(),a.month(),a.date(),a.hours(),a.minutes();return t+=o&&r>o?"aui-lozenge-error":!r&&o<28800||r&&o&&o-r<28800||!r&&!o?"aui-lozenge-current":"aui-lozenge-success"}}),angular.module("aui",["aui.tpls","aui.dialog2"]),angular.module("aui.tpls",["template/modal/backdrop.html","template/modal/window.html"]),angular.module("aui.dialog2",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(n,r,i){t(function(){n.animate=!0}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(e){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(t,n,r){t.windowClass=r.windowClass||"",t.windowSizeClass="aui-dialog2-"+(r.windowSize||"small"),e(function(){t.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap","$timeout",function(e,t,n,r,i){function a(){for(var e=-1,t=d.keys(),n=0;n<t.length;n++)d.get(t[n]).value.backdrop&&(e=n);return e}function o(e){var t=d.get(e).value;d.remove(e),t.modalDomEl.remove(),-1==a()&&(l.remove(),l=void 0),t.modalScope.$destroy()}var s,l,c=n.$new(!0),u=e.find("body").eq(0),d=r.createNew(),f={};return n.$watch(a,function(e){c.index=e}),e.bind("keydown",function(e){}),f.open=function(e,n){d.add(e,{deferred:n.deferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard});var r=angular.element("<div modal-window></div>");r.attr("window-class",n.windowClass),r.attr("window-size",n.windowSize),r.attr("index",d.length()-1),r.html(n.content);var i=t(r)(n.scope);d.top().value.modalDomEl=i,u.append(i),a()>=0&&!l&&(s=angular.element("<div modal-backdrop></div>"),l=t(s)(c),u.append(l))},f.close=function(e,t){var n=d.get(e);n&&(n.value.deferred.resolve(t),o(e))},f.dismiss=function(e,t){var n=d.get(e).value;n&&(n.deferred.reject(t),o(e))},f.getTop=function(){return d.top()},f}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,a,o,s){function l(e){return e.template?r.when(e.template):i.get(e.templateUrl,{cache:a}).then(function(e){return e.data}).catch(function(){console.error(arguments)})}function c(e){var n=[];return angular.forEach(e,function(e,i){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var i=r.defer(),a=r.defer(),u={result:i.promise,opened:a.promise,close:function(e){s.close(u,e)},dismiss:function(e){s.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=r.all([l(t)].concat(c(t.resolve)));return d.then(function(e){var r=(t.scope||n).$new();r.$close=u.close,r.$dismiss=u.dismiss;var a={},l=1;t.controller&&(a.$scope=r,a.$modalInstance=u,angular.forEach(t.resolve,function(t,n){a[n]=e[l++]}),o(t.controller,a)),s.open(u,{scope:r,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass,windowSize:t.windowSize})},function(e){i.reject(e)}),d.then(function(){a.resolve(!0)},function(){a.reject(!1)}),u},u}]};return e}),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="aui-blanket" ng-style="{\'z-index\': 1040 + index*10}" ng-click="close($event)"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<section role="dialog" class="aui-layer aui-dialog2 {{windowSizeClass}} {{ windowClass }}" ng-style="{\'z-index\': 1050 + index*10}" ng-transclude>')}]);var loggingModule=angular.module("talis.services.logging",[]);loggingModule.factory("traceService",function(){return{print:printStackTrace}}),loggingModule.provider("$exceptionHandler",{$get:["exceptionLoggingService",function(e){return e}]}),loggingModule.factory("exceptionLoggingService",["$log","$window","traceService",function(e,t,n){function r(r,i){if(e.error.apply(e,arguments),t.loggerUrl)try{var a=r.toString(),o=n.print({e:r});$.ajax({type:"POST",url:t.loggerUrl,contentType:"application/json",data:angular.toJson({url:t.location.href,message:a,type:"exception",stackTrace:o,cause:i||""})})}catch(t){e.warn("Error server-side logging failed"),e.log(t)}}return r}]),loggingModule.factory("applicationLoggingService",["$log","$window",function(e,t){return{error:function(n){e.error.apply(e,arguments),t.loggerUrl&&$.ajax({type:"POST",url:t.loggerUrl,contentType:"application/json",data:angular.toJson({url:t.location.href,message:n,type:"error"})})},enabled:!1,debug:function(t){this.enabled&&e.log.apply(e,arguments)}}}]),app.service("columnService",["$q","$http","dataService",function(e,t,n){this.data={allColumns:[],currentColumns:[]},this.getAllColumnsGrouped=function(){var e=[];return this.data.allColumns.forEach(function(t){t._global?t._group="System Columns":t._group="User Columns",e.push(t)}),e},this.getColumnIds=function(e){var t=[];return e.forEach(function(e){t.push(e.id)}),t},this.resolveCurrentColumns=function(e,t){e.columnIds.forEach(function(e){this.data.allColumns.forEach(function(t){if(t.id==e)return void this.data.currentColumns.push(t)},this)},this),t.resolve(this.data.currentColumns)},this.getColumnsBak=function(n){var r=e.defer(),i=this;return this.data.currentColumns.splice(0,this.data.currentColumns.length),0==this.data.allColumns.length?t.get("/api/columns/").then(function(e){[].push.apply(i.data.allColumns,e.data),i.resolveCurrentColumns(n,r)}).catch(function(){console.error(arguments)}):i.resolveCurrentColumns(n,r),r.promise},this.getColumns=function(t){var r=e.defer(),i=this;return this.data.currentColumns.splice(0,this.data.currentColumns.length),0==this.data.allColumns.length?n.getProperty("columns",[]).then(function(e){[].push.apply(i.data.allColumns,e),i.resolveCurrentColumns(t,r)}):i.resolveCurrentColumns(t,r),r.promise},this.addColumnBak=function(n){var r=e.defer(),i=this;return t.post("/api/columns/",n).then(function(e){i.data.allColumns.push(e.data),i.data.currentColumns.push(newColumn),r.resolve(newColumn)}).catch(function(){console.error(arguments)}),r.promise},this.addColumn=function(t){var r=e.defer(),i=this;return n.getProperty("columns",[]).then(function(e){var a=e.length>0?e[e.length-1]:{id:0},o=angular.copy(t);o.id=a.id+1,e.push(o),n.setProperty("columns",e).then(function(){i.data.allColumns.push(o),i.data.currentColumns.push(o),r.resolve(o)})}),r.promise},this.updateColumnBak=function(n,r){var i=e.defer(),a=this;return t.put("/api/columns/"+n.id,n).then(function(e){var t=e.data.updatedColumn;if(a.data.allColumns.forEach(function(e,n){if(t.id==e.id)return void this.data.allColumns.splice(n,1,t)},a),angular.isDefined(r.id)){if(t.id!=r.id){var n=a.indexById(t.id,a.data.currentColumns);-1!=n&&a.data.currentColumns.splice(n,1)}var n=a.indexById(r.id,a.data.currentColumns);a.data.currentColumns.splice(n,1,t)}else{var n=a.indexById(t.id,a.data.currentColumns);-1!=n?a.data.currentColumns.splice(n,1,t):a.data.currentColumns.splice(a.data.currentColumns.length,0,t)}i.resolve(a.data.currentColumns)}).catch(function(){console.error(arguments)}),i.promise},this.updateColumn=function(t,r){var i=e.defer(),a=this;return n.getProperty("columns",[]).then(function(e){var r=a.indexById(t.id,e),i=angular.copy(t);e[r]=i,n.setProperty("columns",e).then(function(){var e=a.indexById(t.id,a.data.allColumns);a.data.allColumns.splice(e,1,i);var n=a.indexById(t.id,a.data.currentColumns);a.data.currentColumns.splice(n,1,i)})}),i.promise},this.removeColumnBak=function(n,r){var i=e.defer();if(r){t.delete("/api/columns/"+n.id);var a=this.indexById(n.id,this.data.allColumns);-1!=a&&this.data.allColumns.splice(a,1)}var a=this.indexById(n.id,this.data.currentColumns);return-1!=a&&this.data.currentColumns.splice(a,1),i.resolve(this.data.currentColumns),i.promise},this.removeColumn=function(t,r){var i=e.defer(),a=t.id;if(r){var o=this;n.getProperty("columns",[]).then(function(e){var t=o.indexById(a,e);e.splice(t,1),n.setProperty("columns",e).then(function(){var e=o.indexById(a,o.data.allColumns);o.data.allColumns.splice(e,1)})})}var s=this.indexById(a,this.data.currentColumns);return-1!=s&&this.data.currentColumns.splice(s,1),i.resolve(this.data.currentColumns),i.promise},this.indexById=function(e,t){var n=-1;return t.forEach(function(t,r){if(e==t.id)return void(n=r)}),n},this.findById=function(e,t){var n=this.indexById(e,t);return-1!=n?t[n]:null},this.resetState=function(){this.data.allColumns.splice(0,this.data.allColumns.length)}}]),app.service("dataService",["$q","applicationLoggingService","$http",function(e,t,n){var r=window.RA||window.AP,i="/rest/atlassian-connect/1/addons/lambda-plugin/properties/",a=e.defer(),o={};this.getProperty=function(t,n){var s=e.defer();return a.promise.then(function(){if(!o[t])return void s.resolve(n);r.request({url:i+t,success:function(e){var t=SearchUtils.getJson(e),n=SearchUtils.getJson(t.value);s.resolve(n)},error:function(e){s.resolve(n)}})}),s.promise},this.setProperty=function(t,n){var a=e.defer();return r.request({url:i+t,type:"PUT",data:JSON.stringify(n),contentType:"application/json",success:function(e){var n=SearchUtils.getJson(e),r=SearchUtils.getJson(n.value);a.resolve(r),o[t]=!0},error:function(e){a.reject(e)}}),a.promise};var s=1,l=function(e,t,n){return{id:s++,_global:!0,name:e,template:t,expression:n}};this.createColumns=function(){var t=e.defer(),n=[];return n.push(l("Timespent",'<span ng-bind="{{column.expression}}"/>',"issue.fields.timespent | prettyHours")),n.push(l("Time to resolve",'<span class="{{issue | timeToResolveLozenge}}" ng-bind="{{column.expression}}"/>',"issue | timeToResolve")),n.push(l("Time left",'<span class="{{issue | timeLeftLozenge}}" ng-bind="{{column.expression}}"/>',"issue | timeLeft")),this.setProperty("columns",n).then(t.resolve,t.resolve),t.promise};var c=this;r.request({url:i,success:function(e){if(e=SearchUtils.getJson(e),0==e.keys.length)c.createColumns().then(a.resolve);else{for(var t=0;t<e.keys.length;t++){var n=e.keys[t];o[n.key]=!0}a.resolve()}}})}]),app.service("searchService",["$q","applicationLoggingService",function(e,t){var n=window.RA||window.AP;this.data={allFilters:[],filters:{},issues:[],issuesCount:{total:null,startAt:0,maxResults:50}},this.getIssues=function(t){var n=e.defer();if(null==this.data.issuesCount.total||this.data.filterId!=t.filterId||angular.isDefined(t.startAt)&&this.data.issuesCount.startAt!=t.startAt){this.data.issues.splice(0,this.data.issues.length),this.data.filterId=t.filterId;var r=this;this.getAllIssues(t.startAt,t).then(function(e){Array.prototype.push.apply(r.data.issues,e.issues),r.data.issuesCount.total=e.total,r.data.issuesCount.startAt=e.startAt,
r.data.issuesCount.maxResults=e.maxResults,n.resolve(r.data.issues)})}else n.resolve(this.data.issues);return n.promise},this.getAllIssues=function(t,r){var i=r.filterQuery,a=r.filterId,o=r.projectKey,s=this,l=r.maxResults||1e3,c=e.defer(),u=(new this.queryBuilder).addQuery("fields","*all").addQuery("startAt",t).addQuery("maxResults",l);i?u.addQuery("jql",i):a?u.addQuery("jql","filter="+a):o&&u.addQuery("jql",'project="'+o+'"');var d=u.build(),f="/rest/api/3/search?"+d;return n.request({url:f,dataType:"json",success:function(e){"string"==typeof e&&(e=JSON.parse(e)),c.resolve(e)},error:function(e){var t=Array.prototype.slice.call(arguments);t.push(f,c),s.onError.apply(s,t)}}),c.promise},this.findIssueByKey=function(t){var r=e.defer();return n.request({url:"/rest/api/2/issue/"+t+"?fields=*all",dataType:"json",success:function(e){r.resolve(SearchUtils.getJson(e))},error:function(){r.reject()}}),r.promise},this.getFilters=function(t,r,i){var a=this,o=e.defer();if(0==a.data.allFilters.length){var s="/rest/api/2/filter/favourite";n.request({url:s,dataType:"json",success:function(e){"string"==typeof e&&(e=JSON.parse(e)),Array.prototype.push.apply(a.data.allFilters,e),i(a.data.allFilters),o.resolve(a.data.allFilters)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(s,o),a.onError.apply(a,e)}})}else o.resolve(a.data.allFilters);return o.promise},this.getFilter=function(t){var r=this,i=e.defer();if(0!=r.data.filters.length&&r.data.filters.hasOwnProperty(t))i.resolve(r.data.filters[t]);else{var a="/rest/api/2/filter/"+t;n.request({url:a,dataType:"json",success:function(e){"string"==typeof e&&(e=JSON.parse(e)),r.data.filters[t]=e,i.resolve(r.data.filters[t])},error:function(){var e=Array.prototype.slice.call(arguments);e.push(a,i),r.onError.apply(r,e)}})}return i.promise},this.onError=function(e,t,n,r,i){401==e.status?this.loginExpired():503==e.status?this.serviceUnavailable():403==e.status?this.forbidden():this.unexpectedError(e,n,r),i.reject()},this.loginExpired=function(){n.flag.create({title:"JIRA session expired",body:"Please login again to restore connection with JIRA",type:"error"})},this.serviceUnavailable=function(){n.flag.create({title:"JIRA Unavailable",body:"The requested resource failed to load. If the problem persists, please contact Atlassian Cloud Support.",type:"error"})},this.forbidden=function(){n.flag.create({title:"Forbidden",body:"You need to accept WRITE and DELETE scopes for the add-on in UPM",type:"error"})},this.unexpectedError=function(e,r,i){var a="";if(e&&e.responseText)try{var o=SearchUtils.getJson(e.responseText);a=o.errorMessages.join(" "),t.error(o,i)}catch(n){a=e.responseText,t.error(e.responseText,i)}else a=r,t.error(r,i);n.flag.create({title:"Unexpected error",body:a,type:"error"})},this.getDefaultFilter=function(e){var t={id:"0"};return t.name=e?"All "+e+" Issues":"All Issues",t},this.getGadgetConfiguration=function(t,r){var i=e.defer();return n.request({url:"/rest/api/2/dashboard/"+t+"/items/"+r+"/properties",success:function(e){e=SearchUtils.getJson(e),e.keys.length>0?n.request({url:"/rest/api/2/dashboard/"+t+"/items/"+r+"/properties/gadgetConfig",success:function(e){e=SearchUtils.getJson(e),i.resolve(e.value)},error:function(e){i.resolve({})}}):i.resolve({})},error:function(e){i.resolve({})}}),i.promise},this.saveGadgetConfiguration=function(t,r,i){var a=e.defer();return n.request({url:"/rest/api/2/dashboard/"+t+"/items/"+r+"/properties/gadgetConfig",type:"PUT",contentType:"application/json",headers:{Accept:"application/json"},data:JSON.stringify(i),success:function(e){a.resolve(SearchUtils.getJson(e))},error:function(e){a.reject()}}),a.promise},this.resetState=function(){this.data.issues.splice(0,this.data.issues.length),this.data.issuesCount.total=null,this.data.issuesCount.startAt=0,this.data.allFilters=[],this.data.filters={}},this.queryBuilder=function(){var e=[];this.addQuery=function(t,n){return null!=n&&""!=n&&e.push(t+"="+n),this},this.build=function(){for(var t="",n=0;n<e.length;n++)0!=n&&(t+="&"),t+=e[n];return t}}}]),app.service("viewService",["$q","$http","dataService",function(e,t,n){this.data={allViews:[],currentView:{name:"Untitled",columns:[]}},this.updateCurrentView=function(e){var t=this;if(t.data.allViews.forEach(function(n){n.id==e.viewId&&(t.data.currentView.id&&t.data.currentView.id==e.viewId||(angular.copy(n,t.data.currentView),t.data.currentView._origColumns=n.columns))},t),!t.data.currentView.id&&t.data.allViews.length>0){var n=t.data.allViews[0];angular.copy(n,t.data.currentView),t.data.currentView._origColumns=n.columns}},this.getViews=function(t){var r=e.defer(),i=this;return 0==this.data.allViews.length?n.getProperty("views",[]).then(function(e){[].push.apply(i.data.allViews,e),i.updateCurrentView(t),r.resolve(i.data.allViews)}):(i.updateCurrentView(t),r.resolve(i.data.allViews)),r.promise},this.addView=function(t){var r=e.defer(),i=this;return n.getProperty("views",[]).then(function(e){var a=e.length>0?e[e.length-1]:{id:0},o=angular.copy(t);o.id=a.id+1,e.push(o),n.setProperty("views",e).then(function(){i.data.allViews.push(o),angular.copy(o,i.data.currentView),i.data.currentView._origColumns=o.columns,r.resolve(i.data.currentView)})}),r.promise},this.updateView=function(t){var r=e.defer(),i=this;return n.getProperty("views",[]).then(function(e){var a=i.indexById(t.id,e),o=angular.copy(t);e[a]=o,n.setProperty("views",e).then(function(){var e=i.indexById(t.id,i.data.allViews);i.data.allViews.splice(e,1,o),angular.equals(t,i.data.currentView)||angular.copy(t,i.data.currentView),r.resolve(i.data.currentView)})}),r.promise},this.removeView=function(t){var r=e.defer(),i=this,a=t.id;return n.getProperty("views",[]).then(function(e){var t=i.indexById(a,e);e.splice(t,1),n.setProperty("views",e).then(function(){var e=i.indexById(a,i.data.allViews);i.data.allViews.splice(e,1),angular.copy({name:"Untitled",columns:[]},i.data.currentView),r.resolve(i.data.allViews)})}),r.promise},this.indexById=function(e,t){var n=-1;return t.forEach(function(t,r){if(e==t.id)return void(n=r)}),n},this.findById=function(e,t){var n=this.indexById(e,t);return-1!=n?t[n]:null},this.resetState=function(){this.data.allViews.splice(0,this.data.allViews.length)}}]);var SearchUtils={};SearchUtils.getJson=function(e){return angular.isString(e)&&(e=""!=e?JSON.parse(e):{}),e},SearchUtils.normalizeObject=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++)(null==e[n[r]]||t&&(""==e[n[r]]||e[n[r]]==[]))&&delete e[n[r]];return e},SearchUtils.getLicenseManager=function(e,t){var n="";return"expired"==e.license?n="LICENSE EXPIRED":"none"==e.license?n="NO LICENSE":"active"!=e.license&&(n="LICENSE ERROR"),""!=n&&(n='<span class="red">'+n+"</span>"),{isActive:"active"==e.license,message:t.trustAsHtml(n)}},angular.module("angular-i18n",["ng"]).provider("$i18n",[function(){return{_fileURL:"/i18n/|LANG|.json",_fileURLLanguageToken:/\|LANG\|/,_fileURLPartToken:/\|PART\|/,_allowPartialFileLoading:!1,_useBaseHrefTag:!1,_baseHref:"",_defaultLanguage:"en-US",_language:null,_fallback:null,_debug:!1,_onTranslationFailed:null,get allowPartialFileLoading(){return this._allowPartialFileLoading},set allowPartialFileLoading(e){return this._allowPartialFileLoading=e,this},get baseHref(){return this._baseHref},get debug(){return this._debug},set debug(e){return this._debug=e,this},get defaultLanguage(){return this._defaultLanguage},set defaultLanguage(e){return this._defaultLanguage=e,this},get fallback(){return this._fallback},set fallback(e){return this._fallback=e,this},get fileURL(){return this._fileURL},set fileURL(e){return this._fileURL=e,this},get fileURLLanguageToken(){return this._fileURLLanguageToken},set fileURLLanguageToken(e){return this._fileURLLanguageToken=e,this},get fileURLPartToken(){return this._fileURLPartToken},set fileURLPartToken(e){return this._fileURLPartToken=e,this},get language(){return this._language},set language(e){return this._language=e,this},get onTranslationFailed(){return this._onTranslationFailed},set onTranslationFailed(e){if(!(null===e||e&&"[object Function]"=={}.toString.call(e)))throw new TypeError("the argument func of displayUntranslated(func) must be a function");return this._onTranslationFailed=e,this},get useBaseHrefTag(){return this._useBaseHrefTag},set useBaseHrefTag(e){if(this._useBaseHrefTag=e,this._useBaseHrefTag){var t=document.getElementsByTagName("base");t.length>0&&(this._baseHref=t[0].href)}else this._baseHref="";return this},$get:["$http","$rootScope","$window","$q","$log",function(e,t,n,r,i){var a=this;return{_dictionary:{},_promises:{},get debug(){return a.debug},set debug(e){return a.debug=e,this},get language(){return a.language||n.navigator.userLanguage||n.navigator.language||a.defaultLanguage},set language(e){return a.language=e,this},get onTranslationFailed(){return a.onTranslationFailed},set onTranslationFailed(e){return a.onTranslationFailed=e,this},_checkSectionParameter:function(e){if(e=angular.isDefined(e)&&null!==e?e:"all",!angular.isString(e))throw new Error("section parameter must be of type string");if(!a.allowPartialFileLoading&&"all"!==e)throw new Error("Partial loading has been disabled by the provider.");return e},_getLanguageAndTranslate:function(e,t,n){return this._translate(e,this.language,t,n)},_translate:function(e,t,n,r){var i;if(void 0===e||null===e)return"";if(n=this._checkSectionParameter(n),r=r||[],this._dictionary&&this._dictionary[t]){if(this.isTranslationLoading(t,n))return null;if(!this.hasDictionary(t,n))throw new Error("The section you are trying to access does not exist");if(!this.isTranslationLoaded(t,n))throw new Error("The section you are trying to access does not exist");if(!this.hasTranslation(t,n,e))throw new Error("The translation for '"+e+"' in the section '"+n+"' for '"+t+"' does not exist");i=this._dictionary[t].sections[n].translation?this._dictionary[t].sections[n].translation[e]:null}else a.fallback&&"object"==typeof a.fallback&&a.fallback[e]&&(i=a.fallback[e]);return i=null===i?vsprintf(e,r):vsprintf(i,r)},hasDictionary:function(e,t){return this.isTranslationLoaded(e,t)},hasTranslation:function(e,t,n){return this.isTranslationLoaded(e,t)&&null!==this._dictionary[e].sections[t].translation&&(angular.isDefined(n)?void 0!==this._dictionary[e].sections[t].translation[n]:null!==this._dictionary[e].sections[t].translation)},isTranslationLoading:function(e,t){return this._dictionary[e]&&this._dictionary[e].sections[t]&&!0===this._dictionary[e].sections[t].loading},isTranslationLoaded:function(e,t){return this._dictionary[e]&&this._dictionary[e].sections[t]&&!0===this._dictionary[e].sections[t].loaded},addTranslation:function(e,t,n){if(!a.allowPartialFileLoading&&"all"!==n)throw new Error("Partial loading has been disabled by the provider.");this._dictionary[e]||(this._dictionary[e]={sections:{}}),this._promises[e]||(this._promises[e]={sections:{}}),this._loadTranslationFileSucceed(t,e,n)},removeTranslation:function(e,t){if(t=angular.isDefined(t)&&null!==t?t:"all",a.allowPartialFileLoading){if(!this.isTranslationLoaded(e,t))return}else if("all"!==t)throw new Error("removeTranslation: You cannot pass a section when not allowing partial file loading with allowPartialFileLoading()");delete this._dictionary[e].sections[t]},switchTranslation:function(e,t){t=angular.isDefined(t)&&null!==t?t:"all",this.language=e,this.loadTranslation(e,t)},loadTranslation:function(t,n){var i,o,s=this;if(n=this._checkSectionParameter(n),!this._dictionary[t]||!this._dictionary[t].sections[n]||!0!==this._dictionary[t].sections[n].loading&&!0!==this._dictionary[t].sections[n].loaded){this._dictionary[t]||(this._dictionary[t]={sections:{}}),this._dictionary[t].sections[n]={loaded:!1,loading:!0,translation:null},this._promises[t]||(this._promises[t]={sections:{}}),this._promises[t].sections[n]||(this._promises[t].sections[n]={}),i=r.defer(),o=i.promise,o.success=function(e){return o.then(e),o},o.error=function(e){return o.then(null,e),o};var l=function(t,n,r){var o;if(angular.isArray(a._fileURL)?(r=angular.isDefined(r)?r:0,o=a._fileURL[r]):o=a._fileURL,o=o.replace(a._fileURLLanguageToken,t.replace("-","_")),a._allowPartialFileLoading){if(!a._fileURLPartToken.test(o))throw new Error("The file URL hasn't defined a token for partial loading");o=o.replace(a._fileURLPartToken,n)}return o=a.baseHref+o,e({method:"GET",url:o,cache:!1}).then(function(e){i.resolve(),s._loadTranslationFileSucceed(e.data,t,n)},function(){if(angular.isNumber(r)&&r++,"string"==typeof a._fileURL||r===a._fileURL.length){s._dictionary[t].sections[n].loaded=!0,s._dictionary[t].sections[n].loading=!1,s._dictionary[t].sections[n].translation=null,i.reject("Could not reach any of the provided URL's");var e=angular.isArray(a._fileURL)?a._fileURL.join(", "):a._fileURL;for(var o in s._promises[t].sections[n])s._promises[t].sections[n].hasOwnProperty(o)&&(s._promises[t].sections[n][o].deferrer.reject("Could not load translation files from "+e),delete s._promises[t].sections[n][o])}else l(t,n,r)})};return l(t,n),o}},_loadTranslationFileSucceed:function(e,n,r){var a,o=this;if(r=this._checkSectionParameter(r),o._dictionary[n].sections[r]={loading:!1,loaded:!0,translation:e},o._promises[n]&&o._promises[n]&&o._promises[n].sections[r])for(var s in o._promises[n].sections[r])if(o._promises[n].sections[r].hasOwnProperty(s)){try{a=o._translate.apply(o,o._promises[n].sections[r][s].arguments),o._promises[n].sections[r][s].deferrer.resolve(a)}catch(e){o._promises[n].sections[r][s].deferrer.reject(e.message),i.error(e)}delete o._promises[n].sections[r][s]}t.$broadcast("i18n.file.loaded",n,r,e)},translate:function(e,t,n){var a=this;t=this._checkSectionParameter(t);var o=a.language,s=null;Array.prototype.slice.call(arguments).splice(1,0,o);var l=function(e,t,n,i,o){o=void 0!==o&&o;var s=null,l=null;return a._promises[t]&&a._promises[t].sections[n]&&a._promises[t].sections[n][e]?a._promises[t].sections[n][e].deferrer:(s=r.defer(),l=s.promise,l.success=function(e){return l.then(e),l},l.error=function(e){return l.then(null,e),l},o||(a._promises[t].sections[n][e]={arguments:arguments,deferrer:s}),s)};if(""===e){var c=l(e,o,t,n,!0);return c.reject("No translation IDs were provided"),c.promise}if(this._dictionary[o]&&this._dictionary[o].sections[t]&&(this._dictionary[o].sections[t].loading||this._dictionary[o].sections[t].loaded)||this.loadTranslation(o,t),this._dictionary[o].sections[t].loading)return l(e,o,t,n).promise;if(this._dictionary[o]&&!this._dictionary[o].sections[t].loading&&this._dictionary[o].sections[t].loaded){if(s=l(e,o,t,n,!0),null===this._dictionary[o].sections[t].translation||"object"!=typeof this._dictionary[o].sections[t].translation)s.reject("The translation file doesn't exist");else{var u;try{u=a._translate(e,o,t,n),s.resolve(u)}catch(e){s.reject(e.message),i.error(e)}}return s.promise}}}}]}}]).filter("i18n",["$i18n","$sce","$compile","$log",function(e,t,n,r){var i=function(n,i){if(n&&!angular.isString(n))throw new Error("i18n filter error: The translation id must be a string");if(i=i||{},angular.isDefined(i)){if(angular.isDefined(i.section)&&!angular.isString(i.section))throw new Error("i18n filter error: The section id must be a string");if(angular.isDefined(i.placeholders)&&"[object Array]"!==Object.prototype.toString.call(i.placeholders))throw new Error("i18n filter error: The placeholders must be an array")}e.loadTranslation(e.language,i.section,i.placeholders);try{var a=e._getLanguageAndTranslate.call(e,n,i.section,i.placeholders)}catch(o){if(!e.debug||!e.onTranslationFailed)throw o;a=t.trustAsHtml(e.onTranslationFailed(e.language,n,i.section,i.placeholders)),r.error(o)}return a};return i.$stateful=!0,i}]).directive("i18n",["$i18n","$compile","$log",function(e,t,n){return{scope:{i18n:"=",i18nParameters:"=?"},priority:0,restrict:"A",link:function(r,i,a){r.i18nParameters=angular.extend({},r.i18nParameters),e.translate(r.i18n,r.i18nParameters.section,r.i18nParameters.placeholders).success(function(e){i.text(e)}).error(function(a){if(!e.debug||!e.onTranslationFailed)throw new Error(a);var o=e.onTranslationFailed(e.language,r.i18n,r.i18nParameters.section,r.i18nParameters.placeholders);i.html(o),t(o,r),n.error(a)})}}}]),function(e){function t(){var e=arguments[0],n=t.cache;return n[e]&&n.hasOwnProperty(e)||(n[e]=t.parse(e)),t.format.call(null,n[e],arguments)}function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,t){return Array(t+1).join(e)}var i={not_string:/[^s]/,number:/[dief]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fiosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};t.format=function(e,a){var o,s,l,c,u,d,f,h=1,p=e.length,m="",g=[],v=!0,b="";for(s=0;s<p;s++)if("string"===(m=n(e[s])))g[g.length]=e[s];else if("array"===m){if(c=e[s],c[2])for(o=a[h],l=0;l<c[2].length;l++){if(!o.hasOwnProperty(c[2][l]))throw new Error(t("[sprintf] property '%s' does not exist",c[2][l]));o=o[c[2][l]]}else o=c[1]?a[c[1]]:a[h++];if("function"==n(o)&&(o=o()),i.not_string.test(c[8])&&"number"!=n(o)&&isNaN(o))throw new TypeError(t("[sprintf] expecting number but found %s",n(o)));switch(i.number.test(c[8])&&(v=o>=0),c[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":case"i":o=parseInt(o,10);break;case"e":o=c[7]?o.toExponential(c[7]):o.toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&c[7]?o.substring(0,c[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}!i.number.test(c[8])||v&&!c[3]?b="":(b=v?"+":"-",o=o.toString().replace(i.sign,"")),d=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",f=c[6]-(b+o).length,u=c[6]&&f>0?r(d,f):"",g[g.length]=c[5]?b+o+u:"0"===d?b+u+o:u+b+o}return g.join("")},t.cache={},t.parse=function(e){for(var t=e,n=[],r=[],a=0;t;){if(null!==(n=i.text.exec(t)))r[r.length]=n[0];else if(null!==(n=i.modulo.exec(t)))r[r.length]="%";else{if(null===(n=i.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){a|=1;var o=[],s=n[2],l=[];if(null===(l=i.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=i.key_access.exec(s)))o[o.length]=l[1];else{if(null===(l=i.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=l[1]}n[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=n}t=t.substring(n[0].length)}return r};var a=function(e,n,r){return r=(n||[]).slice(0),r.splice(0,0,e),t.apply(null,r)};"undefined"!=typeof exports?(exports.sprintf=t,exports.vsprintf=a):(e.sprintf=t,e.vsprintf=a,"function"==typeof define&&define.amd&&define(function(){return{sprintf:t,vsprintf:a}}))}("undefined"==typeof window?this:window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return zn.apply(null,arguments)}function t(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function o(e,t,n,r){return Se(e,t,n,r,!0).utc()}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=s()),e._pf}function c(e){if(null==e._isValid){var t=l(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function u(e){var t=o(NaN);return null!=e?a(l(t),e):l(t).userInvalidated=!0,t}function d(e,t){var n,r,i;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=l(t)),void 0!==t._locale&&(e._locale=t._locale),Nn.length>0)for(n in Nn)r=Nn[n],void 0!==(i=t[r])&&(e[r]=i);return e}function f(t){d(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===Pn&&(Pn=!0,e.updateOffset(this),Pn=!1)}function h(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function p(e){return e<0?Math.ceil(e):Math.floor(e)}function m(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=p(t)),n}function g(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&m(e[r])!==m(t[r]))&&o++;return o+a}function v(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function y(e){for(var t,n,r,i,a=0;a<e.length;){for(i=b(e[a]).split("-"),t=i.length,n=b(e[a+1]),n=n?n.split("-"):null;t>0;){if(r=A(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&g(i,n,!0)>=t-1)break;t--}a++}return null}function A(e){var t=null;if(!In[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=$n._abbr,require("./locale/"+e),w(t)}catch(e){}return In[e]}function w(e,t){var n;return e&&(n=void 0===t?C(e):x(e,t))&&($n=n),$n._abbr}function x(e,t){return null!==t?(t.abbr=e,In[e]=In[e]||new v,In[e].set(t),w(e),In[e]):(delete In[e],null)}function C(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $n;if(!t(e)){if(n=A(e))return n;e=[e]}return y(e)}function T(e,t){var n=e.toLowerCase();Bn[n]=Bn[n+"s"]=Bn[t]=e}function k(e){return"string"==typeof e?Bn[e]||Bn[e.toLowerCase()]:void 0}function M(e){var t,n,r={};for(n in e)i(e,n)&&(t=k(n))&&(r[t]=e[n]);return r}function S(t,n){return function(r){return null!=r?(E(this,t,r),e.updateOffset(this,n),this):_(this,t)}}function _(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function E(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function O(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=k(e),"function"==typeof this[e])return this[e](t);return this}function L(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function D(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Fn[e]=i),t&&(Fn[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(Fn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function $(e){var t,n,r=e.match(Wn);for(t=0,n=r.length;t<n;t++)Fn[r[t]]?r[t]=Fn[r[t]]:r[t]=z(r[t]);return function(i){var a="";for(t=0;t<n;t++)a+=r[t]instanceof Function?r[t].call(i,e):r[t];return a}}function N(e,t){return e.isValid()?(t=P(t,e.localeData()),jn[t]=jn[t]||$(t),jn[t](e)):e.localeData().invalidDate()}function P(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Hn.lastIndex=0;r>=0&&Hn.test(e);)e=e.replace(Hn,n),Hn.lastIndex=0,r-=1;return e}function I(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function B(e,t,n){rr[e]=I(t)?t:function(e){return e&&n?n:t}}function W(e,t){return i(rr,e)?rr[e](t._strict,t._locale):new RegExp(H(e))}function H(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=m(e)}),n=0;n<e.length;n++)ir[e[n]]=r}function F(e,t){j(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function Y(e,t,n){null!=t&&i(ir,e)&&ir[e](t,n._a,n,e)}function q(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function R(e){return this._months[e.month()]}function G(e){return this._monthsShort[e.month()]}function U(e,t,n){var r,i,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=o([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function V(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(n=Math.min(e.date(),q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function K(t){return null!=t?(V(this,t),e.updateOffset(this,!0),this):_(this,"Month")}function X(){return q(this.year(),this.month())}function J(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[or]<0||n[or]>11?or:n[sr]<1||n[sr]>q(n[ar],n[or])?sr:n[lr]<0||n[lr]>24||24===n[lr]&&(0!==n[cr]||0!==n[ur]||0!==n[dr])?lr:n[cr]<0||n[cr]>59?cr:n[ur]<0||n[ur]>59?ur:n[dr]<0||n[dr]>999?dr:-1,l(e)._overflowDayOfYear&&(t<ar||t>sr)&&(t=sr),l(e).overflow=t),e}function Z(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function Q(e,t){var n=!0;return a(function(){return n&&(Z(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function ee(e,t){pr[e]||(Z(t),pr[e]=!0)}function te(e){var t,n,r=e._i,i=mr.exec(r);if(i){for(l(e).iso=!0,t=0,n=gr.length;t<n;t++)if(gr[t][1].exec(r)){e._f=gr[t][0];break}for(t=0,n=vr.length;t<n;t++)if(vr[t][1].exec(r)){e._f+=(i[6]||" ")+vr[t][0];break}r.match(er)&&(e._f+="Z"),Ae(e)}else e._isValid=!1}function ne(t){var n=br.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));te(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))}function re(e,t,n,r,i,a,o){var s=new Date(e,t,n,r,i,a,o);return e<1970&&s.setFullYear(e),s}function ie(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ae(e){return oe(e)?366:365}function oe(e){return e%4==0&&e%100!=0||e%400==0}function se(){return oe(this.year())}function le(e,t,n){var r,i=n-t,a=n-e.day();return a>i&&(a-=7),a<i-7&&(a+=7),r=_e(e).add(a,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ce(e){return le(e,this._week.dow,this._week.doy).week}function ue(){return this._week.dow}function de(){return this._week.doy}function fe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function he(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function pe(e,t,n,r,i){var a,o=6+i-r,s=ie(e,0,1+o),l=s.getUTCDay();return l<i&&(l+=7),n=null!=n?1*n:i,a=1+o+7*(t-1)-l+n,{year:a>0?e:e-1,dayOfYear:a>0?a:ae(e-1)+a}}function me(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ge(e,t,n){return null!=e?e:null!=t?t:n}function ve(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function be(e){var t,n,r,i,a=[];if(!e._d){for(r=ve(e),e._w&&null==e._a[sr]&&null==e._a[or]&&ye(e),e._dayOfYear&&(i=ge(e._a[ar],r[ar]),e._dayOfYear>ae(i)&&(l(e)._overflowDayOfYear=!0),n=ie(i,0,e._dayOfYear),e._a[or]=n.getUTCMonth(),e._a[sr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[lr]&&0===e._a[cr]&&0===e._a[ur]&&0===e._a[dr]&&(e._nextDay=!0,e._a[lr]=0),e._d=(e._useUTC?ie:re).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[lr]=24)}}function ye(e){var t,n,r,i,a,o,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,n=ge(t.GG,e._a[ar],le(_e(),1,4).year),r=ge(t.W,1),i=ge(t.E,1)):(a=e._locale._week.dow,o=e._locale._week.doy,n=ge(t.gg,e._a[ar],le(_e(),a,o).year),r=ge(t.w,1),null!=t.d?(i=t.d)<a&&++r:i=null!=t.e?t.e+a:a),s=pe(n,r,i,o,a),e._a[ar]=s.year,e._dayOfYear=s.dayOfYear}function Ae(t){if(t._f===e.ISO_8601)return void te(t);t._a=[],l(t).empty=!0;var n,r,i,a,o,s=""+t._i,c=s.length,u=0;for(i=P(t._f,t._locale).match(Wn)||[],n=0;n<i.length;n++)a=i[n],r=(s.match(W(a,t))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&l(t).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Fn[a]?(r?l(t).empty=!1:l(t).unusedTokens.push(a),Y(a,r,t)):t._strict&&!r&&l(t).unusedTokens.push(a);l(t).charsLeftOver=c-u,s.length>0&&l(t).unusedInput.push(s),!0===l(t).bigHour&&t._a[lr]<=12&&t._a[lr]>0&&(l(t).bigHour=void 0),t._a[lr]=we(t._locale,t._a[lr],t._meridiem),be(t),J(t)}function we(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function xe(e){var t,n,r,i,o;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=d({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ae(t),c(t)&&(o+=l(t).charsLeftOver,o+=10*l(t).unusedTokens.length,l(t).score=o,(null==r||o<r)&&(r=o,n=t));a(e,n||t)}function Ce(e){if(!e._d){var t=M(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],be(e)}}function Te(e){var t=new f(J(ke(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ke(e){var r=e._i,i=e._f;return e._locale=e._locale||C(e._l),null===r||void 0===i&&""===r?u({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),h(r)?new f(J(r)):(t(i)?xe(e):i?Ae(e):n(r)?e._d=r:Me(e),e))}function Me(i){var a=i._i;void 0===a?i._d=new Date:n(a)?i._d=new Date(+a):"string"==typeof a?ne(i):t(a)?(i._a=r(a.slice(0),function(e){return parseInt(e,10)}),be(i)):"object"==typeof a?Ce(i):"number"==typeof a?i._d=new Date(a):e.createFromInputFallback(i)}function Se(e,t,n,r,i){var a={};return"boolean"==typeof n&&(r=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,Te(a)}function _e(e,t,n,r){return Se(e,t,n,r,!1)}function Ee(e,n){var r,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return _e();for(r=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](r)||(r=n[i]);return r}function Oe(){return Ee("isBefore",[].slice.call(arguments,0))}function Le(){return Ee("isAfter",[].slice.call(arguments,0))}function De(e){var t=M(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=C(),this._bubble()}function ze(e){return e instanceof De}function $e(e,t){D(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)})}function Ne(e){var t=(e||"").match(er)||[],n=t[t.length-1]||[],r=(n+"").match(Cr)||["-",0,0],i=60*r[1]+m(r[2]);return"+"===r[0]?i:-i}function Pe(t,r){var i,a;return r._isUTC?(i=r.clone(),a=(h(t)||n(t)?+t:+_e(t))-+i,i._d.setTime(+i._d+a),e.updateOffset(i,!1),i):_e(t).local()}function Ie(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Be(t,n){var r,i=this._offset||0;return null!=t?("string"==typeof t&&(t=Ne(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&n&&(r=Ie(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?et(this,Ke(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ie(this)}function We(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),
this):-this.utcOffset()}function He(e){return this.utcOffset(0,e)}function je(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ie(this),"m")),this}function Fe(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ne(this._i)),this}function Ye(e){return e=e?_e(e).utcOffset():0,(this.utcOffset()-e)%60==0}function qe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Re(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var e={};if(d(e,this),e=ke(e),e._a){var t=e._isUTC?o(e._a):_e(e._a);this._isDSTShifted=this.isValid()&&g(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ge(){return!this._isUTC}function Ue(){return this._isUTC}function Ve(){return this._isUTC&&0===this._offset}function Ke(e,t){var n,r,a,o=e,s=null;return ze(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Tr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:m(s[sr])*n,h:m(s[lr])*n,m:m(s[cr])*n,s:m(s[ur])*n,ms:m(s[dr])*n}):(s=kr.exec(e))?(n="-"===s[1]?-1:1,o={y:Xe(s[2],n),M:Xe(s[3],n),d:Xe(s[4],n),h:Xe(s[5],n),m:Xe(s[6],n),s:Xe(s[7],n),w:Xe(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=Ze(_e(o.from),_e(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),r=new De(o),ze(e)&&i(e,"_locale")&&(r._locale=e._locale),r}function Xe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Je(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ze(e,t){var n;return t=Pe(t,e),e.isBefore(t)?n=Je(e,t):(n=Je(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Qe(e,t){return function(n,r){var i,a;return null===r||isNaN(+r)||(ee(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),a=n,n=r,r=a),n="string"==typeof n?+n:n,i=Ke(n,r),et(this,i,e),this}}function et(t,n,r,i){var a=n._milliseconds,o=n._days,s=n._months;i=null==i||i,a&&t._d.setTime(+t._d+a*r),o&&E(t,"Date",_(t,"Date")+o*r),s&&V(t,_(t,"Month")+s*r),i&&e.updateOffset(t,o||s)}function tt(e,t){var n=e||_e(),r=Pe(n,this).startOf("day"),i=this.diff(r,"days",!0),a=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse";return this.format(t&&t[a]||this.localeData().calendar(a,this,_e(n)))}function nt(){return new f(this)}function rt(e,t){return t=k(void 0!==t?t:"millisecond"),"millisecond"===t?(e=h(e)?e:_e(e),+this>+e):(h(e)?+e:+_e(e))<+this.clone().startOf(t)}function it(e,t){var n;return t=k(void 0!==t?t:"millisecond"),"millisecond"===t?(e=h(e)?e:_e(e),+this<+e):(n=h(e)?+e:+_e(e),+this.clone().endOf(t)<n)}function at(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ot(e,t){var n;return t=k(t||"millisecond"),"millisecond"===t?(e=h(e)?e:_e(e),+this==+e):(n=+_e(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function st(e,t,n){var r,i,a=Pe(e,this),o=6e4*(a.utcOffset()-this.utcOffset());return t=k(t),"year"===t||"month"===t||"quarter"===t?(i=lt(this,a),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-a,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:p(i)}function lt(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return t-a<0?(n=e.clone().add(i-1,"months"),r=(t-a)/(a-n)):(n=e.clone().add(i+1,"months"),r=(t-a)/(n-a)),-(i+r)}function ct(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ut(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function dt(t){var n=N(this,t||e.defaultFormat);return this.localeData().postformat(n)}function ft(e,t){return this.isValid()?Ke({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ht(e){return this.from(_e(),e)}function pt(e,t){return this.isValid()?Ke({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.to(_e(),e)}function gt(e){var t;return void 0===e?this._locale._abbr:(t=C(e),null!=t&&(this._locale=t),this)}function vt(){return this._locale}function bt(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yt(e){return e=k(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function At(){return+this._d-6e4*(this._offset||0)}function wt(){return Math.floor(+this/1e3)}function xt(){return this._offset?new Date(+this):this._d}function Ct(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function kt(){return c(this)}function Mt(){return a({},l(this))}function St(){return l(this).overflow}function _t(e,t){D(0,[e,e.length],0,t)}function Et(e,t,n){return le(_e([e,11,31+t-n]),t,n).week}function Ot(e){var t=le(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Lt(e){var t=le(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Dt(){return Et(this.year(),1,4)}function zt(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function $t(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Pt(e){return this._weekdays[e.day()]}function It(e){return this._weekdaysShort[e.day()]}function Bt(e){return this._weekdaysMin[e.day()]}function Wt(e){var t,n,r;for(this._weekdaysParse=this._weekdaysParse||[],t=0;t<7;t++)if(this._weekdaysParse[t]||(n=_e([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ht(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function jt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ft(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Yt(e,t){D(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qt(e,t){return t._meridiemParse}function Rt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Gt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ut(e,t){t[dr]=m(1e3*("0."+e))}function Vt(){return this._isUTC?"UTC":""}function Kt(){return this._isUTC?"Coordinated Universal Time":""}function Xt(e){return _e(1e3*e)}function Jt(){return _e.apply(null,arguments).parseZone()}function Zt(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.call(t,n):r}function Qt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function en(){return this._invalidDate}function tn(e){return this._ordinal.replace("%d",e)}function nn(e){return e}function rn(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)}function an(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function on(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function sn(e,t,n,r){var i=C(),a=o().set(r,t);return i[n](a,e)}function ln(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return sn(e,t,n,i);var a,o=[];for(a=0;a<r;a++)o[a]=sn(e,a,n,i);return o}function cn(e,t){return ln(e,t,"months",12,"month")}function un(e,t){return ln(e,t,"monthsShort",12,"month")}function dn(e,t){return ln(e,t,"weekdays",7,"day")}function fn(e,t){return ln(e,t,"weekdaysShort",7,"day")}function hn(e,t){return ln(e,t,"weekdaysMin",7,"day")}function pn(){var e=this._data;return this._milliseconds=Gr(this._milliseconds),this._days=Gr(this._days),this._months=Gr(this._months),e.milliseconds=Gr(e.milliseconds),e.seconds=Gr(e.seconds),e.minutes=Gr(e.minutes),e.hours=Gr(e.hours),e.months=Gr(e.months),e.years=Gr(e.years),this}function mn(e,t,n,r){var i=Ke(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function gn(e,t){return mn(this,e,t,1)}function vn(e,t){return mn(this,e,t,-1)}function bn(e){return e<0?Math.floor(e):Math.ceil(e)}function yn(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*bn(wn(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=p(a/1e3),l.seconds=e%60,t=p(e/60),l.minutes=t%60,n=p(t/60),l.hours=n%24,o+=p(n/24),i=p(An(o)),s+=i,o-=bn(wn(i)),r=p(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function An(e){return 4800*e/146097}function wn(e){return 146097*e/4800}function xn(e){var t,n,r=this._milliseconds;if("month"===(e=k(e))||"year"===e)return t=this._days+r/864e5,n=this._months+An(t),"month"===e?n:n/12;switch(t=this._days+Math.round(wn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Cn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function Tn(e){return function(){return this.as(e)}}function kn(e){return e=k(e),this[e+"s"]()}function Mn(e){return function(){return this._data[e]}}function Sn(){return p(this.days()/7)}function _n(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function En(e,t,n){var r=Ke(e).abs(),i=li(r.as("s")),a=li(r.as("m")),o=li(r.as("h")),s=li(r.as("d")),l=li(r.as("M")),c=li(r.as("y")),u=i<ci.s&&["s",i]||1===a&&["m"]||a<ci.m&&["mm",a]||1===o&&["h"]||o<ci.h&&["hh",o]||1===s&&["d"]||s<ci.d&&["dd",s]||1===l&&["M"]||l<ci.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,_n.apply(null,u)}function On(e,t){return void 0!==ci[e]&&(void 0===t?ci[e]:(ci[e]=t,!0))}function Ln(e){var t=this.localeData(),n=En(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Dn(){var e,t,n,r=ui(this._milliseconds)/1e3,i=ui(this._days),a=ui(this._months);e=p(r/60),t=p(e/60),r%=60,e%=60,n=p(a/12),a%=12;var o=n,s=a,l=i,c=t,u=e,d=r,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var zn,$n,Nn=e.momentProperties=[],Pn=!1,In={},Bn={},Wn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jn={},Fn={},Yn=/\d/,qn=/\d\d/,Rn=/\d{3}/,Gn=/\d{4}/,Un=/[+-]?\d{6}/,Vn=/\d\d?/,Kn=/\d{1,3}/,Xn=/\d{1,4}/,Jn=/[+-]?\d{1,6}/,Zn=/\d+/,Qn=/[+-]?\d+/,er=/Z|[+-]\d\d:?\d\d/gi,tr=/[+-]?\d+(\.\d{1,3})?/,nr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,rr={},ir={},ar=0,or=1,sr=2,lr=3,cr=4,ur=5,dr=6;D("M",["MM",2],"Mo",function(){return this.month()+1}),D("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),D("MMMM",0,0,function(e){return this.localeData().months(this,e)}),T("month","M"),B("M",Vn),B("MM",Vn,qn),B("MMM",nr),B("MMMM",nr),j(["M","MM"],function(e,t){t[or]=m(e)-1}),j(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[or]=i:l(n).invalidMonth=e});var fr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pr={};e.suppressDeprecationWarnings=!1;var mr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],vr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],br=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=Q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),D(0,["YY",2],0,function(){return this.year()%100}),D(0,["YYYY",4],0,"year"),D(0,["YYYYY",5],0,"year"),D(0,["YYYYYY",6,!0],0,"year"),T("year","y"),B("Y",Qn),B("YY",Vn,qn),B("YYYY",Xn,Gn),B("YYYYY",Jn,Un),B("YYYYYY",Jn,Un),j(["YYYYY","YYYYYY"],ar),j("YYYY",function(t,n){n[ar]=2===t.length?e.parseTwoDigitYear(t):m(t)}),j("YY",function(t,n){n[ar]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return m(e)+(m(e)>68?1900:2e3)};var yr=S("FullYear",!1);D("w",["ww",2],"wo","week"),D("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),B("w",Vn),B("ww",Vn,qn),B("W",Vn),B("WW",Vn,qn),F(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=m(e)});var Ar={dow:0,doy:6};D("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),B("DDD",Kn),B("DDDD",Rn),j(["DDD","DDDD"],function(e,t,n){n._dayOfYear=m(e)}),e.ISO_8601=function(){};var wr=Q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=_e.apply(null,arguments);return e<this?this:e}),xr=Q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=_e.apply(null,arguments);return e>this?this:e});$e("Z",":"),$e("ZZ",""),B("Z",er),B("ZZ",er),j(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ne(e)});var Cr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Tr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,kr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ke.fn=De.prototype;var Mr=Qe(1,"add"),Sr=Qe(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var _r=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});D(0,["gg",2],0,function(){return this.weekYear()%100}),D(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_t("gggg","weekYear"),_t("ggggg","weekYear"),_t("GGGG","isoWeekYear"),_t("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),B("G",Qn),B("g",Qn),B("GG",Vn,qn),B("gg",Vn,qn),B("GGGG",Xn,Gn),B("gggg",Xn,Gn),B("GGGGG",Jn,Un),B("ggggg",Jn,Un),F(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=m(e)}),F(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),D("Q",0,0,"quarter"),T("quarter","Q"),B("Q",Yn),j("Q",function(e,t){t[or]=3*(m(e)-1)}),D("D",["DD",2],"Do","date"),T("date","D"),B("D",Vn),B("DD",Vn,qn),B("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),j(["D","DD"],sr),j("Do",function(e,t){t[sr]=m(e.match(Vn)[0],10)});var Er=S("Date",!0);D("d",0,"do","day"),D("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),D("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),D("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),D("e",0,0,"weekday"),D("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),B("d",Vn),B("e",Vn),B("E",Vn),B("dd",nr),B("ddd",nr),B("dddd",nr),F(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:l(n).invalidWeekday=e}),F(["d","e","E"],function(e,t,n,r){t[r]=m(e)});var Or="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");D("H",["HH",2],0,"hour"),D("h",["hh",2],0,function(){return this.hours()%12||12}),Yt("a",!0),Yt("A",!1),T("hour","h"),B("a",qt),B("A",qt),B("H",Vn),B("h",Vn),B("HH",Vn,qn),B("hh",Vn,qn),j(["H","HH"],lr),j(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),j(["h","hh"],function(e,t,n){t[lr]=m(e),l(n).bigHour=!0});var zr=/[ap]\.?m?\.?/i,$r=S("Hours",!0);D("m",["mm",2],0,"minute"),T("minute","m"),B("m",Vn),B("mm",Vn,qn),j(["m","mm"],cr);var Nr=S("Minutes",!1);D("s",["ss",2],0,"second"),T("second","s"),B("s",Vn),B("ss",Vn,qn),j(["s","ss"],ur);var Pr=S("Seconds",!1);D("S",0,0,function(){return~~(this.millisecond()/100)}),D(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),D(0,["SSS",3],0,"millisecond"),D(0,["SSSS",4],0,function(){return 10*this.millisecond()}),D(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),D(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),D(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),D(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),D(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),B("S",Kn,Yn),B("SS",Kn,qn),B("SSS",Kn,Rn);var Ir;for(Ir="SSSS";Ir.length<=9;Ir+="S")B(Ir,Zn);for(Ir="S";Ir.length<=9;Ir+="S")j(Ir,Ut);var Br=S("Milliseconds",!1);D("z",0,0,"zoneAbbr"),D("zz",0,0,"zoneName");var Wr=f.prototype;Wr.add=Mr,Wr.calendar=tt,Wr.clone=nt,Wr.diff=st,Wr.endOf=yt,Wr.format=dt,Wr.from=ft,Wr.fromNow=ht,Wr.to=pt,Wr.toNow=mt,Wr.get=O,Wr.invalidAt=St,Wr.isAfter=rt,Wr.isBefore=it,Wr.isBetween=at,Wr.isSame=ot,Wr.isValid=kt,Wr.lang=_r,Wr.locale=gt,Wr.localeData=vt,Wr.max=xr,Wr.min=wr,Wr.parsingFlags=Mt,Wr.set=O,Wr.startOf=bt,Wr.subtract=Sr,Wr.toArray=Ct,Wr.toObject=Tt,Wr.toDate=xt,Wr.toISOString=ut,Wr.toJSON=ut,Wr.toString=ct,Wr.unix=wt,Wr.valueOf=At,Wr.year=yr,Wr.isLeapYear=se,Wr.weekYear=Ot,Wr.isoWeekYear=Lt,Wr.quarter=Wr.quarters=$t,Wr.month=K,Wr.daysInMonth=X,Wr.week=Wr.weeks=fe,Wr.isoWeek=Wr.isoWeeks=he,Wr.weeksInYear=zt,Wr.isoWeeksInYear=Dt,Wr.date=Er,Wr.day=Wr.days=Ht,Wr.weekday=jt,Wr.isoWeekday=Ft,Wr.dayOfYear=me,Wr.hour=Wr.hours=$r,Wr.minute=Wr.minutes=Nr,Wr.second=Wr.seconds=Pr,Wr.millisecond=Wr.milliseconds=Br,Wr.utcOffset=Be,Wr.utc=He,Wr.local=je,Wr.parseZone=Fe,Wr.hasAlignedHourOffset=Ye,Wr.isDST=qe,Wr.isDSTShifted=Re,Wr.isLocal=Ge,Wr.isUtcOffset=Ue,Wr.isUtc=Ve,Wr.isUTC=Ve,Wr.zoneAbbr=Vt,Wr.zoneName=Kt,Wr.dates=Q("dates accessor is deprecated. Use date instead.",Er),Wr.months=Q("months accessor is deprecated. Use month instead",K),Wr.years=Q("years accessor is deprecated. Use year instead",yr),Wr.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",We);var Hr=Wr,jr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Yr=/\d{1,2}/,qr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Rr=v.prototype;Rr._calendar=jr,Rr.calendar=Zt,Rr._longDateFormat=Fr,Rr.longDateFormat=Qt,Rr._invalidDate="Invalid date",Rr.invalidDate=en,Rr._ordinal="%d",Rr.ordinal=tn,Rr._ordinalParse=Yr,Rr.preparse=nn,Rr.postformat=nn,Rr._relativeTime=qr,Rr.relativeTime=rn,Rr.pastFuture=an,Rr.set=on,Rr.months=R,Rr._months=fr,Rr.monthsShort=G,Rr._monthsShort=hr,Rr.monthsParse=U,Rr.week=ce,Rr._week=Ar,Rr.firstDayOfYear=de,Rr.firstDayOfWeek=ue,Rr.weekdays=Pt,Rr._weekdays=Or,Rr.weekdaysMin=Bt,Rr._weekdaysMin=Dr,Rr.weekdaysShort=It,Rr._weekdaysShort=Lr,Rr.weekdaysParse=Wt,Rr.isPM=Rt,Rr._meridiemParse=zr,Rr.meridiem=Gt,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=Q("moment.lang is deprecated. Use moment.locale instead.",w),e.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",C);var Gr=Math.abs,Ur=Tn("ms"),Vr=Tn("s"),Kr=Tn("m"),Xr=Tn("h"),Jr=Tn("d"),Zr=Tn("w"),Qr=Tn("M"),ei=Tn("y"),ti=Mn("milliseconds"),ni=Mn("seconds"),ri=Mn("minutes"),ii=Mn("hours"),ai=Mn("days"),oi=Mn("months"),si=Mn("years"),li=Math.round,ci={s:45,m:45,h:22,d:26,M:11},ui=Math.abs,di=De.prototype;return di.abs=pn,di.add=gn,di.subtract=vn,di.as=xn,di.asMilliseconds=Ur,di.asSeconds=Vr,di.asMinutes=Kr,di.asHours=Xr,di.asDays=Jr,di.asWeeks=Zr,di.asMonths=Qr,di.asYears=ei,di.valueOf=Cn,di._bubble=yn,di.get=kn,di.milliseconds=ti,di.seconds=ni,di.minutes=ri,di.hours=ii,di.days=ai,di.weeks=Sn,di.months=oi,di.years=si,di.humanize=Ln,di.toISOString=Dn,di.toString=Dn,di.toJSON=Dn,di.locale=gt,di.localeData=vt,di.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dn),di.lang=_r,D("X",0,0,"unix"),D("x",0,0,"valueOf"),B("x",Qn),B("X",tr),j("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),j("x",function(e,t,n){n._d=new Date(m(e))}),e.version="2.10.6",function(e){zn=e}(_e),e.fn=Hr,e.min=Oe,e.max=Le,e.utc=o,e.unix=Xt,e.months=cn,e.isDate=n,e.locale=w,e.invalid=u,e.duration=Ke,e.isMoment=h,e.weekdays=dn,e.parseZone=Jt,e.localeData=C,e.isDuration=ze,e.monthsShort=un,e.weekdaysMin=hn,e.defineLocale=x,e.weekdaysShort=fn,e.normalizeUnits=k,e.relativeTimeThreshold=On,e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n,r=0,i=e.split("."),a=i[0],o=i[1]||"",s=1,l=0,c=1;for(45===e.charCodeAt(0)&&(r=1,c=-1),r;r<a.length;r++)n=t(a.charCodeAt(r)),l=60*l+n;for(r=0;r<o.length;r++)s/=60,n=t(o.charCodeAt(r)),l+=n*s;return l*c}function r(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function i(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function a(e,t){var n,r=[];for(n=0;n<t.length;n++)r[n]=e[t[n]];return r}function o(e){var t=e.split("|"),n=t[2].split(" "),o=t[3].split(""),s=t[4].split(" ");return r(n),r(o),r(s),i(s,o.length),{name:t[0],abbrs:a(t[1].split(" "),o),offsets:a(n,o),untils:s}}function s(e){e&&this._set(o(e))}function l(e){return(e||"").toLowerCase().replace(/\//g,"_")}function c(e){var t,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|")[0],r=l(n),y[r]=e[t],w[r]=n}function u(e,t){e=l(e);var n,r=y[e];return r instanceof s?r:"string"==typeof r?(r=new s(r),y[e]=r,r):A[e]&&t!==u&&(n=u(A[e],u))?(r=y[e]=new s,r._set(n),r.name=w[e],r):null}function d(){var e,t=[];for(e in w)w.hasOwnProperty(e)&&(y[e]||y[A[e]])&&w[e]&&t.push(w[e]);return t.sort()}function f(e){var t,n,r,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),r=l(n[0]),i=l(n[1]),A[r]=i,w[r]=n[0],A[i]=r,w[i]=n[1]}function h(e){c(e.zones),f(e.links),v.dataVersion=e.version}function p(e){return p.didShowError||(p.didShowError=!0,g("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!u(e)}function m(e){return!(!e._a||void 0!==e._tzm)}function g(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function v(t){var n=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],i=u(r),a=e.utc.apply(null,n);return i&&!e.isMoment(t)&&m(a)&&a.add(i.parse(a),"minutes"),a.tz(r),a}function b(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}if(void 0!==e.tz)return g("Moment Timezone "+e.tz.version+" was already loaded "+(e.tz.dataVersion?"with data from ":"without any data")+e.tz.dataVersion),e;var y={},A={},w={},x=e.version.split("."),C=+x[0],T=+x[1];(C<2||2===C&&T<6)&&g("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},_index:function(e){var t,n=+e,r=this.untils;for(t=0;t<r.length;t++)if(n<r[t])return t},parse:function(e){var t,n,r,i,a=+e,o=this.offsets,s=this.untils,l=s.length-1;for(i=0;i<l;i++)if(t=o[i],n=o[i+1],r=o[i?i-1:i],t<n&&v.moveAmbiguousForward?t=n:t>r&&v.moveInvalidForward&&(t=r),a<s[i]-6e4*t)return o[i];return o[l]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},v.version="0.4.1",v.dataVersion="",v._zones=y,v._links=A,v._names=w,v.add=c,v.link=f,v.load=h,v.zone=u,v.zoneExists=p,v.names=d,v.Zone=s,v.unpack=o,v.unpackBase60=n,v.needsOffset=m,v.moveInvalidForward=!0,v.moveAmbiguousForward=!1;var k=e.fn;e.tz=v,e.defaultZone=null,e.updateOffset=function(t,n){var r,i=e.defaultZone;void 0===t._z&&(i&&m(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(r=t._z.offset(t),Math.abs(r)<16&&(r/=60),void 0!==t.utcOffset?t.utcOffset(-r,n):t.zone(r,n))},k.tz=function(t){return t?(this._z=u(t),this._z?e.updateOffset(this):g("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},k.zoneName=b(k.zoneName),k.zoneAbbr=b(k.zoneAbbr),k.utc=function(e){return function(){return this._z=null,e.apply(this,arguments)}}(k.utc),e.tz.setDefault=function(t){return(C<2||2===C&&T<9)&&g("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?u(t):null,e};var M=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(M)?(M.push("_z"),M.push("_a")):M&&(M._z=null),h({version:"2015g",
zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Cayman|EST EDT|50 40|01010101010|1Qtj0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Merida|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT CLT|30 40 30|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Seoul|KST|-90|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST EAST|50 60 50|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Merida|America/Mexico_City","America/Merida|America/Monterrey","America/Merida|Mexico/General","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Samarkand|Asia/Tashkent","Asia/Seoul|ROK","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Chisinau|Europe/Tiraspol","Europe/Moscow|Europe/Volgograd","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]}),e}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.printStackTrace=t()}(this,function(){function e(t){t=t||{guess:!0};var n=t.e||null,r=!!t.guess,i=t.mode||null,a=new e.implementation,o=a.run(n,i);return r?a.guessAnonymousFunctions(o):o}return e.implementation=function(){},e.implementation.prototype={run:function(e,t){return e=e||this.createException(),t=t||this.mode(e),"other"===t?this.other(arguments.callee):this[t](e)},createException:function(){try{this.undef()}catch(e){return e}},mode:function(e){return"undefined"!=typeof window&&window.navigator.userAgent.indexOf("PhantomJS")>-1?"phantomjs":e.arguments&&e.stack?"chrome":e.stack&&e.sourceURL?"safari":e.stack&&e.number?"ie":e.stack&&e.fileName?"firefox":e.message&&e["opera#sourceloc"]?e.stacktrace?e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?"opera9":"opera10a":"opera9":e.message&&e.stack&&e.stacktrace?e.stacktrace.indexOf("called from line")<0?"opera10b":"opera11":e.stack&&!e.fileName?"chrome":"other"},instrumentFunction:function(t,n,r){t=t||window;var i=t[n];t[n]=function(){return r.call(this,e().slice(4)),t[n]._instrumented.apply(this,arguments)},t[n]._instrumented=i},deinstrumentFunction:function(e,t){e[t].constructor===Function&&e[t]._instrumented&&e[t]._instrumented.constructor===Function&&(e[t]=e[t]._instrumented)},chrome:function(e){return(e.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(0,-1)},safari:function(e){return e.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(e){return e.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(e){return e.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(e){for(var t=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,n=e.stacktrace.split("\n"),r=[],i=0,a=n.length;i<a;i+=2){var o=t.exec(n[i]);if(o){var s=o[4]+":"+o[1]+":"+o[2],l=o[3]||"global code";l=l.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,"{anonymous}"),r.push(l+"@"+s+" -- "+n[i+1].replace(/^\s+/,""))}}return r},opera10b:function(e){for(var t=/^(.*)@(.+):(\d+)$/,n=e.stacktrace.split("\n"),r=[],i=0,a=n.length;i<a;i++){var o=t.exec(n[i]);if(o){var s=o[1]?o[1]+"()":"global code";r.push(s+"@"+o[2]+":"+o[3])}}return r},opera10a:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),r=[],i=0,a=n.length;i<a;i+=2){var o=t.exec(n[i]);if(o){var s=o[3]||"{anonymous}";r.push(s+"()@"+o[2]+":"+o[1]+" -- "+n[i+1].replace(/^\s+/,""))}}return r},opera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),r=[],i=2,a=n.length;i<a;i+=2){var o=t.exec(n[i]);o&&r.push("{anonymous}()@"+o[2]+":"+o[1]+" -- "+n[i+1].replace(/^\s+/,""))}return r},phantomjs:function(e){for(var t=/(\S+) \((\S+)\)/i,n=e.stack.split("\n"),r=[],i=1,a=n.length;i<a;i++){n[i]=n[i].replace(/^\s+at\s+/gm,"");var o=t.exec(n[i]);o?r.push(o[1]+"()@"+o[2]):r.push("{anonymous}()@"+n[i])}return r},other:function(e){for(var t,n,r=/function(?:\s+([\w$]+))?\s*\(/,i=[],a=Array.prototype.slice;e&&i.length<10;){t=r.test(e.toString())?RegExp.$1||"{anonymous}":"{anonymous}";try{n=a.call(e.arguments||[])}catch(e){n=["Cannot access arguments: "+e]}i[i.length]=t+"("+this.stringifyArguments(n)+")";try{e=e.caller}catch(e){i[i.length]="Cannot access caller: "+e;break}}return i},stringifyArguments:function(e){for(var t=[],n=Array.prototype.slice,r=0;r<e.length;++r){var i=e[r];void 0===i?t[r]="undefined":null===i?t[r]="null":i.constructor&&(i.constructor===Array?i.length<3?t[r]="["+this.stringifyArguments(i)+"]":t[r]="["+this.stringifyArguments(n.call(i,0,1))+"..."+this.stringifyArguments(n.call(i,-1))+"]":i.constructor===Object?t[r]="#object":i.constructor===Function?t[r]="#function":i.constructor===String?t[r]='"'+i+'"':i.constructor===Number?t[r]=i:t[r]="?")}return t.join(",")},sourceCache:{},ajax:function(e){var t=this.createXMLHTTPObject();if(t)try{return t.open("GET",e,!1),t.send(null),t.responseText}catch(e){}return""},createXMLHTTPObject:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0;n<t.length;n++)try{return e=t[n](),this.createXMLHTTPObject=t[n],e}catch(e){}},isSameDomain:function(e){return"undefined"!=typeof location&&-1!==e.indexOf(location.hostname)},getSource:function(e){
return e in this.sourceCache||(this.sourceCache[e]=this.ajax(e).split("\n")),this.sourceCache[e]},guessAnonymousFunctions:function(e){for(var t=0;t<e.length;++t){var n=/\{anonymous\}\(.*\)@(.*)/,r=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,i=e[t],a=n.exec(i);if(a){var o=r.exec(a[1]);if(o){var s=o[1],l=o[2],c=o[3]||0;if(s&&this.isSameDomain(s)&&l){var u=this.guessAnonymousFunction(s,l,c);e[t]=i.replace("{anonymous}",u)}}}}return e},guessAnonymousFunction:function(e,t,n){var r;try{r=this.findFunctionName(this.getSource(e),t)}catch(t){r="getSource failed with url: "+e+", exception: "+t.toString()}return r},findFunctionName:function(e,t){for(var n,r,i,a=/function\s+([^(]*?)\s*\(([^)]*)\)/,o=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,s=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,l="",c=Math.min(t,20),u=0;u<c;++u)if(n=e[t-u-1],i=n.indexOf("//"),i>=0&&(n=n.substr(0,i)),n){if(l=n+l,(r=o.exec(l))&&r[1])return r[1];if((r=a.exec(l))&&r[1])return r[1];if((r=s.exec(l))&&r[1])return r[1]}return"(?)"}},e}),angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(e){return e({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var e=angular.element('<input type="text" class="form-control" ng-model="$data"/>'),t=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),n=angular.element('<span class="input-group-btn"></span>');e.attr("uib-datepicker-popup",this.attrs.eDatepickerPopupXEditable||"yyyy/MM/dd"),e.attr("is-open",this.attrs.eIsOpen),e.attr("date-disabled",this.attrs.eDateDisabled),e.attr("uib-datepicker-popup",this.attrs.eDatepickerPopup),e.attr("min-date",this.attrs.eMinDate),e.attr("max-date",this.attrs.eMaxDate),e.attr("year-range",this.attrs.eYearRange||20),e.attr("show-button-bar",this.attrs.eShowButtonBar||!0),e.attr("current-text",this.attrs.eCurrentText||"Today"),e.attr("clear-text",this.attrs.eClearText||"Clear"),e.attr("close-text",this.attrs.eCloseText||"Done"),e.attr("close-on-date-selection",this.attrs.eCloseOnDateSelection||!0),e.attr("datepicker-append-to-body",this.attrs.eDatePickerAppendToBody||!1),e.attr("date-disabled",this.attrs.eDateDisabled),e.attr("name",this.attrs.eName),this.scope.dateOptions={formatDay:this.attrs.eFormatDay||"dd",formatMonth:this.attrs.eFormatMonth||"MMMM",formatYear:this.attrs.eFormatYear||"yyyy",formatDayHeader:this.attrs.eFormatDayHeader||"EEE",formatDayTitle:this.attrs.eFormatDayTitle||"MMMM yyyy",formatMonthTitle:this.attrs.eFormatMonthTitle||"yyyy",showWeeks:!this.attrs.eShowWeeks||"true"===this.attrs.eShowWeeks.toLowerCase(),startingDay:this.attrs.eStartingDay||0,minMode:this.attrs.eMinMode||"day",maxMode:this.attrs.eMaxMode||"year",initDate:this.attrs.eInitDate||new Date,datepickerMode:this.attrs.eDatepickerMode||"day"},e.attr("datepicker-options","dateOptions"),t.attr("ng-click",this.attrs.eNgClick),n.append(t),this.inputEl.prepend(e),this.inputEl.append(n),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<uib-timepicker></uib-timepicker>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.parent().append(this.attrs.eTitle))},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),n='<label ng-repeat="'+e.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$data" checklist-value="'+e.locals.valueFn+'"><span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(e,t){return e({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var e={value:new Date(this.scope.$data)},n=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(t){var r="e"+t.charAt(0).toUpperCase()+t.slice(1);r in n.attrs&&(e[t]=n.attrs[r])});var r=t.getInstance(this.inputEl,e);r.$widget.find("select").bind("change",function(e){n.scope.$data=new Date(r.getValue()).toISOString()})}})}]),function(){var e="text|password|email|tel|number|url|search|color|date|datetime|time|month|week|file".split("|");angular.forEach(e,function(e){var t="editable"+e.charAt(0).toUpperCase()+e.slice(1);angular.module("xeditable").directive(t,["editableDirectiveFactory",function(n){return n({directiveName:t,inputTpl:'<input type="'+e+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(e){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),n='<label ng-repeat="'+e.ngRepeat+'"><input type="radio" ng-disabled="'+this.attrs.eNgDisabled+'" ng-model="$parent.$data" value="{{'+e.locals.valueFn+'}}"><span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(n)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var e=this;e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var e=this;e.parent.addListeners.call(e),e.single&&"no"!==e.buttons&&e.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){(t.ctrlKey||t.metaKey)&&13===t.keyCode&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory",function(e){var t=function(e,t){var n=angular.element("<"+e+"/>");n.html(t.html());for(var r=t[0].attributes,i=0;i<r.length;++i)n.attr(r.item(i).nodeName,r.item(i).value);return n},n=null,r=null,i=e({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(t("ui-select-match",n)),this.inputEl.append(t("ui-select-choices",r)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),a=i.link;return i.link=function(e,t,i,o){var s=t.find("editable-ui-select-match"),l=t.find("editable-ui-select-choices");return n=s.clone(),r=l.clone(),s.remove(),l.remove(),a(e,t,i,o)},i}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,t){function n(e,n,r,i,a,o,s,l,c,u){var d,f,h=this;h.scope=e,h.elem=r,h.attrs=n,h.inputEl=null,h.editorEl=null,h.single=!0,h.error="",h.theme=a[s.theme]||a.default,h.parent={},h.icon_set="default"===s.icon_set?o.default[s.theme]:o.external[s.icon_set],h.inputTpl="",h.directiveName="",h.useCopy=!1,h.single=null,h.buttons="right",h.init=function(t){if(h.single=t,h.name=n.eName||n[h.directiveName],!n[h.directiveName])throw"You should provide value for `"+h.directiveName+"` in editable element!";d=i(n[h.directiveName]),h.single?h.buttons=h.attrs.buttons||s.buttons:h.buttons="no",n.eName&&h.scope.$watch("$data",function(e){h.scope.$form.$data[n.eName]=e}),n.onshow&&(h.onshow=function(){return h.catchError(i(n.onshow)(e))}),n.onhide&&(h.onhide=function(){return i(n.onhide)(e)}),n.oncancel&&(h.oncancel=function(){return i(n.oncancel)(e)}),n.onbeforesave&&(h.onbeforesave=function(){return h.catchError(i(n.onbeforesave)(e))}),n.onaftersave&&(h.onaftersave=function(){return h.catchError(i(n.onaftersave)(e))}),e.$parent.$watch(n[h.directiveName],function(e,t){h.setLocalValue(),h.handleEmpty()})},h.render=function(){var e=h.theme;h.inputEl=angular.element(h.inputTpl),h.controlsEl=angular.element(e.controlsTpl),h.controlsEl.append(h.inputEl),"no"!==h.buttons&&(h.buttonsEl=angular.element(e.buttonsTpl),h.submitEl=angular.element(e.submitTpl),h.cancelEl=angular.element(e.cancelTpl),h.icon_set&&(h.submitEl.find("span").addClass(h.icon_set.ok),h.cancelEl.find("span").addClass(h.icon_set.cancel)),h.buttonsEl.append(h.submitEl).append(h.cancelEl),h.controlsEl.append(h.buttonsEl),h.inputEl.addClass("editable-has-buttons")),h.errorEl=angular.element(e.errorTpl),h.controlsEl.append(h.errorEl),h.editorEl=angular.element(h.single?e.formTpl:e.noformTpl),h.editorEl.append(h.controlsEl);for(var r in n.$attr)if(!(r.length<=1)){var i=!1,a=r.substring(1,2);if("e"===r.substring(0,1)&&a===a.toUpperCase()&&"Form"!==(i=r.substring(1))&&"NgSubmit"!==i){i=i.substring(0,1).toLowerCase()+t.camelToDash(i.substring(1));var o="value"!==i&&""===n[r]?i:n[r];h.inputEl.attr(i,o)}}h.inputEl.addClass("editable-input"),h.inputEl.attr("ng-model","$data"),h.editorEl.addClass(t.camelToDash(h.directiveName)),h.single&&(h.editorEl.attr("editable-form","$form"),h.editorEl.attr("blur",h.attrs.blur||("no"===h.buttons?"cancel":s.blurElem))),angular.isFunction(e.postrender)&&e.postrender.call(h)},h.setLocalValue=function(){h.scope.$data=h.useCopy?angular.copy(d(e.$parent)):d(e.$parent)},h.show=function(){return h.setLocalValue(),h.render(),r.after(h.editorEl),c(h.editorEl)(e),h.addListeners(),r.addClass("editable-hide"),h.onshow()},h.hide=function(){return h.editorEl.remove(),r.removeClass("editable-hide"),h.onhide()},h.cancel=function(){h.oncancel()},h.addListeners=function(){h.inputEl.bind("keyup",function(e){if(h.single)switch(e.keyCode){case 27:h.scope.$apply(function(){h.scope.$form.$cancel()})}}),h.single&&"no"===h.buttons&&h.autosubmit(),h.editorEl.bind("click",function(e){e.which&&1!==e.which||h.scope.$form.$visible&&(h.scope.$form._clicked=!0)})},h.setWaiting=function(e){e?(f=!h.inputEl.attr("disabled")&&!h.inputEl.attr("ng-disabled")&&!h.inputEl.attr("ng-enabled"))&&(h.inputEl.attr("disabled","disabled"),h.buttonsEl&&h.buttonsEl.find("button").attr("disabled","disabled")):f&&(h.inputEl.removeAttr("disabled"),h.buttonsEl&&h.buttonsEl.find("button").removeAttr("disabled"))},h.activate=function(e,t){setTimeout(function(){var n=h.inputEl[0];"focus"===s.activate&&n.focus&&(e&&(t=t||e,n.onfocus=function(){var n=this;setTimeout(function(){n.setSelectionRange(e,t)})}),n.focus()),"select"===s.activate&&n.select&&n.select()},0)},h.setError=function(t){angular.isObject(t)||(e.$error=t,h.error=t)},h.catchError=function(e,t){return angular.isObject(e)&&!0!==t?u.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},h.save=function(){d.assign(e.$parent,h.useCopy?angular.copy(h.scope.$data):h.scope.$data)},h.handleEmpty=function(){var t=d(e.$parent),n=null===t||void 0===t||""===t||angular.isArray(t)&&0===t.length;r.toggleClass("editable-empty",n)},h.autosubmit=angular.noop,h.onshow=angular.noop,h.onhide=angular.noop,h.oncancel=angular.noop,h.onbeforesave=angular.noop,h.onaftersave=angular.noop}return n.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q"],n}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(e,t,n,r,i,a,o,s){return function(t){return{restrict:"A",scope:!0,require:[t.directiveName,"?^form"],controller:a,link:function(n,a,l,c){var u,d=c[0],f=!1;if(c[1])u=c[1],f=void 0===l.eSingle;else if(l.eForm){var h=e(l.eForm)(n);if(h)u=h,f=!0;else for(var p=0;p<i[0].forms.length;p++)if(i[0].forms[p].name===l.eForm){u=null,f=!0;break}}if(angular.forEach(t,function(e,t){void 0!==d[t]&&(d.parent[t]=d[t])}),angular.extend(d,t),!(angular.isDefined(l.editDisabled)?n.$eval(l.editDisabled):s.isDisabled))if(d.init(!f),n.$editable=d,a.addClass("editable"),f)if(u){if(n.$form=u,!n.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";n.$form.$addEditable(d)}else r.$$editableBuffer=r.$$editableBuffer||{},r.$$editableBuffer[l.eForm]=r.$$editableBuffer[l.eForm]||[],r.$$editableBuffer[l.eForm].push(d),n.$form=null;else n.$form=o(),n.$form.$addEditable(d),l.eForm&&(n.$parent[l.eForm]=n.$form),(!l.eForm||l.eClickable)&&(a.addClass("editable-click"),a.bind(s.activationEvent,function(e){e.preventDefault(),e.editable=d,n.$apply(function(){n.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(e,t,n,r,i){var a=[],o=function(e,t){if(t==e)return!0;for(var n=t.parentNode;null!==n;){if(n==e)return!0;n=n.parentNode}return!1},s=function(e,t){var n=!0,r=e.$editables;return angular.forEach(r,function(e){var r=e.editorEl[0];o(r,t.target)&&(n=!1)}),n};t.bind("click",function(e){if(!e.which||1===e.which){for(var t=[],r=[],i=0;i<a.length;i++)a[i]._clicked?a[i]._clicked=!1:a[i].$waiting||("cancel"===a[i]._blur&&s(a[i],e)&&t.push(a[i]),"submit"===a[i]._blur&&s(a[i],e)&&r.push(a[i]));(t.length||r.length)&&n.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(r,function(e){e.$submit()})})}}),n.$on("closeEdit",function(){for(var e=0;e<a.length;e++)a[e].$hide()});var l={$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show()),e.catchError(e.setWaiting(this.$waiting))},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return void this.$editables.splice(t,1)},$show:function(){if(!this.$visible){this.$visible=!0;var e=r();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===i.indexOf(a,this)&&a.push(this)}),0)}},$activate:function(e){var t;if(this.$editables.length){if(angular.isString(e))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===e)return void this.$editables[t].activate();for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return void this.$editables[t].activate();this.$editables[0].activate(this.$editables[0].elem[0].selectionStart,this.$editables[0].elem[0].selectionEnd)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),i.arrayRemove(a,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,t){angular.forEach(this.$editables,function(n){e&&n.name!==e||n.setError(t)})},$submit:function(){function e(e){var t=r();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var t=r();angular.forEach(this.$editables,function(e){t.when(e.onbeforesave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,e,!0),onFalse:angular.bind(this,e,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var e=r();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},l)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(e,t,n,r){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,r,i,a){var o,s=a[0];i.editableForm?t[i.editableForm]&&t[i.editableForm].$show?(o=t[i.editableForm],angular.extend(s,o)):(o=n(),t[i.editableForm]=o,angular.extend(o,s)):(o=n(),angular.extend(s,o));var l=e.$$editableBuffer,c=s.$name;c&&l&&l[c]&&(angular.forEach(l[c],function(e){o.$addEditable(e)}),delete l[c])},post:function(e,n,i,a){var o;o=i.editableForm&&e[i.editableForm]&&e[i.editableForm].$show?e[i.editableForm]:a[0],i.onshow&&(o.$onshow=angular.bind(o,t(i.onshow),e)),i.onhide&&(o.$onhide=angular.bind(o,t(i.onhide),e)),i.oncancel&&(o.$oncancel=angular.bind(o,t(i.oncancel),e)),i.shown&&t(i.shown)(e)&&o.$show(),o._blur=i.blur||r.blurForm,i.ngSubmit||i.submit||(i.onbeforesave&&(o.$onbeforesave=function(){return t(i.onbeforesave)(e,{$data:o.$data})}),i.onaftersave&&(o.$onaftersave=function(){return t(i.onaftersave)(e,{$data:o.$data})}),n.bind("submit",function(t){t.preventDefault(),e.$apply(function(){o.$submit()})})),n.bind("click",function(e){e.which&&1!==e.which||o.$visible&&(o._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(e){function t(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,n){if(!1===t)this.hasFalse=!0;else if(!n&&angular.isObject(t))this.promises.push(e.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){function n(){s.hasString||s.hasFalse?!s.hasString&&s.hasFalse?i():a():r()}t=t||{};var r=t.onTrue||angular.noop,i=t.onFalse||angular.noop,a=t.onString||angular.noop,o=t.onWait||angular.noop,s=this;this.promises.length?(o(!0),e.all(this.promises).then(function(e){o(!1),angular.forEach(e,function(e){s.when(e,!0)}),n()},function(e){o(!1),a()})):n()}}}return t}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},arrayRemove:function(e,t){var n=this.indexOf(e,t);return n>=0&&e.splice(n,1),t},camelToDash:function(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){var t=/([\:\-\_]+(.))/g,n=/^moz([A-Z])/;return e.replace(t,function(e,t,n,r){return r?n.toUpperCase():n}).replace(n,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function e(e){var n;if(!(n=e.match(t)))throw"ng-options parse error";var r,i=n[2]||n[1],a=n[4]||n[6],o=n[5],s=(n[3],n[2]?n[1]:a),l=n[7],c=n[8],u=c?n[8]:null;return void 0===o?(r=a+" in "+l,void 0!==c&&(r+=" track by "+u)):r="("+o+", "+a+") in "+l,{ngRepeat:r,locals:{valueName:a,keyName:o,valueFn:s,displayFn:i}}}var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return e}]),angular.module("xeditable").factory("editableCombodate",[function(){function e(e,t){if(this.$element=angular.element(e),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var n=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:n,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,t),this.init()}return e.prototype={constructor:e,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var e=this;this.$widget.find("select").bind("change",function(t){(angular.element(t.target).hasClass("month")||angular.element(t.target).hasClass("year"))&&e.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template,t=this.options.customClass;return angular.forEach(this.map,function(t,n){t=t[0];var r=new RegExp(t+"+"),i=t.length>1?t.substring(1,2):t;e=e.replace(r,"{"+i+"}")}),e=e.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(n,r){n=n[0];var i=n.length>1?n.substring(1,2):n;e=e.replace("{"+i+"}",'<select class="'+r+" "+t+'"></select>')}),e},initCombos:function(){for(var e in this.map){var t=this.$widget[0].querySelectorAll("."+e);this["$"+e]=t.length?angular.element(t):null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var n="fill"+e.charAt(0).toUpperCase()+e.slice(1),r=this[n](),i=t.val();t.html("");for(var a=0;a<r.length;a++)t.append('<option value="'+r[a][0]+'">'+r[a][1]+"</option>");t.val(i)}},fillCommon:function(e){var t,n=[];if("name"===this.options.firstItem){t=moment.relativeTime||moment.langData()._relativeTime;var r="function"==typeof t[e]?t[e](1,!0,e,!1):t[e];r=r.split(" ").reverse()[0],n.push(["",r])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var e,t,n=this.fillCommon("d"),r=-1!==this.options.template.indexOf("DD"),i=31;if(this.options.smartDays&&this.$month&&this.$year){var a=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(a)||isNaN(o)||(i=moment([o,a]).daysInMonth())}for(t=1;i>=t;t++)e=r?this.leadZero(t):t,n.push([t,e]);return n},fillMonth:function(){var e,t,n=this.fillCommon("M"),r=-1!==this.options.template.indexOf("MMMM"),i=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM");for(t=0;11>=t;t++)e=r?moment().date(1).month(t).format("MMMM"):i?moment().date(1).month(t).format("MMM"):a?this.leadZero(t+1):t+1,n.push([t,e]);return n},fillYear:function(){var e,t,n=[],r=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=r?t:(t+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([t,e]);return n=this.fillCommon("y").concat(n)},fillHour:function(){var e,t,n=this.fillCommon("h"),r=-1!==this.options.template.indexOf("h"),i=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=r?1:0,o=r?12:23;for(t=a;o>=t;t++)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillMinute:function(){var e,t,n=this.fillCommon("m"),r=-1!==this.options.template.indexOf("mm");for(t=0;59>=t;t+=this.options.minuteStep)e=r?this.leadZero(t):t,n.push([t,e]);return n},fillSecond:function(){var e,t,n=this.fillCommon("s"),r=-1!==this.options.template.indexOf("ss");for(t=0;59>=t;t+=this.options.secondStep)e=r?this.leadZero(t):t,n.push([t,e]);return n},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");return this.options.template.indexOf("A"),[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(e){var t,n={},r=this,i=!1;return angular.forEach(this.map,function(e,t){if("ampm"!==t){var a="day"===t?1:0;return n[t]=r["$"+t]?parseInt(r["$"+t].val(),10):a,isNaN(n[t])?(i=!0,!1):void 0}}),i?"":(this.$ampm&&(12===n.hour?n.hour="am"===this.$ampm.val()?0:12:n.hour="am"===this.$ampm.val()?n.hour:n.hour+12),t=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]),this.highlight(t),e=void 0===e?this.options.format:e,null===e?t.isValid()?t:null:t.isValid()?t.format(e):"")},setValue:function(e){function t(e,t){var n={};return angular.forEach(e.children("option"),function(e,r){var i=angular.element(e).attr("value");if(""!==i){var a=Math.abs(i-t);(void 0===n.distance||a<n.distance)&&(n={value:i,distance:a})}}),n.value}if(e){var n="string"==typeof e?moment(e,this.options.format,!0):moment(e),r=this,i={};n.isValid()&&(angular.forEach(this.map,function(e,t){"ampm"!==t&&(i[t]=n[e[1]]())}),this.$ampm&&(i.hour>=12?(i.ampm="pm",i.hour>12&&(i.hour-=12)):(i.ampm="am",0===i.hour&&(i.hour=12))),angular.forEach(i,function(e,n){r["$"+n]&&("minute"===n&&r.options.minuteStep>1&&r.options.roundTime&&(e=t(r["$"+n],e)),"second"===n&&r.options.secondStep>1&&r.options.roundTime&&(e=t(r["$"+n],e)),r["$"+n].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).triggerHandler("change"))}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return 9>=e?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(t,n){return new e(t,n)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>'}}}),function(){"use strict";angular.module("ui.sortable",[]).constant("sortableConfig",{itemClass:"as-sortable-item",handleClass:"as-sortable-item-handle",placeHolderClass:"as-sortable-placeholder",dragClass:"as-sortable-drag",hiddenClass:"as-sortable-hidden"})}(),function(){"use strict";angular.module("ui.sortable").factory("$helper",["$document","$window",function(e,t){return{height:function(e){return e.prop("offsetHeight")},width:function(e){return e.prop("offsetWidth")},offset:function(n,r){var i=n[0].getBoundingClientRect();return r||(r=e[0].documentElement),{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||r.scrollTop-r.offsetTop),left:i.left+(t.pageXOffset||r.scrollLeft-r.offsetLeft)}},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},isTouchInvalid:function(e){var t=!1;return void 0!==e.touches&&e.touches.length>1?t=!0:void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&e.originalEvent.touches.length>1&&(t=!0),t},positionStarted:function(e,t,n){var r={};return r.offsetX=e.pageX-this.offset(t,n).left,r.offsetY=e.pageY-this.offset(t,n).top,r.startX=r.lastX=e.pageX,
r.startY=r.lastY=e.pageY,r.nowX=r.nowY=r.distX=r.distY=r.dirAx=0,r.dirX=r.dirY=r.lastDirX=r.lastDirY=r.distAxX=r.distAxY=0,r},calculatePosition:function(e,t){e.lastX=e.nowX,e.lastY=e.nowY,e.nowX=t.pageX,e.nowY=t.pageY,e.distX=e.nowX-e.lastX,e.distY=e.nowY-e.lastY,e.lastDirX=e.dirX,e.lastDirY=e.dirY,e.dirX=0===e.distX?0:e.distX>0?1:-1,e.dirY=0===e.distY?0:e.distY>0?1:-1;var n=Math.abs(e.distX)>Math.abs(e.distY)?1:0;e.dirAx!==n?(e.distAxX=0,e.distAxY=0):(e.distAxX+=Math.abs(e.distX),0!==e.dirX&&e.dirX!==e.lastDirX&&(e.distAxX=0),e.distAxY+=Math.abs(e.distY),0!==e.dirY&&e.dirY!==e.lastDirY&&(e.distAxY=0)),e.dirAx=n},movePosition:function(e,t,n,r,i,a){var o,s="relative"===i;t.x=e.pageX-n.offsetX,t.y=e.pageY-n.offsetY,r&&(o=this.offset(r,a),s&&(t.x-=o.left,t.y-=o.top,o.left=0,o.top=0),t.x<o.left?t.x=o.left:t.x>=o.width+o.left-this.offset(t).width&&(t.x=o.width+o.left-this.offset(t).width),t.y<o.top?t.y=o.top:t.y>=o.height+o.top-this.offset(t).height&&(t.y=o.height+o.top-this.offset(t).height)),t.css({left:t.x+"px",top:t.y+"px"}),this.calculatePosition(n,e)},dragItem:function(e){return{index:e.index(),parent:e.sortableScope,source:e,sourceInfo:{index:e.index(),itemScope:e.itemScope,sortableScope:e.sortableScope},moveTo:function(e,t){this.parent=e,this.isSameParent()&&this.source.index()<t&&(t-=1),this.index=t},isSameParent:function(){return this.parent.element===this.sourceInfo.sortableScope.element},isOrderChanged:function(){return this.index!==this.sourceInfo.index},eventArgs:function(){return{source:this.sourceInfo,dest:{index:this.index,sortableScope:this.parent}}},apply:function(){this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index),this.parent.insertItem(this.index,this.source.modelValue)}}},noDrag:function(e){return void 0!==e.attr("no-drag")||void 0!==e.attr("data-no-drag")}}}])}(),function(){"use strict";var e=angular.module("ui.sortable");e.controller("ui.sortable.sortableController",["$scope",function(e){this.scope=e,e.modelValue=null,e.callbacks=null,e.type="sortable",e.options={},e.isDisabled=!1,e.insertItem=function(t,n){e.safeApply(function(){e.modelValue.splice(t,0,n)})},e.removeItem=function(t){var n=null;return t>-1&&e.safeApply(function(){n=e.modelValue.splice(t,1)[0]}),n},e.isEmpty=function(){return e.modelValue&&0===e.modelValue.length},e.accept=function(t,n,r){return e.callbacks.accept(t,n,r)},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"===t||"$digest"===t?e&&"function"==typeof e&&e():this.$apply(e)}}]),e.directive("asSortable",function(){return{require:"ngModel",restrict:"A",scope:!0,controller:"ui.sortable.sortableController",link:function(e,t,n,r){var i,a;(i=r)&&(i.$render=function(){i.$modelValue&&angular.isArray(i.$modelValue)||i.$setViewValue([]),e.modelValue=i.$modelValue},e.element=t,a={accept:null,orderChanged:null,itemMoved:null,dragStart:null,dragCancel:null,dragEnd:null},a.accept=function(){return!0},a.orderChanged=function(){},a.itemMoved=function(){},a.dragStart=function(){},a.dragCancel=function(){},a.dragEnd=function(){},e.$watch(n.asSortable,function(t){angular.forEach(t,function(t,n){a[n]?"function"==typeof t&&(a[n]=t):e.options[n]=t}),e.callbacks=a},!0),angular.isDefined(n.isDisabled)&&e.$watch(n.isDisabled,function(t){angular.isUndefined(t)||(e.isDisabled=t)},!0))}}})}(),function(){"use strict";var e=angular.module("ui.sortable");e.controller("ui.sortable.sortableItemHandleController",["$scope",function(e){this.scope=e,e.itemScope=null,e.type="handle"}]),e.directive("asSortableItemHandle",["sortableConfig","$helper","$window","$document",function(e,t,n,r){return{require:"^asSortableItem",scope:!0,restrict:"A",controller:"ui.sortable.sortableItemHandleController",link:function(i,a,o,s){function l(e,t){e[0].parentNode.insertBefore(f[0],e[0]),m.moveTo(t.sortableScope,t.index())}function c(e,t){e.after(f),m.moveTo(t.sortableScope,t.index()+1)}function u(){h.replaceWith(i.itemScope.element),f.remove(),d.remove(),d=null,D=!1,g.css("cursor","")}var d,f,h,p,m,g,v,b,y,A,w,x,C,T,k,M,S,_,E,O,L,D,z=!1;L=n.hasOwnProperty("ontouchstart"),e.handleClass&&a.addClass(e.handleClass),i.itemScope=s.scope,i.$watch("sortableScope.isDisabled",function(e){z!==e&&(z=e,z?_():S())}),b=function(e){var n,i=function(){angular.element(r).unbind("mousemove",o),angular.element(r).unbind("touchmove",o),a.unbind("mouseup",i),a.unbind("touchend",i),a.unbind("touchcancel",i)},o=function(r){r.preventDefault();var a=t.eventObj(r);n||(n={clientX:a.clientX,clientY:a.clientY}),Math.abs(a.clientX-n.clientX)+Math.abs(a.clientY-n.clientY)>10&&(i(),A(e))};angular.element(r).bind("mousemove",o),angular.element(r).bind("touchmove",o),a.bind("mouseup",i),a.bind("touchend",i),a.bind("touchcancel",i)},A=function(n){var a,o;(L||2!==n.button&&3!==n.which)&&(L&&t.isTouchInvalid(n)||!D&&T(n)&&(D=!0,n.preventDefault(),a=t.eventObj(n),y=angular.element(r[0].querySelector(i.sortableScope.options.scrollableContainer)).length>0?r[0].querySelector(i.sortableScope.options.scrollableContainer):r[0].documentElement,g=angular.element(angular.element(r[0].querySelector(i.sortableScope.options.containment)).length>0?r[0].querySelector(i.sortableScope.options.containment):r[0].body),g.css("cursor","move"),v=i.sortableScope.options.containerPositioning||"absolute",m=t.dragItem(i),o=i.itemScope.element.prop("tagName"),d=angular.element(r[0].createElement(i.sortableScope.element.prop("tagName"))).addClass(i.sortableScope.element.attr("class")).addClass(e.dragClass),d.css("width",t.width(i.itemScope.element)+"px"),d.css("height",t.height(i.itemScope.element)+"px"),f=angular.element(r[0].createElement(o)).addClass(e.placeHolderClass).addClass(i.sortableScope.options.additionalPlaceholderClass),f.css("width",t.width(i.itemScope.element)+"px"),f.css("height",t.height(i.itemScope.element)+"px"),h=angular.element(r[0].createElement(o)),e.hiddenClass&&h.addClass(e.hiddenClass),p=t.positionStarted(a,i.itemScope.element,y),i.itemScope.element.after(f),i.itemScope.element.after(h),d.append(i.itemScope.element),g.append(d),t.movePosition(a,d,p,g,v,y),i.sortableScope.$apply(function(){i.callbacks.dragStart(m.eventArgs())}),E()))},T=function(e){var n,r,i;for(n=angular.element(e.target),r=n.scope(),i=!1;!i&&void 0!==r;)r.type&&"handle"===r.type?i=!0:r=r.$parent;for(;i&&n[0]!==a[0];)t.noDrag(n)&&(i=!1),n=n.parent();return i},w=function(a){var o,s,u,h,b;if((!L||!t.isTouchInvalid(a))&&D&&d){if(a.preventDefault(),o=t.eventObj(a),t.movePosition(o,d,p,g,v,y),s=o.pageX-r[0].documentElement.scrollLeft,u=o.pageY-(n.pageYOffset||r[0].documentElement.scrollTop),d.addClass(e.hiddenClass),r[0].elementFromPoint(s,u),b=angular.element(r[0].elementFromPoint(s,u)),d.removeClass(e.hiddenClass),!(h=b.scope())||!h.type)return;if("handle"===h.type&&(h=h.itemScope),"item"!==h.type&&"sortable"!==h.type)return;"item"===h.type&&(b=h.element,h.sortableScope.accept(i,h.sortableScope,h)&&(p.dirAx&&i.itemScope.sortableScope.$id===h.sortableScope.$id?(p.distAxX=0,p.distX<0?l(b,h):p.distX>0&&c(b,h)):k(o,b)?l(b,h):c(b,h))),"sortable"===h.type&&h.accept(i,h)&&b[0].parentNode!==h.element[0]&&(M(b)||(b[0].appendChild(f[0]),m.moveTo(h,h.modelValue.length)))}},M=function(t){var n,r,i;for(n=t.children(),i=0;i<n.length;i+=1)if(angular.element(n[i]).hasClass(e.placeHolderClass)){r=!0;break}return r},k=function(e,n){var r;return!1,r=t.offset(n),t.offset(f).top>r.top?t.offset(d).top<r.top+t.height(n)/2:e.pageY<r.top},x=function(e){D&&(e.preventDefault(),d&&(u(),m.apply(),i.sortableScope.$apply(function(){m.isSameParent()?m.isOrderChanged()&&i.callbacks.orderChanged(m.eventArgs()):i.callbacks.itemMoved(m.eventArgs())}),i.sortableScope.$apply(function(){i.callbacks.dragEnd(m.eventArgs())}),m=null),O())},C=function(e){D&&(e.preventDefault(),d&&(u(),i.sortableScope.$apply(function(){i.callbacks.dragCancel(m.eventArgs())}),m=null),O())},S=function(){a.bind("touchstart",b),a.bind("mousedown",b)},_=function(){a.unbind("touchstart",b),a.unbind("mousedown",b)},S(),angular.element(r[0].body).bind("keydown",function(e){27===e.keyCode&&C(e)}),E=function(){angular.element(r).bind("touchmove",w),angular.element(r).bind("touchend",x),angular.element(r).bind("touchcancel",C),angular.element(r).bind("mousemove",w),angular.element(r).bind("mouseup",x)},O=function(){angular.element(r).unbind("touchend",x),angular.element(r).unbind("touchcancel",C),angular.element(r).unbind("touchmove",w),angular.element(r).unbind("mouseup",x),angular.element(r).unbind("mousemove",w)}}}}])}(),function(){"use strict";var e=angular.module("ui.sortable");e.controller("ui.sortable.sortableItemController",["$scope",function(e){this.scope=e,e.sortableScope=null,e.modelValue=null,e.type="item",e.index=function(){return e.sortableScope.modelValue.indexOf(e.modelValue)},e.itemData=function(){return e.sortableScope.modelValue[e.$index]}}]),e.directive("asSortableItem",["sortableConfig",function(e){return{require:"^asSortable",restrict:"A",controller:"ui.sortable.sortableItemController",link:function(t,n,r,i){e.itemClass&&n.addClass(e.itemClass),t.sortableScope=i.scope,t.modelValue=i.scope.modelValue[t.$index],t.element=n}}}])}();var hljs=new function(){function e(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function n(e,t){var n=e&&e.exec(t);return n&&0==n.index}function r(e){return Array.prototype.map.call(e.childNodes,function(e){return 3==e.nodeType?b.useBR?e.nodeValue.replace(/\n/g,""):e.nodeValue:"br"==t(e)?"\n":r(e)}).join("")}function i(e){var t=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return t=t.map(function(e){return e.replace(/^language-/,"")}),t.filter(function(e){return v(e)||"no-highlight"==e})[0]}function a(e,t){var n={};for(var r in e)n[r]=e[r];if(t)for(var r in t)n[r]=t[r];return n}function o(e){var n=[];return function e(r,i){for(var a=r.firstChild;a;a=a.nextSibling)3==a.nodeType?i+=a.nodeValue.length:"br"==t(a)?i+=1:1==a.nodeType&&(n.push({event:"start",offset:i,node:a}),i=e(a,i),n.push({event:"stop",offset:i,node:a}));return i}(e,0),n}function s(n,r,i){function a(){return n.length&&r.length?n[0].offset!=r[0].offset?n[0].offset<r[0].offset?n:r:"start"==r[0].event?n:r:n.length?n:r}function o(n){function r(t){return" "+t.nodeName+'="'+e(t.value)+'"'}u+="<"+t(n)+Array.prototype.map.call(n.attributes,r).join("")+">"}function s(e){u+="</"+t(e)+">"}function l(e){("start"==e.event?o:s)(e.node)}for(var c=0,u="",d=[];n.length||r.length;){var f=a();if(u+=e(i.substr(c,f[0].offset-c)),c=f[0].offset,f==n){d.reverse().forEach(s);do{l(f.splice(0,1)[0]),f=a()}while(f==n&&f.length&&f[0].offset==c);d.reverse().forEach(o)}else"start"==f[0].event?d.push(f[0].node):d.pop(),l(f.splice(0,1)[0])}return u+e(i.substr(c))}function l(e){function t(e){return e&&e.source||e}function n(n,r){return RegExp(t(n),"m"+(e.cI?"i":"")+(r?"g":""))}function r(i,o){function s(t,n){e.cI&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");l[n[0]]=[t,n[1]?Number(n[1]):1]})}if(!i.compiled){if(i.compiled=!0,i.k=i.k||i.bK,i.k){var l={};"string"==typeof i.k?s("keyword",i.k):Object.keys(i.k).forEach(function(e){s(e,i.k[e])}),i.k=l}i.lR=n(i.l||/\b[A-Za-z0-9_]+\b/,!0),o&&(i.bK&&(i.b=i.bK.split(" ").join("|")),i.b||(i.b=/\B|\b/),i.bR=n(i.b),i.e||i.eW||(i.e=/\B|\b/),i.e&&(i.eR=n(i.e)),i.tE=t(i.e)||"",i.eW&&o.tE&&(i.tE+=(i.e?"|":"")+o.tE)),i.i&&(i.iR=n(i.i)),void 0===i.r&&(i.r=1),i.c||(i.c=[]);var c=[];i.c.forEach(function(e){e.v?e.v.forEach(function(t){c.push(a(e,t))}):c.push("self"==e?i:e)}),i.c=c,i.c.forEach(function(e){r(e,i)}),i.starts&&r(i.starts,o);var u=i.c.map(function(e){return e.bK?"\\.?\\b("+e.b+")\\b\\.?":e.b}).concat([i.tE]).concat([i.i]).map(t).filter(Boolean);i.t=u.length?n(u.join("|"),!0):{exec:function(e){return null}},i.continuation={}}}r(e)}function c(t,r,i,a){function o(e,t){for(var r=0;r<t.c.length;r++)if(n(t.c[r].bR,e))return t.c[r]}function s(e,t){return n(e.eR,t)?e:e.eW?s(e.parent,t):void 0}function d(e,t){return!i&&n(t.iR,e)}function f(e,t){var n=x.cI?t[0].toLowerCase():t[0];return e.k.hasOwnProperty(n)&&e.k[n]}function h(e,t,n,r){var i=r?"":b.classPrefix,a='<span class="'+i,o=n?"":"</span>";return(a+=e+'">')+t+o}function p(){var t=e(M);if(!C.k)return t;var n="",r=0;C.lR.lastIndex=0;for(var i=C.lR.exec(t);i;){n+=t.substr(r,i.index-r);var a=f(C,i);a?(S+=a[1],n+=h(a[0],i[0])):n+=i[0],r=C.lR.lastIndex,i=C.lR.exec(t)}return n+t.substr(r)}function m(){if(C.sL&&!y[C.sL])return e(M);var t=C.sL?c(C.sL,M,!0,C.continuation.top):u(M);return C.r>0&&(S+=t.r),"continuous"==C.subLanguageMode&&(C.continuation.top=t.top),h(t.language,t.value,!1,!0)}function g(){return void 0!==C.sL?m():p()}function A(t,n){var r=t.cN?h(t.cN,"",!0):"";t.rB?(T+=r,M=""):t.eB?(T+=e(n)+r,M=""):(T+=r,M=n),C=Object.create(t,{parent:{value:C}})}function w(t,n){if(M+=t,void 0===n)return T+=g(),0;var r=o(n,C);if(r)return T+=g(),A(r,n),r.rB?0:n.length;var i=s(C,n);if(i){var a=C;a.rE||a.eE||(M+=n),T+=g();do{C.cN&&(T+="</span>"),S+=C.r,C=C.parent}while(C!=i.parent);return a.eE&&(T+=e(n)),M="",i.starts&&A(i.starts,""),a.rE?0:n.length}if(d(n,C))throw new Error('Illegal lexeme "'+n+'" for mode "'+(C.cN||"<unnamed>")+'"');return M+=n,n.length||1}var x=v(t);if(!x)throw new Error('Unknown language: "'+t+'"');l(x);for(var C=a||x,T="",k=C;k!=x;k=k.parent)k.cN&&(T=h(k.cN,T,!0));var M="",S=0;try{for(var _,E,O=0;;){if(C.t.lastIndex=O,!(_=C.t.exec(r)))break;E=w(r.substr(O,_.index-O),_[0]),O=_.index+E}w(r.substr(O));for(var k=C;k.parent;k=k.parent)k.cN&&(T+="</span>");return{r:S,value:T,language:t,top:C}}catch(t){if(-1!=t.message.indexOf("Illegal"))return{r:0,value:e(r)};throw t}}function u(t,n){n=n||b.languages||Object.keys(y);var r={r:0,value:e(t)},i=r;return n.forEach(function(e){if(v(e)){var n=c(e,t,!1);n.language=e,n.r>i.r&&(i=n),n.r>r.r&&(i=r,r=n)}}),i.language&&(r.second_best=i),r}function d(e){return b.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t,n,r){return t.replace(/\t/g,b.tabReplace)})),b.useBR&&(e=e.replace(/\n/g,"<br>")),e}function f(e){var t=r(e),n=i(e);if("no-highlight"!=n){var a=n?c(n,t,!0):u(t),l=o(e);if(l.length){var f=document.createElementNS("http://www.w3.org/1999/xhtml","pre");f.innerHTML=a.value,a.value=s(l,o(f),t)}a.value=d(a.value),e.innerHTML=a.value,e.className+=" hljs "+(!n&&a.language||""),e.result={language:a.language,re:a.r},a.second_best&&(e.second_best={language:a.second_best.language,re:a.second_best.r})}}function h(e){b=a(b,e)}function p(){if(!p.called){p.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,f)}}function m(){addEventListener("DOMContentLoaded",p,!1),addEventListener("load",p,!1)}function g(e,t){var n=y[e]=t(this);n.aliases&&n.aliases.forEach(function(t){A[t]=e})}function v(e){return y[e]||y[A[e]]}var b={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},y={},A={};this.highlight=c,this.highlightAuto=u,this.fixMarkup=d,this.highlightBlock=f,this.configure=h,this.initHighlighting=p,this.initHighlightingOnLoad=m,this.registerLanguage=g,this.getLanguage=v,this.inherit=a,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.CLCM={cN:"comment",b:"//",e:"$"},this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"},this.HCM={cN:"comment",b:"#",e:"$"},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}};hljs.registerLanguage("json",function(e){var t={literal:"true false null"},n=[e.QSM,e.CNM],r={cN:"value",e:",",eW:!0,eE:!0,c:n,k:t},i={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[e.BE],i:"\\n",starts:r}],i:"\\S"},a={b:"\\[",e:"\\]",c:[e.inherit(r,{cN:null})],i:"\\S"};return n.splice(n.length,0,i,a),{c:n,k:t,i:"\\S"}}),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r||{},ii(ya,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new Ya(i,r.mode)),this.doc=i;var a=this.display=new t(n,i);a.wrapper.CodeMirror=this,u(this),l(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!Zi&&ht(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Jr},Ii&&setTimeout(ai(ft,this,!0),20),gt(this),yi();var o=this;Xe(this,function(){o.curOp.forceUpdate=!0,br(o,i),r.autofocus&&!Zi||hi()==a.input?setTimeout(ai(Wt,o),20):Ht(o);for(var e in Aa)Aa.hasOwnProperty(e)&&Aa[e](o,r[e],wa);for(var t=0;t<ka.length;++t)ka[t](o)})}function t(e,t){var n=this,r=n.input=ci("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");Yi?r.style.width="1000px":r.setAttribute("wrap","off"),Ji&&(r.style.border="1px solid black"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false"),n.inputDiv=ci("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=ci("div",[ci("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=ci("div",[ci("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=ci("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=ci("div",null,"CodeMirror-gutter-filler"),n.lineDiv=ci("div",null,"CodeMirror-code"),n.selectionDiv=ci("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=ci("div",null,"CodeMirror-cursors"),n.measure=ci("div",null,"CodeMirror-measure"),n.lineMeasure=ci("div",null,"CodeMirror-measure"),n.lineSpace=ci("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=ci("div",[ci("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=ci("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=ci("div",null,null,"position: absolute; height: "+eo+"px; width: 1px;"),n.gutters=ci("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=ci("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=ci("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Bi&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),Ji&&(r.style.width="0px"),Yi||(n.scroller.draggable=!0),Vi&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),Bi&&(n.scrollbarH.style.minHeight=n.scrollbarV.style.minWidth="18px"),e.appendChild?e.appendChild(n.wrapper):e(n.wrapper),n.viewFrom=n.viewTo=t.first,n.view=[],n.externalMeasured=null,n.viewOffset=0,n.lastSizeC=0,n.updateLineNumbers=null,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new Jr,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,be(e,100),e.state.modeGen++,e.curOp&&nt(e)}function i(e){e.options.lineWrapping?(gi(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth=""):(mi(e.display.wrapper,"CodeMirror-wrap"),h(e)),o(e),nt(e),Ne(e),setTimeout(function(){g(e)},100)}function a(e){var t=Ge(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Ue(e.display)-3);return function(i){if(Rn(e.doc,i))return 0;var a=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(a+=i.widgets[o].height);return n?a+(Math.ceil(i.text.length/r)||1)*t:a+t}}function o(e){var t=e.doc,n=a(e);t.iter(function(e){var t=n(e);t!=e.height&&xr(e,t)})}function s(e){var t=Oa[e.options.keyMap],n=t.style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:"")}function l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ne(e)}function c(e){u(e),nt(e),setTimeout(function(){b(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;ui(t);for(var r=0;r<n.length;++r){var i=n[r],a=t.appendChild(ci("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",d(e)}function d(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px",e.display.scrollbarH.style.left=e.options.fixedGutter?t+"px":0}function f(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Bn(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Wn(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function h(e){var t=e.display,n=e.doc;t.maxLine=yr(n,n.first),t.maxLineLength=f(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=f(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=ti(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function m(e){var t=e.display.scroller;return{clientHeight:t.clientHeight,barHeight:e.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,barWidth:e.display.scrollbarH.clientWidth,docHeight:Math.round(e.doc.height+Ce(e.display))}}function g(e,t){t||(t=m(e));var n=e.display,r=t.docHeight+eo,i=t.scrollWidth>t.clientWidth,a=r>t.clientHeight;if(a?(n.scrollbarV.style.display="block",n.scrollbarV.style.bottom=i?wi(n.measure)+"px":"0",n.scrollbarV.firstChild.style.height=Math.max(0,r-t.clientHeight+(t.barHeight||n.scrollbarV.clientHeight))+"px"):(n.scrollbarV.style.display="",n.scrollbarV.firstChild.style.height="0"),i?(n.scrollbarH.style.display="block",n.scrollbarH.style.right=a?wi(n.measure)+"px":"0",n.scrollbarH.firstChild.style.width=t.scrollWidth-t.clientWidth+(t.barWidth||n.scrollbarH.clientWidth)+"px"):(n.scrollbarH.style.display="",n.scrollbarH.firstChild.style.width="0"),i&&a?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=n.scrollbarFiller.style.width=wi(n.measure)+"px"):n.scrollbarFiller.style.display="",i&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=wi(n.measure)+"px",n.gutterFiller.style.width=n.gutters.offsetWidth+"px"):n.gutterFiller.style.display="",!e.state.checkedOverlayScrollbar&&t.clientHeight>0){if(0===wi(n.measure)){var o=Qi&&!Ki?"12px":"18px";n.scrollbarV.style.minWidth=n.scrollbarH.style.minHeight=o;var s=function(t){Yr(t)!=n.scrollbarV&&Yr(t)!=n.scrollbarH&&Je(e,At)(t)};Xa(n.scrollbarV,"mousedown",s),Xa(n.scrollbarH,"mousedown",s)}e.state.checkedOverlayScrollbar=!0}}function v(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-xe(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,a=Tr(t,r),o=Tr(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;if(a>s)return{from:s,to:Tr(t,kr(yr(t,s))+e.wrapper.clientHeight)};if(Math.min(l,t.lastLine())>=o)return{from:Tr(t,kr(yr(t,l))-e.wrapper.clientHeight),to:l}}return{from:a,to:Math.max(o,a+1)}}function b(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=w(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=r+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=a);var s=n[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function y(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=A(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(ci("div",[ci("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,o=i.offsetWidth-a;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(a,r.lineGutter.offsetWidth-o),r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",d(e),!0}return!1}function A(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function w(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function x(e,t,n){for(var r,i=e.display.viewFrom,a=e.display.viewTo,o=v(e.display,e.doc,t),s=!0;;s=!1){var l=e.display.scroller.clientWidth;if(!C(e,o,n))break;r=!0,e.display.maxLineChanged&&!e.options.lineWrapping&&T(e);var c=m(e);if(pe(e),k(e,c),g(e,c),Yi&&e.options.lineWrapping&&M(e,c),s&&e.options.lineWrapping&&l!=e.display.scroller.clientWidth)n=!0;else if(n=!1,t&&null!=t.top&&(t={top:Math.min(c.docHeight-eo-c.clientHeight,t.top)}),o=v(e.display,e.doc,t),o.from>=e.display.viewFrom&&o.to<=e.display.viewTo)break}return e.display.updateLineNumbers=null,r&&(Rr(e,"update",e),(e.display.viewFrom!=i||e.display.viewTo!=a)&&Rr(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo)),r}function C(e,t,n){var r=e.display,i=e.doc;if(!r.wrapper.offsetWidth)return void it(e);if(!(!n&&t.from>=r.viewFrom&&t.to<=r.viewTo&&0==lt(e))){y(e)&&it(e);var a=E(e),o=i.first+i.size,s=Math.max(t.from-e.options.viewportMargin,i.first),l=Math.min(o,t.to+e.options.viewportMargin);r.viewFrom<s&&s-r.viewFrom<20&&(s=Math.max(i.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(o,r.viewTo)),aa&&(s=Yn(e.doc,s),l=qn(e.doc,l));var c=s!=r.viewFrom||l!=r.viewTo||r.lastSizeC!=r.wrapper.clientHeight;st(e,s,l),r.viewOffset=kr(yr(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=lt(e);if(c||0!=u||n){var d=hi();return u>4&&(r.lineDiv.style.display="none"),O(e,r.updateLineNumbers,a),u>4&&(r.lineDiv.style.display=""),d&&hi()!=d&&d.offsetHeight&&d.focus(),ui(r.cursorDiv),ui(r.selectionDiv),c&&(r.lastSizeC=r.wrapper.clientHeight,be(e,400)),S(e),!0}}}function T(e){var t=e.display,n=_e(e,t.maxLine,t.maxLine.text.length).left;t.maxLineChanged=!1;var r=Math.max(0,n+3),i=Math.max(0,t.sizer.offsetLeft+r+eo-t.scroller.clientWidth);t.sizer.style.minWidth=r+"px",i<e.doc.scrollLeft&&Et(e,Math.min(t.scroller.scrollLeft,i),!0)}function k(e,t){e.display.sizer.style.minHeight=e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=Math.max(t.docHeight,t.clientHeight-eo)+"px"}function M(e,t){e.display.sizer.offsetWidth+e.display.gutters.offsetWidth<e.display.scroller.clientWidth-1&&(e.display.sizer.style.minHeight=e.display.heightForcer.style.top="0px",e.display.gutters.style.height=t.docHeight+"px")}function S(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,a=t.view[r];if(!a.hidden){if(Bi){var o=a.node.offsetTop+a.node.offsetHeight;i=o-n,n=o}else{var s=a.node.getBoundingClientRect();i=s.bottom-s.top}var l=a.line.height-i;if(2>i&&(i=Ge(t)),(l>.001||-.001>l)&&(xr(a.line,i),_(a.line),a.rest))for(var c=0;c<a.rest.length;c++)_(a.rest[c])}}}function _(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function E(e){for(var t=e.display,n={},r={},i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a)n[e.options.gutters[a]]=i.offsetLeft,r[e.options.gutters[a]]=i.offsetWidth;return{fixedPos:w(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function O(e,t,n){function r(t){var n=t.nextSibling;return Yi&&Qi&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,a=e.options.lineNumbers,o=i.lineDiv,s=o.firstChild,l=i.view,c=i.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node){for(;s!=d.node;)s=r(s);var f=a&&null!=t&&c>=t&&d.lineNumber;d.changes&&(ti(d.changes,"gutter")>-1&&(f=!1),L(e,d,c,n)),f&&(ui(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(A(e.options,c)))),s=d.node.nextSibling}else{var h=W(e,d,c,n);o.insertBefore(h,s)}c+=d.size}for(;s;)s=r(s)}function L(e,t,n,r){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];"text"==a?N(e,t):"gutter"==a?I(e,t,n,r):"class"==a?P(t):"widget"==a&&B(t,r)}t.changes=null}function D(e){return e.node==e.text&&(e.node=ci("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Bi&&(e.node.style.zIndex=2)),e.node}function z(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=D(e);e.background=n.insertBefore(ci("div",null,t),n.firstChild)}}function $(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):or(e,t)}function N(e,t){var n=t.text.className,r=$(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,P(t)):n&&(t.text.className=n)}function P(e){z(e),e.line.wrapClass?D(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function I(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=D(t),o=t.gutter=a.insertBefore(ci("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px"),t.text);if(!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(ci("div",A(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=i.hasOwnProperty(l)&&i[l];c&&o.appendChild(ci("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function B(e,t){e.alignable&&(e.alignable=null);for(var n,r=e.node.firstChild;r;r=n){var n=r.nextSibling;"CodeMirror-linewidget"==r.className&&e.node.removeChild(r)}H(e,t)}function W(e,t,n,r){var i=$(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),P(t),I(e,t,n,r),H(t,r),t.node}function H(e,t){if(j(e.line,e,t,!0),e.rest)for(var n=0;n<e.rest.length;n++)j(e.rest[n],e,t,!1)}function j(e,t,n,r){if(e.widgets)for(var i=D(t),a=0,o=e.widgets;a<o.length;++a){var s=o[a],l=ci("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||(l.ignoreEvents=!0),F(s,l,t,n),r&&s.above?i.insertBefore(l,t.gutter||t.text):i.appendChild(l),Rr(s,"redraw")}}function F(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Y(e){return oa(e.line,e.ch)}function q(e,t){return sa(e,t)<0?t:e}function R(e,t){return sa(e,t)<0?e:t}function G(e,t){this.ranges=e,this.primIndex=t}
function U(e,t){this.anchor=e,this.head=t}function V(e,t){var n=e[t];e.sort(function(e,t){return sa(e.from(),t.from())}),t=ti(e,n);for(var r=1;r<e.length;r++){var i=e[r],a=e[r-1];if(sa(a.to(),i.from())>=0){var o=R(a.from(),i.from()),s=q(a.to(),i.to()),l=a.empty()?i.from()==i.head:a.from()==a.head;t>=r&&--t,e.splice(--r,2,new U(l?s:o,l?o:s))}}return new G(e,t)}function K(e,t){return new G([new U(e,t||e)],0)}function X(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function J(e,t){if(t.line<e.first)return oa(e.first,0);var n=e.first+e.size-1;return t.line>n?oa(n,yr(e,n).text.length):Z(t,yr(e,t.line).text.length)}function Z(e,t){var n=e.ch;return null==n||n>t?oa(e.line,t):0>n?oa(e.line,0):e}function Q(e,t){return t>=e.first&&t<e.first+e.size}function ee(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=J(e,t[r]);return n}function te(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var a=sa(n,i)<0;a!=sa(r,i)<0?(i=n,n=r):a!=sa(n,r)<0&&(n=r)}return new U(i,n)}return new U(r||n,n)}function ne(e,t,n,r){le(e,new G([te(e,e.sel.primary(),t,n)],0),r)}function re(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=te(e,e.sel.ranges[i],t[i],null);le(e,V(r,e.sel.primIndex),n)}function ie(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,le(e,V(i,e.sel.primIndex),r)}function ae(e,t,n,r){le(e,K(t,n),r)}function oe(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new U(J(e,t[n].anchor),J(e,t[n].head))}};return Za(e,"beforeSelectionChange",e,n),e.cm&&Za(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?V(n.ranges,n.ranges.length-1):t}function se(e,t,n){var r=e.history.done,i=ei(r);i&&i.ranges?(r[r.length-1]=t,ce(e,t,n)):le(e,t,n)}function le(e,t,n){ce(e,t,n),zr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function ce(e,t,n){(Kr(e,"beforeSelectionChange")||e.cm&&Kr(e.cm,"beforeSelectionChange"))&&(t=oe(e,t)),ue(e,fe(e,t,n&&n.bias||(sa(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||sn(e.cm)}function ue(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Vr(e.cm)),Rr(e,"cursorActivity",e))}function de(e){ue(e,fe(e,e.sel,null,!1),no)}function fe(e,t,n,r){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=he(e,o.anchor,n,r),l=he(e,o.head,n,r);(i||s!=o.anchor||l!=o.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new U(s,l))}return i?V(i,t.primIndex):t}function he(e,t,n,r){var i=!1,a=t,o=n||1;e.cantEdit=!1;e:for(;;){var s=yr(e,a.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var c=s.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=a.ch:c.from<a.ch))&&(null==c.to||(u.inclusiveRight?c.to>=a.ch:c.to>a.ch))){if(r&&(Za(u,"beforeCursorEnter"),u.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!u.atomic)continue;var d=u.find(0>o?-1:1);if(0==sa(d,a)&&(d.ch+=o,d.ch<0?d=d.line>e.first?J(e,oa(d.line-1)):null:d.ch>s.text.length&&(d=d.line<e.first+e.size-1?oa(d.line+1,0):null),!d)){if(i)return r?(e.cantEdit=!0,oa(e.first,0)):he(e,t,n,!0);i=!0,d=t,o=-o}a=d;continue e}}return a}}function pe(e){for(var t=e.display,n=e.doc,r=document.createDocumentFragment(),i=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++){var o=n.sel.ranges[a],s=o.empty();(s||e.options.showCursorWhenSelecting)&&me(e,o,r),s||ge(e,o,i)}if(e.options.moveInputWithCursor){var l=je(e,n.sel.primary().head,"div"),c=t.wrapper.getBoundingClientRect(),u=t.lineDiv.getBoundingClientRect(),d=Math.max(0,Math.min(t.wrapper.clientHeight-10,l.top+u.top-c.top)),f=Math.max(0,Math.min(t.wrapper.clientWidth-10,l.left+u.left-c.left));t.inputDiv.style.top=d+"px",t.inputDiv.style.left=f+"px"}di(t.cursorDiv,r),di(t.selectionDiv,i)}function me(e,t,n){var r=je(e,t.head,"div"),i=n.appendChild(ci("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var a=n.appendChild(ci("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function ge(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(ci("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function a(n,r){return He(e,oa(t,n),"div",d,r)}var s,l,d=yr(o,t),f=d.text.length;return Ti(Mr(d),n||0,null==i?f:i,function(e,t,o){var d,h,p,m=a(e,"left");if(e==t)d=m,h=p=m.left;else{if(d=a(t-1,"right"),"rtl"==o){var g=m;m=d,d=g}h=m.left,p=d.right}null==n&&0==e&&(h=c),d.top-m.top>3&&(r(h,m.top,null,m.bottom),h=c,m.bottom<d.top&&r(h,m.bottom,null,d.top)),null==i&&t==f&&(p=u),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),c+1>h&&(h=c),r(h,d.top,p-h,d.bottom)}),{start:s,end:l}}var a=e.display,o=e.doc,s=document.createDocumentFragment(),l=Te(e.display),c=l.left,u=a.lineSpace.offsetWidth-l.right,d=t.from(),f=t.to();if(d.line==f.line)i(d.line,d.ch,f.ch);else{var h=yr(o,d.line),p=yr(o,f.line),m=jn(h)==jn(p),g=i(d.line,d.ch,m?h.text.length+1:null).end,v=i(f.line,m?0:null,f.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(c,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(c,g.bottom,null,v.top)}n.appendChild(s)}function ve(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0&&(t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate))}}function be(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,ai(ye,e))}function ye(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Sa(t.mode,we(e,t.frontier));Xe(e,function(){t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(i){if(t.frontier>=e.display.viewFrom){var a=i.styles,o=nr(e,i,r,!0);i.styles=o.styles,o.classes?i.styleClasses=o.classes:i.styleClasses&&(i.styleClasses=null);for(var s=!a||a.length!=i.styles.length,l=0;!s&&l<a.length;++l)s=a[l]!=i.styles[l];s&&rt(e,t.frontier,"text"),i.stateAfter=Sa(t.mode,r)}else ir(e,i.text,r),i.stateAfter=0==t.frontier%5?Sa(t.mode,r):null;return++t.frontier,+new Date>n?(be(e,e.options.workDelay),!0):void 0})})}}function Ae(e,t,n){for(var r,i,a=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=yr(a,s-1);if(l.stateAfter&&(!n||s<=a.frontier))return s;var c=ao(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function we(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var a=Ae(e,t,n),o=a>r.first&&yr(r,a-1).stateAfter;return o=o?Sa(r.mode,o):_a(r.mode),r.iter(a,t,function(n){ir(e,n.text,o);var s=a==t-1||0==a%5||a>=i.viewFrom&&a<i.viewTo;n.stateAfter=s?Sa(r.mode,o):null,++a}),n&&(r.frontier=a),o}function xe(e){return e.lineSpace.offsetTop}function Ce(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Te(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=di(e.measure,ci("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function ke(e,t,n){var r=e.options.lineWrapping,i=r&&e.display.scroller.clientWidth;if(!t.measure.heights||r&&t.measure.width!=i){var a=t.measure.heights=[];if(r){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],c=o[s+1];Math.abs(l.bottom-c.bottom)>2&&a.push((l.bottom+c.top)/2-n.top)}}a.push(n.bottom-n.top)}}function Me(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(Cr(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Se(e,t){t=jn(t);var n=Cr(t),r=e.display.externalMeasured=new et(e.doc,t,n);r.lineN=n;var i=r.built=or(e,r);return r.text=i.pre,di(e.display.lineMeasure,i.pre),r}function _e(e,t,n,r){return Le(e,Oe(e,t),n,r)}function Ee(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[at(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Oe(e,t){var n=Cr(t),r=Ee(e,n);r&&!r.text?r=null:r&&r.changes&&L(e,r,n,E(e)),r||(r=Se(e,t));var i=Me(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Le(e,t,n,r){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(ke(e,t.view,t.rect),t.hasHeights=!0),i=De(e,t,n,r),i.bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:i.top,bottom:i.bottom}}function De(e,t,n,r){for(var i,a,o,s,l=t.map,c=0;c<l.length;c+=3){var u=l[c],d=l[c+1];if(u>n?(a=0,o=1,s="left"):d>n?(a=n-u,o=a+1):(c==l.length-3||n==d&&l[c+3]>n)&&(o=d-u,a=o-1,n>=d&&(s="right")),null!=a){if(i=l[c+2],u==d&&r==(i.insertLeft?"left":"right")&&(s=r),"left"==r&&0==a)for(;c&&l[c-2]==l[c-3]&&l[c-1].insertLeft;)i=l[2+(c-=3)],s="left";if("right"==r&&a==d-u)for(;c<l.length-3&&l[c+3]==l[c+4]&&!l[c+5].insertLeft;)i=l[(c+=3)+2],s="right";break}}var f;if(3==i.nodeType){for(;a&&li(t.line.text.charAt(u+a));)--a;for(;d>u+o&&li(t.line.text.charAt(u+o));)++o;if(Wi&&0==a&&o==d-u)f=i.parentNode.getBoundingClientRect();else if(Fi&&e.options.lineWrapping){var h=lo(i,a,o).getClientRects();f=h.length?h["right"==r?h.length-1:0]:da}else f=lo(i,a,o).getBoundingClientRect()||da}else{a>0&&(s=r="right");var h;f=e.options.lineWrapping&&(h=i.getClientRects()).length>1?h["right"==r?h.length-1:0]:i.getBoundingClientRect()}if(Wi&&!a&&(!f||!f.left&&!f.right)){var p=i.parentNode.getClientRects()[0];f=p?{left:p.left,right:p.left+Ue(e.display),top:p.top,bottom:p.bottom}:da}for(var m,g=(f.bottom+f.top)/2-t.rect.top,v=t.view.measure.heights,c=0;c<v.length-1&&!(g<v[c]);c++);m=c?v[c-1]:0,g=v[c];var b={left:("right"==s?f.right:f.left)-t.rect.left,right:("left"==s?f.left:f.right)-t.rect.left,top:m,bottom:g};return f.left||f.right||(b.bogus=!0),b}function ze(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function $e(e){e.display.externalMeasure=null,ui(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ze(e.display.view[t])}function Ne(e){$e(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Pe(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ie(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Be(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var a=Vn(t.widgets[i]);n.top+=a,n.bottom+=a}if("line"==r)return n;r||(r="local");var o=kr(t);if("local"==r?o+=xe(e.display):o-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==r?0:Ie());var l=s.left+("window"==r?0:Pe());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function We(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Pe(),i-=Ie();else if("local"==n||!n){var a=e.display.sizer.getBoundingClientRect();r+=a.left,i+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:i-o.top}}function He(e,t,n,r,i){return r||(r=yr(e.doc,t.line)),Be(e,r,_e(e,r,t.ch,i),n)}function je(e,t,n,r,i){function a(t,a){var o=Le(e,i,t,a?"right":"left");return a?o.left=o.right:o.right=o.left,Be(e,r,o,n)}function o(e,t){var n=s[t],r=n.level%2;return e==ki(n)&&t&&n.level<s[t-1].level?(n=s[--t],e=Mi(n)-(n.level%2?0:1),r=!0):e==Mi(n)&&t<s.length-1&&n.level<s[t+1].level&&(n=s[++t],e=ki(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?a(e-1):a(e,r)}r=r||yr(e.doc,t.line),i||(i=Oe(e,r));var s=Mr(r),l=t.ch;if(!s)return a(l);var c=Di(s,l),u=o(l,c);return null!=xo&&(u.other=o(l,xo)),u}function Fe(e,t){var n=0,t=J(e.doc,t);e.options.lineWrapping||(n=Ue(e.display)*t.ch);var r=yr(e.doc,t.line),i=kr(r)+xe(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Ye(e,t,n,r){var i=oa(e,t);return i.xRel=r,n&&(i.outside=!0),i}function qe(e,t,n){var r=e.doc;if(0>(n+=e.display.viewOffset))return Ye(r.first,0,!0,-1);var i=Tr(r,n),a=r.first+r.size-1;if(i>a)return Ye(r.first+r.size-1,yr(r,a).text.length,!0,1);0>t&&(t=0);for(var o=yr(r,i);;){var s=Re(e,o,i,t,n),l=Wn(o),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;i=Cr(o=c.to.line)}}function Re(e,t,n,r,i){function a(r){var i=je(e,oa(n,r),"line",t,c);return s=!0,o>i.bottom?i.left-l:o<i.top?i.left+l:(s=!1,i.left)}var o=i-kr(t),s=!1,l=2*e.display.wrapper.clientWidth,c=Oe(e,t),u=Mr(t),d=t.text.length,f=Si(t),h=_i(t),p=a(f),m=s,g=a(h),v=s;if(r>g)return Ye(n,h,v,1);for(;;){if(u?h==f||h==$i(t,f,1):1>=h-f){for(var b=p>r||g-r>=r-p?f:h,y=r-(b==f?p:g);li(t.text.charAt(b));)++b;return Ye(n,b,b==f?m:v,-1>y?-1:y>1?1:0)}var A=Math.ceil(d/2),w=f+A;if(u){w=f;for(var x=0;A>x;++x)w=$i(t,w,1)}var C=a(w);C>r?(h=w,g=C,(v=s)&&(g+=1e3),d=A):(f=w,p=C,m=s,d-=A)}}function Ge(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==la){la=ci("pre");for(var t=0;49>t;++t)la.appendChild(document.createTextNode("x")),la.appendChild(ci("br"));la.appendChild(document.createTextNode("x"))}di(e.measure,la);var n=la.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),ui(e.measure),n||1}function Ue(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=ci("span","xxxxxxxxxx"),n=ci("pre",[t]);di(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Ve(e){e.curOp={viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++fa},Qa++||(Ga=[])}function Ke(e){var t=e.curOp,n=e.doc,r=e.display;if(e.curOp=null,t.updateMaxLine&&h(e),t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<r.viewFrom||t.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&e.options.lineWrapping){var i=x(e,{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate);e.display.scroller.offsetHeight&&(e.doc.scrollTop=e.display.scroller.scrollTop)}if(!i&&t.selectionChanged&&pe(e),i||t.startHeight==e.doc.height||g(e),null==r.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=t.scrollTop&&r.scroller.scrollTop!=t.scrollTop){var a=Math.max(0,Math.min(r.scroller.scrollHeight-r.scroller.clientHeight,t.scrollTop));r.scroller.scrollTop=r.scrollbarV.scrollTop=n.scrollTop=a}if(null!=t.scrollLeft&&r.scroller.scrollLeft!=t.scrollLeft){var o=Math.max(0,Math.min(r.scroller.scrollWidth-r.scroller.clientWidth,t.scrollLeft));r.scroller.scrollLeft=r.scrollbarH.scrollLeft=n.scrollLeft=o,b(e)}if(t.scrollToPos){var s=nn(e,J(e.doc,t.scrollToPos.from),J(e.doc,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&tn(e,s)}t.selectionChanged&&ve(e),e.state.focused&&t.updateInput&&ft(e,t.typing);var l=t.maybeHiddenMarkers,c=t.maybeUnhiddenMarkers;if(l)for(var u=0;u<l.length;++u)l[u].lines.length||Za(l[u],"hide");if(c)for(var u=0;u<c.length;++u)c[u].lines.length&&Za(c[u],"unhide");var d;if(--Qa||(d=Ga,Ga=null),t.changeObjs&&Za(e,"changes",e,t.changeObjs),d)for(var u=0;u<d.length;++u)d[u]();if(t.cursorActivityHandlers)for(var u=0;u<t.cursorActivityHandlers.length;u++)t.cursorActivityHandlers[u](e)}function Xe(e,t){if(e.curOp)return t();Ve(e);try{return t()}finally{Ke(e)}}function Je(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ve(e);try{return t.apply(e,arguments)}finally{Ke(e)}}}function Ze(e){return function(){if(this.curOp)return e.apply(this,arguments);Ve(this);try{return e.apply(this,arguments)}finally{Ke(this)}}}function Qe(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ve(t);try{return e.apply(this,arguments)}finally{Ke(t)}}}function et(e,t,n){this.line=t,this.rest=Fn(t),this.size=this.rest?Cr(ei(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Rn(e,t)}function tt(e,t,n){for(var r,i=[],a=t;n>a;a=r){var o=new et(e.doc,yr(e.doc,a),a);r=a+o.size,i.push(o)}return i}function nt(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)aa&&Yn(e.doc,t)<i.viewTo&&it(e);else if(n<=i.viewFrom)aa&&qn(e.doc,n+r)>i.viewFrom?it(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)it(e);else if(t<=i.viewFrom){var a=ot(e,n,n+r,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=r):it(e)}else if(n>=i.viewTo){var a=ot(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):it(e)}else{var o=ot(e,t,t,-1),s=ot(e,n,n+r,1);o&&s?(i.view=i.view.slice(0,o.index).concat(tt(e,o.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):it(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function rt(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var a=r.view[at(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==ti(o,n)&&o.push(n)}}}function it(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function at(e,t){if(t>=e.display.viewTo)return null;if(0>(t-=e.display.viewFrom))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(0>(t-=n[r].size))return r}function ot(e,t,n,r){var i,a=at(e,t),o=e.display.view;if(!aa||n==e.doc.first+e.doc.size)return{index:a,lineN:n};for(var s=0,l=e.display.viewFrom;a>s;s++)l+=o[s].size;if(l!=t){if(r>0){if(a==o.length-1)return null;i=l+o[a].size-t,a++}else i=l-t;t+=i,n+=i}for(;Yn(e.doc,n)!=n;){if(a==(0>r?0:o.length-1))return null;n+=r*o[a-(0>r?1:0)].size,a+=r}return{index:a,lineN:n}}function st(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=tt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=tt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(at(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(tt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,at(e,n)))),r.viewTo=n}function lt(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function ct(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){dt(e),e.state.focused&&ct(e)})}function ut(e){function t(){dt(e)||n?(e.display.pollingFast=!1,ct(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function dt(e){var t=e.display.input,n=e.display.prevInput,r=e.doc;if(!e.state.focused||yo(t)&&!n||mt(e)||e.options.disableInput)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(Fi&&!Wi&&e.display.inputHasSelection===i)return ft(e),!1;var a=!e.curOp;a&&Ve(e),e.display.shift=!1,8203!=i.charCodeAt(0)||r.sel!=e.display.selForContextMenu||n||(n="​");for(var o=0,s=Math.min(n.length,i.length);s>o&&n.charCodeAt(o)==i.charCodeAt(o);)++o;for(var l=i.slice(o),c=bo(l),u=e.state.pasteIncoming&&c.length>1&&r.sel.ranges.length==c.length,d=r.sel.ranges.length-1;d>=0;d--){var f=r.sel.ranges[d],h=f.from(),p=f.to();o<n.length?h=oa(h.line,h.ch-(n.length-o)):e.state.overwrite&&f.empty()&&!e.state.pasteIncoming&&(p=oa(p.line,Math.min(yr(r,p.line).text.length,p.ch+ei(c).length)));var m=e.curOp.updateInput,g={from:h,to:p,text:u?[c[d]]:c,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(Vt(e.doc,g),Rr(e,"inputRead",e,g),l&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&f.head.ch<100&&(!d||r.sel.ranges[d-1].head.line!=f.head.line)){var v=e.getModeAt(f.head);if(v.electricChars){for(var b=0;b<v.electricChars.length;b++)if(l.indexOf(v.electricChars.charAt(b))>-1){cn(e,f.head.line,"smart");break}}else if(v.electricInput){var y=ba(g);v.electricInput.test(yr(r,y.line).text.slice(0,y.ch))&&cn(e,f.head.line,"smart")}}}return sn(e),e.curOp.updateInput=m,e.curOp.typing=!0,i.length>1e3||i.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=i,a&&Ke(e),e.state.pasteIncoming=e.state.cutIncoming=!1,!0}function ft(e,t){var n,r,i=e.doc;if(e.somethingSelected()){e.display.prevInput="";var a=i.sel.primary();n=Ao&&(a.to().line-a.from().line>100||(r=e.getSelection()).length>1e3);var o=n?"-":r||e.getSelection();e.display.input.value=o,e.state.focused&&so(e.display.input),Fi&&!Wi&&(e.display.inputHasSelection=o)}else t||(e.display.prevInput=e.display.input.value="",Fi&&!Wi&&(e.display.inputHasSelection=null));e.display.inaccurateSelection=n}function ht(e){"nocursor"==e.options.readOnly||Zi&&hi()==e.display.input||e.display.input.focus()}function pt(e){e.state.focused||(ht(e),Wt(e))}function mt(e){return e.options.readOnly||e.doc.cantEdit}function gt(e){function t(){e.state.focused&&setTimeout(ai(ht,e),0)}function n(t){Ur(e,t)||Ka(t)}function r(t){if(e.somethingSelected())i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,i.input.value=e.getSelection(),so(i.input));else{for(var n="",r=[],a=0;a<e.doc.sel.ranges.length;a++){var o=e.doc.sel.ranges[a].head.line,s={anchor:oa(o,0),head:oa(o+1,0)};r.push(s),n+=e.getRange(s.anchor,s.head)}"cut"==t.type?e.setSelections(r,null,no):(i.prevInput="",i.input.value=n,so(i.input))}"cut"==t.type&&(e.state.cutIncoming=!0)}var i=e.display;Xa(i.scroller,"mousedown",Je(e,At)),Ii?Xa(i.scroller,"dblclick",Je(e,function(t){if(!Ur(e,t)){var n=yt(e,t);if(n&&!kt(e,t)&&!bt(e.display,t)){Ua(t);var r=pn(e,n);ne(e.doc,r.anchor,r.head)}}})):Xa(i.scroller,"dblclick",function(t){Ur(e,t)||Ua(t)}),Xa(i.lineSpace,"selectstart",function(e){bt(i,e)||Ua(e)}),ra||Xa(i.scroller,"contextmenu",function(t){jt(e,t)}),Xa(i.scroller,"scroll",function(){i.scroller.clientHeight&&(_t(e,i.scroller.scrollTop),Et(e,i.scroller.scrollLeft,!0),Za(e,"scroll",e))}),Xa(i.scrollbarV,"scroll",function(){i.scroller.clientHeight&&_t(e,i.scrollbarV.scrollTop)}),Xa(i.scrollbarH,"scroll",function(){i.scroller.clientHeight&&Et(e,i.scrollbarH.scrollLeft)}),Xa(i.scroller,"mousewheel",function(t){Ot(e,t)}),Xa(i.scroller,"DOMMouseScroll",function(t){Ot(e,t)}),Xa(i.scrollbarH,"mousedown",t),Xa(i.scrollbarV,"mousedown",t),Xa(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),Xa(i.input,"keyup",Je(e,It)),Xa(i.input,"input",function(){Fi&&!Wi&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),ut(e)}),Xa(i.input,"keydown",Je(e,Nt)),Xa(i.input,"keypress",Je(e,Bt)),Xa(i.input,"focus",ai(Wt,e)),Xa(i.input,"blur",ai(Ht,e)),e.options.dragDrop&&(Xa(i.scroller,"dragstart",function(t){St(e,t)}),Xa(i.scroller,"dragenter",n),Xa(i.scroller,"dragover",n),Xa(i.scroller,"drop",Je(e,Mt))),Xa(i.scroller,"paste",function(t){bt(i,t)||(e.state.pasteIncoming=!0,ht(e),ut(e))}),Xa(i.input,"paste",function(){if(Yi&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var t=i.input.selectionStart,n=i.input.selectionEnd;i.input.value+="$",i.input.selectionStart=t,i.input.selectionEnd=n,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,ut(e)}),Xa(i.input,"cut",r),Xa(i.input,"copy",r),Vi&&Xa(i.sizer,"mouseup",function(){hi()==i.input&&i.input.blur(),ht(e)})}function vt(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,e.setSize()}function bt(e,t){for(var n=Yr(t);n!=e.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==e.sizer&&n!=e.mover)return!0}function yt(e,t,n,r){var i=e.display;if(!n){var a=Yr(t);if(a==i.scrollbarH||a==i.scrollbarV||a==i.scrollbarFiller||a==i.gutterFiller)return null}var o,s,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,s=t.clientY-l.top}catch(t){return null}var c,u=qe(e,o,s);if(r&&1==u.xRel&&(c=yr(e.doc,u.line).text).length==u.ch){var d=ao(c,c.length,e.options.tabSize)-c.length;u=oa(u.line,Math.max(0,Math.round((o-Te(e.display).left)/Ue(e.display))-d))}return u}function At(e){if(!Ur(this,e)){var t=this,n=t.display;if(n.shift=e.shiftKey,bt(n,e))return void(Yi||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!kt(t,e)){var r=yt(t,e);switch(window.focus(),qr(e)){case 1:r?wt(t,e,r):Yr(e)==n.scroller&&Ua(e);break;case 2:Yi&&(t.state.lastMiddleDown=+new Date),r&&ne(t.doc,r),setTimeout(ai(ht,t),20),Ua(e);break;case 3:ra&&jt(t,e)}}}}function wt(e,t,n){setTimeout(ai(pt,e),0);var r,i=+new Date;ua&&ua.time>i-400&&0==sa(ua.pos,n)?r="triple":ca&&ca.time>i-400&&0==sa(ca.pos,n)?(r="double",ua={time:i,pos:n}):(r="single",ca={time:i,pos:n});var a=e.doc.sel,o=Qi?t.metaKey:t.ctrlKey;e.options.dragDrop&&vo&&!mt(e)&&"single"==r&&a.contains(n)>-1&&a.somethingSelected()?xt(e,t,n,o):Ct(e,t,n,r,o)}function xt(e,t,n,r){var i=e.display,a=Je(e,function(o){Yi&&(i.scroller.draggable=!1),e.state.draggingText=!1,Ja(document,"mouseup",a),Ja(i.scroller,"drop",a),Math.abs(t.clientX-o.clientX)+Math.abs(t.clientY-o.clientY)<10&&(Ua(o),r||ne(e.doc,n),ht(e),Ii&&!Wi&&setTimeout(function(){document.body.focus(),ht(e)},20))});Yi&&(i.scroller.draggable=!0),e.state.draggingText=a,i.scroller.dragDrop&&i.scroller.dragDrop(),Xa(document,"mouseup",a),Xa(i.scroller,"drop",a)}function Ct(e,t,n,r,i){function a(t){if(0!=sa(m,t))if(m=t,"rect"==r){for(var i=[],a=e.options.tabSize,o=ao(yr(c,n.line).text,n.ch,a),s=ao(yr(c,t.line).text,t.ch,a),l=Math.min(o,s),h=Math.max(o,s),p=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));g>=p;p++){var v=yr(c,p).text,b=Zr(v,l,a);l==h?i.push(new U(oa(p,b),oa(p,b))):v.length>b&&i.push(new U(oa(p,b),oa(p,Zr(v,h,a))))}i.length||i.push(new U(n,n)),le(c,V(f.ranges.slice(0,d).concat(i),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y=u,A=y.anchor,w=t;if("single"!=r){if("double"==r)var x=pn(e,t);else var x=new U(oa(t.line,0),J(c,oa(t.line+1,0)));sa(x.anchor,A)>0?(w=x.head,A=R(y.from(),x.anchor)):(w=x.anchor,A=q(y.to(),x.head))}var i=f.ranges.slice(0);i[d]=new U(J(c,A),w),le(c,V(i,d),ro)}}function o(t){var n=++b,i=yt(e,t,!0,"rect"==r);if(i)if(0!=sa(i,m)){pt(e),a(i);var s=v(l,c);(i.line>=s.to||i.line<s.from)&&setTimeout(Je(e,function(){b==n&&o(t)}),150)}else{var u=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;u&&setTimeout(Je(e,function(){b==n&&(l.scroller.scrollTop+=u,o(t))}),50)}}function s(t){b=1/0,Ua(t),ht(e),Ja(document,"mousemove",y),Ja(document,"mouseup",A),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;Ua(t);var u,d,f=c.sel;if(i&&!t.shiftKey?(d=c.sel.contains(n),u=d>-1?c.sel.ranges[d]:new U(n,n)):u=c.sel.primary(),t.altKey)r="rect",i||(u=new U(n,n)),n=yt(e,t,!0,!0),d=-1;else if("double"==r){var h=pn(e,n);u=e.display.shift||c.extend?te(c,u,h.anchor,h.head):h}else if("triple"==r){var p=new U(oa(n.line,0),J(c,oa(n.line+1,0)));u=e.display.shift||c.extend?te(c,u,p.anchor,p.head):p}else u=te(c,u,n);i?d>-1?ie(c,d,u,ro):(d=c.sel.ranges.length,le(c,V(c.sel.ranges.concat([u]),d),{scroll:!1,origin:"*mouse"})):(d=0,le(c,new G([u],0),ro),f=c.sel);var m=n,g=l.wrapper.getBoundingClientRect(),b=0,y=Je(e,function(e){(Fi&&!Hi?e.buttons:qr(e))?o(e):s(e)}),A=Je(e,s);Xa(document,"mousemove",y),Xa(document,"mouseup",A)}function Tt(e,t,n,r,i){try{var a=t.clientX,o=t.clientY}catch(t){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ua(t);var s=e.display,l=s.lineDiv.getBoundingClientRect();if(o>l.bottom||!Kr(e,n))return Fr(t);o-=l.top-s.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=s.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=a){return i(e,n,e,Tr(e.doc,o),e.options.gutters[c],t),Fr(t)}}}function kt(e,t){return Tt(e,t,"gutterClick",!0,Rr)}function Mt(e){var t=this;if(!Ur(t,e)&&!bt(t.display,e)){Ua(e),Fi&&(ha=+new Date);var n=yt(t,e,!0),r=e.dataTransfer.files;if(n&&!mt(t))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,a=Array(i),o=0,s=0;i>s;++s)!function(e,r){var s=new FileReader;s.onload=Je(t,function(){if(a[r]=s.result,++o==i){n=J(t.doc,n);var e={from:n,to:n,text:bo(a.join("\n")),origin:"paste"};Vt(t.doc,e),se(t.doc,K(n,ba(e)))}}),s.readAsText(e)}(r[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(ai(ht,t),20);try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!(Qi?e.metaKey:e.ctrlKey))var l=t.listSelections();if(ce(t.doc,K(n,n)),l)for(var s=0;s<l.length;++s)en(t.doc,"",l[s].anchor,l[s].head,"drag");t.replaceSelection(a,"around","paste"),ht(t)}}catch(e){}}}}function St(e,t){if(Fi&&(!e.state.draggingText||+new Date-ha<100))return void Ka(t);if(!Ur(e,t)&&!bt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!Ui)){var n=ci("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Gi&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Gi&&n.parentNode.removeChild(n)}}function _t(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Pi||x(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),Pi&&x(e),be(e,100))}function Et(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,b(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function Ot(e,t){var n=t.wheelDeltaX,r=t.wheelDeltaY;null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta);var i=e.display,a=i.scroller;if(n&&a.scrollWidth>a.clientWidth||r&&a.scrollHeight>a.clientHeight){if(r&&Qi&&Yi)e:for(var o=t.target,s=i.view;o!=a;o=o.parentNode)for(var l=0;l<s.length;l++)if(s[l].node==o){e.display.currentWheelTarget=o;break e}if(n&&!Pi&&!Gi&&null!=ma)return r&&_t(e,Math.max(0,Math.min(a.scrollTop+r*ma,a.scrollHeight-a.clientHeight))),Et(e,Math.max(0,Math.min(a.scrollLeft+n*ma,a.scrollWidth-a.clientWidth))),Ua(t),void(i.wheelStartX=null);if(r&&null!=ma){var c=r*ma,u=e.doc.scrollTop,d=u+i.wrapper.clientHeight;0>c?u=Math.max(0,u+c-50):d=Math.min(e.doc.height,d+c+50),x(e,{top:u,bottom:d})}20>pa&&(null==i.wheelStartX?(i.wheelStartX=a.scrollLeft,i.wheelStartY=a.scrollTop,i.wheelDX=n,i.wheelDY=r,setTimeout(function(){if(null!=i.wheelStartX){var e=a.scrollLeft-i.wheelStartX,t=a.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(ma=(ma*pa+n)/(pa+1),++pa)}},200)):(i.wheelDX+=n,i.wheelDY+=r))}}function Lt(e,t,n){if("string"==typeof t&&!(t=Ea[t]))return!1;e.display.pollingFast&&dt(e)&&(e.display.pollingFast=!1);var r=e.display.shift,i=!1;try{mt(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=to}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Dt(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function zt(e,t){var n=gn(e.options.keyMap),r=n.auto;clearTimeout(ga),r&&!Da(t)&&(ga=setTimeout(function(){gn(e.options.keyMap)==n&&(e.options.keyMap=r.call?r.call(null,e):r,s(e))},50));var i=za(t,!0),a=!1;if(!i)return!1;var o=Dt(e);return a=t.shiftKey?La("Shift-"+i,o,function(t){return Lt(e,t,!0)})||La(i,o,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?Lt(e,t):void 0}):La(i,o,function(t){
return Lt(e,t)}),a&&(Ua(t),ve(e),Rr(e,"keyHandled",e,i,t)),a}function $t(e,t,n){var r=La("'"+n+"'",Dt(e),function(t){return Lt(e,t,!0)});return r&&(Ua(t),ve(e),Rr(e,"keyHandled",e,"'"+n+"'",t)),r}function Nt(e){var t=this;if(pt(t),!Ur(t,e)){Ii&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=zt(t,e);Gi&&(va=r?n:null,!r&&88==n&&!Ao&&(Qi?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Pt(t)}}function Pt(e){function t(e){18!=e.keyCode&&e.altKey||(mi(n,"CodeMirror-crosshair"),Ja(document,"keyup",t),Ja(document,"mouseover",t))}var n=e.display.lineDiv;gi(n,"CodeMirror-crosshair"),Xa(document,"keyup",t),Xa(document,"mouseover",t)}function It(e){Ur(this,e)||16==e.keyCode&&(this.doc.sel.shift=!1)}function Bt(e){var t=this;if(!Ur(t,e)){var n=e.keyCode,r=e.charCode;if(Gi&&n==va)return va=null,void Ua(e);if(!(Gi&&(!e.which||e.which<10)||Vi)||!zt(t,e)){$t(t,e,String.fromCharCode(null==r?n:r))||(Fi&&!Wi&&(t.display.inputHasSelection=null),ut(t))}}}function Wt(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(Za(e,"focus",e),e.state.focused=!0,gi(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(ft(e),Yi&&setTimeout(ai(ft,e,!0),0))),ct(e),ve(e))}function Ht(e){e.state.focused&&(Za(e,"blur",e),e.state.focused=!1,mi(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function jt(e,t){function n(){if(null!=i.input.selectionStart){var t=e.somethingSelected(),n=i.input.value="​"+(t?i.input.value:"");i.prevInput=t?"":"​",i.input.selectionStart=1,i.input.selectionEnd=n.length,i.selForContextMenu=e.doc.sel}}function r(){if(i.inputDiv.style.position="relative",i.input.style.cssText=s,Wi&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=o),ct(e),null!=i.input.selectionStart){(!Fi||Wi)&&n();var t=0,r=function(){i.selForContextMenu==e.doc.sel&&0==i.input.selectionStart?Je(e,Ea.selectAll)(e):t++<10?i.detectingSelectAll=setTimeout(r,500):ft(e)};i.detectingSelectAll=setTimeout(r,200)}}if(!Ur(e,t,"contextmenu")){var i=e.display;if(!bt(i,t)&&!Ft(e,t)){var a=yt(e,t),o=i.scroller.scrollTop;if(a&&!Gi){e.options.resetSelectionOnContextMenu&&-1==e.doc.sel.contains(a)&&Je(e,le)(e.doc,K(a),no);var s=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(Fi?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ht(e),ft(e),e.somethingSelected()||(i.input.value=i.prevInput=" "),i.selForContextMenu=e.doc.sel,clearTimeout(i.detectingSelectAll),Fi&&!Wi&&n(),ra){Ka(t);var l=function(){Ja(window,"mouseup",l),setTimeout(r,20)};Xa(window,"mouseup",l)}else setTimeout(r,50)}}}}function Ft(e,t){return!!Kr(e,"gutterContextMenu")&&Tt(e,t,"gutterContextMenu",!1,Za)}function Yt(e,t){if(sa(e,t.from)<0)return e;if(sa(e,t.to)<=0)return ba(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ba(t).ch-t.to.ch),oa(n,r)}function qt(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new U(Yt(i.anchor,t),Yt(i.head,t)))}return V(n,e.sel.primIndex)}function Rt(e,t,n){return e.line==t.line?oa(n.line,e.ch-t.ch+n.ch):oa(n.line+(e.line-t.line),e.ch)}function Gt(e,t,n){for(var r=[],i=oa(e.first,0),a=i,o=0;o<t.length;o++){var s=t[o],l=Rt(s.from,i,a),c=Rt(ba(s),i,a);if(i=s.to,a=c,"around"==n){var u=e.sel.ranges[o],d=sa(u.head,u.anchor)<0;r[o]=new U(d?c:l,d?l:c)}else r[o]=new U(l,l)}return new G(r,e.sel.primIndex)}function Ut(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=J(e,t)),n&&(this.to=J(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Za(e,"beforeChange",e,r),e.cm&&Za(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Vt(e,t,n){if(e.cm){if(!e.cm.curOp)return Je(e.cm,Vt)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Kr(e,"beforeChange")||e.cm&&Kr(e.cm,"beforeChange"))||(t=Ut(e,t,!0))){var r=ia&&!n&&Ln(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Kt(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Kt(e,t)}}function Kt(e,t){if(1!=t.text.length||""!=t.text[0]||0!=sa(t.from,t.to)){var n=qt(e,t);Lr(e,t,n,e.cm?e.cm.curOp.id:NaN),Zt(e,t,n,_n(e,t));var r=[];vr(e,function(e,n){n||-1!=ti(r,e.history)||(jr(e.history,t),r.push(e.history)),Zt(e,t,null,_n(e,t))})}}function Xt(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,a=e.sel,o="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<o.length&&(r=o[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=o.length){for(i.lastOrigin=i.lastSelOrigin=null;r=o.pop(),r.ranges;){if($r(r,s),n&&!r.equals(e.sel))return void le(e,r,{clearRedo:!1});a=r}var c=[];$r(a,s),s.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=Kr(e,"beforeChange")||e.cm&&Kr(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var d=r.changes[l];if(d.origin=t,u&&!Ut(e,d,!1))return void(o.length=0);c.push(_r(e,d));var f=l?qt(e,d,null):ei(o);Zt(e,d,f,On(e,d)),!l&&e.cm&&e.cm.scrollIntoView(d);var h=[];vr(e,function(e,t){t||-1!=ti(h,e.history)||(jr(e.history,d),h.push(e.history)),Zt(e,d,null,On(e,d))})}}}}function Jt(e,t){if(0!=t&&(e.first+=t,e.sel=new G(ni(e.sel.ranges,function(e){return new U(oa(e.anchor.line+t,e.anchor.ch),oa(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){nt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)rt(e.cm,r,"gutter")}}function Zt(e,t,n,r){if(e.cm&&!e.cm.curOp)return Je(e.cm,Zt)(e,t,n,r);if(t.to.line<e.first)return void Jt(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Jt(e,i),t={from:oa(e.first,0),to:oa(t.to.line+i,t.to.ch),text:[ei(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:oa(a,yr(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ar(e,t.from,t.to),n||(n=qt(e,t,null)),e.cm?Qt(e.cm,t,r):pr(e,t,r),ce(e,n,no)}}function Qt(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=Cr(jn(yr(r,o.line))),r.iter(c,s.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&Vr(e),pr(r,t,n,a(e)),e.options.lineWrapping||(r.iter(c,o.line+t.text.length,function(e){var t=f(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),be(e,400);var u=t.text.length-(s.line-o.line)-1;o.line!=s.line||1!=t.text.length||hr(e.doc,t)?nt(e,o.line,s.line+1,u):rt(e,o.line,"text");var d=Kr(e,"changes"),h=Kr(e,"change");if(h||d){var p={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};h&&Rr(e,"change",e,p),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function en(e,t,n,r,i){if(r||(r=n),sa(r,n)<0){var a=r;r=n,n=a}"string"==typeof t&&(t=bo(t)),Vt(e,{from:n,to:r,text:t,origin:i})}function tn(e,t){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Xi){var a=ci("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-xe(e.display))+"px; height: "+(t.bottom-t.top+eo)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}function nn(e,t,n,r){for(null==r&&(r=0);;){var i=!1,a=je(e,t),o=n&&n!=t?je(e,n):a,s=an(e,Math.min(a.left,o.left),Math.min(a.top,o.top)-r,Math.max(a.left,o.left),Math.max(a.bottom,o.bottom)+r),l=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=s.scrollTop&&(_t(e,s.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(i=!0)),null!=s.scrollLeft&&(Et(e,s.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(i=!0)),!i)return a}}function rn(e,t,n,r,i){var a=an(e,t,n,r,i);null!=a.scrollTop&&_t(e,a.scrollTop),null!=a.scrollLeft&&Et(e,a.scrollLeft)}function an(e,t,n,r,i){var a=e.display,o=Ge(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,l=a.scroller.clientHeight-eo,c={},u=e.doc.height+Ce(a),d=o>n,f=i>u-o;if(s>n)c.scrollTop=d?0:n;else if(i>s+l){var h=Math.min(n,(f?u:i)-l);h!=s&&(c.scrollTop=h)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft,m=a.scroller.clientWidth-eo;t+=a.gutters.offsetWidth,r+=a.gutters.offsetWidth;var g=a.gutters.offsetWidth,v=g+10>t;return p+g>t||v?(v&&(t=0),c.scrollLeft=Math.max(0,t-10-g)):r>m+p-3&&(c.scrollLeft=r+10-m),c}function on(e,t,n){(null!=t||null!=n)&&ln(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function sn(e){ln(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?oa(t.line,t.ch-1):t,r=oa(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function ln(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Fe(e,t.from),r=Fe(e,t.to),i=an(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function cn(e,t,n,r){var i,a=e.doc;null==n&&(n="add"),"smart"==n&&(e.doc.mode.indent?i=we(e,t):n="prev");var o=e.options.tabSize,s=yr(a,t),l=ao(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(c=e.doc.mode.indent(i,s.text.slice(u.length),s.text))==to){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>a.first?ao(yr(a,t-1).text,null,o):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/o);h;--h)f+=o,d+="\t";if(c>f&&(d+=Qr(c-f)),d!=u)en(e.doc,d,oa(t,0),oa(t,u.length),"+input");else for(var h=0;h<a.sel.ranges.length;h++){var p=a.sel.ranges[h];if(p.head.line==t&&p.head.ch<u.length){var f=oa(t,u.length);ie(a,h,new U(f,f));break}}s.stateAfter=null}function un(e,t,n,r){var i=t,a=t,o=e.doc;return"number"==typeof t?a=yr(o,X(o,t)):i=Cr(t),null==i?null:(r(a,i)&&rt(e,i,n),a)}function dn(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var a=t(n[i]);r.length&&sa(a.from,ei(r).to)<=0;){var o=r.pop();if(sa(o.from,a.from)<0){a.from=o.from;break}}r.push(a)}Xe(e,function(){for(var t=r.length-1;t>=0;t--)en(e.doc,"",r[t].from,r[t].to,"+delete");sn(e)})}function fn(e,t,n,r,i){function a(){var t=s+n;return t<e.first||t>=e.first+e.size?d=!1:(s=t,u=yr(e,t))}function o(e){var t=(i?$i:Ni)(u,l,n,!0);if(null==t){if(e||!a())return d=!1;l=i?(0>n?_i:Si)(u):0>n?u.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,c=n,u=yr(e,s),d=!0;if("char"==r)o();else if("column"==r)o(!0);else if("word"==r||"group"==r)for(var f=null,h="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||o(!m);m=!1){var g=u.text.charAt(l)||"\n",v=oi(g,p)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||m||v||(v="s"),f&&f!=v){0>n&&(n=1,o());break}if(v&&(f=v),n>0&&!o(!m))break}var b=he(e,oa(s,l),c,!0);return d||(b.hitSide=!0),b}function hn(e,t,n,r){var i,a=e.doc,o=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(0>n?1.5:.5)*Ge(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=qe(e,o,i);if(!l.outside)break;if(0>n?0>=i:i>=a.height){l.hitSide=!0;break}i+=5*n}return l}function pn(e,t){var n=e.doc,r=yr(n,t.line).text,i=t.ch,a=t.ch;if(r){var o=e.getHelper(t,"wordChars");(t.xRel<0||a==r.length)&&i?--i:++a;for(var s=r.charAt(i),l=oi(s,o)?function(e){return oi(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!oi(e)};i>0&&l(r.charAt(i-1));)--i;for(;a<r.length&&l(r.charAt(a));)++a}return new U(oa(t.line,i),oa(t.line,a))}function mn(t,n,r,i){e.defaults[t]=n,r&&(Aa[t]=i?function(e,t,n){n!=wa&&r(e,t,n)}:r)}function gn(e){return"string"==typeof e?Oa[e]:e}function vn(e,t,n,r,i){if(r&&r.shared)return bn(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Je(e.cm,vn)(e,t,n,r,i);var a=new Na(e,i),o=sa(t,n);if(r&&ii(r,a,!1),o>0||0==o&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=ci("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||(a.widgetNode.ignoreEvents=!0),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Hn(e,t.line,t,n,a)||t.line!=n.line&&Hn(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");aa=!0}a.addToHistory&&Lr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&a.collapsed&&!c.options.lineWrapping&&jn(e)==c.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&xr(e,0),kn(e,new xn(a,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),a.collapsed&&e.iter(t.line,n.line+1,function(t){Rn(e,t)&&xr(t,0)}),a.clearOnEnter&&Xa(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(ia=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Pa,a.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),a.collapsed)nt(c,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle)for(var u=t.line;u<=n.line;u++)rt(c,u,"text");a.atomic&&de(c.doc),Rr(c,"markerAdded",c,a)}return a}function bn(e,t,n,r,i){r=ii(r),r.shared=!1;var a=[vn(e,t,n,r,i)],o=a[0],s=r.widgetNode;return vr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),a.push(vn(e,J(e,t),J(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=ei(a)}),new Ia(a,o)}function yn(e){return e.findMarks(oa(e.first,0),e.clipPos(oa(e.lastLine())),function(e){return e.parent})}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),a=e.clipPos(i.from),o=e.clipPos(i.to);if(sa(a,o)){var s=vn(e,a,o,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function wn(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];vr(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var a=n.markers[i];-1==ti(r,a.doc)&&(a.parent=null,n.markers.splice(i--,1))}}}function xn(e,t,n){this.marker=e,this.from=t,this.to=n}function Cn(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Tn(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function kn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Mn(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(s||a.from==t&&"bookmark"==o.type&&(!n||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(r||(r=[])).push(new xn(o,a.from,l?null:a.to))}}return r}function Sn(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(s||a.from==t&&"bookmark"==o.type&&(!n||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(r||(r=[])).push(new xn(o,l?null:a.from-t,null==a.to?null:a.to-t))}}return r}function _n(e,t){var n=Q(e,t.from.line)&&yr(e,t.from.line).markedSpans,r=Q(e,t.to.line)&&yr(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,a=t.to.ch,o=0==sa(t.from,t.to),s=Mn(n,i,o),l=Sn(r,a,o),c=1==t.text.length,u=ei(t.text).length+(c?i:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var h=Cn(l,f.marker);h?c&&(f.to=null==h.to?null:h.to+u):f.to=i}}if(l)for(var d=0;d<l.length;++d){var f=l[d];if(null!=f.to&&(f.to+=u),null==f.from){var h=Cn(s,f.marker);h||(f.from=u,c&&(s||(s=[])).push(f))}else f.from+=u,c&&(s||(s=[])).push(f)}s&&(s=En(s)),l&&l!=s&&(l=En(l));var p=[s];if(!c){var m,g=t.text.length-2;if(g>0&&s)for(var d=0;d<s.length;++d)null==s[d].to&&(m||(m=[])).push(new xn(s[d].marker,null,null));for(var d=0;g>d;++d)p.push(m);p.push(l)}return p}function En(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function On(e,t){var n=Ir(e,t),r=_n(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var a=n[i],o=r[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],c=0;c<a.length;++c)if(a[c].marker==l.marker)continue e;a.push(l)}else o&&(n[i]=o)}return n}function Ln(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=ti(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],a=0;a<r.length;++a)for(var o=r[a],s=o.find(0),l=0;l<i.length;++l){var c=i[l];if(!(sa(c.to,s.from)<0||sa(c.from,s.to)>0)){var u=[l,1],d=sa(c.from,s.from),f=sa(c.to,s.to);(0>d||!o.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(f>0||!o.inclusiveRight&&!f)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-1}}return i}function Dn(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function zn(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function $n(e){return e.inclusiveLeft?-1:0}function Nn(e){return e.inclusiveRight?1:0}function Pn(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),a=sa(r.from,i.from)||$n(e)-$n(t);if(a)return-a;var o=sa(r.to,i.to)||Nn(e)-Nn(t);return o||t.id-e.id}function In(e,t){var n,r=aa&&e.markedSpans;if(r)for(var i,a=0;a<r.length;++a)i=r[a],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||Pn(n,i.marker)<0)&&(n=i.marker);return n}function Bn(e){return In(e,!0)}function Wn(e){return In(e,!1)}function Hn(e,t,n,r,i){var a=yr(e,t),o=aa&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var c=l.marker.find(0),u=sa(c.from,n)||$n(l.marker)-$n(i),d=sa(c.to,r)||Nn(l.marker)-Nn(i);if(!(u>=0&&0>=d||0>=u&&d>=0)&&(0>=u&&(sa(c.to,n)||Nn(l.marker)-$n(i))>0||u>=0&&(sa(c.from,r)||$n(l.marker)-Nn(i))<0))return!0}}}function jn(e){for(var t;t=Bn(e);)e=t.find(-1,!0).line;return e}function Fn(e){for(var t,n;t=Wn(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function Yn(e,t){var n=yr(e,t),r=jn(n);return n==r?t:Cr(r)}function qn(e,t){if(t>e.lastLine())return t;var n,r=yr(e,t);if(!Rn(e,r))return t;for(;n=Wn(r);)r=n.find(1,!0).line;return Cr(r)+1}function Rn(e,t){var n=aa&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Gn(e,t,r))return!0}}function Gn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Gn(e,r.line,Cn(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,a=0;a<t.markedSpans.length;++a)if(i=t.markedSpans[a],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Gn(e,t,i))return!0}function Un(e,t,n){kr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&on(e,null,n)}function Vn(e){return null!=e.height?e.height:(fi(document.body,e.node)||di(e.cm.display.measure,ci("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function Kn(e,t,n,r){var i=new Ba(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),un(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,!Rn(e.doc,t)){var r=kr(t)<e.doc.scrollTop;xr(t,t.height+Vn(i)),r&&on(e,null,i.height),e.curOp.forceUpdate=!0}return!0}),i}function Xn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Dn(e),zn(e,n);var i=r?r(e):1;i!=e.height&&xr(e,i)}function Jn(e){e.parent=null,Dn(e)}function Zn(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Qn(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function er(e,t,n){for(var r=0;10>r;r++){var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}function tr(t,n,r,i,a,o,s){var l=r.flattenSpans;null==l&&(l=t.options.flattenSpans);var c,u=0,d=null,f=new $a(n,t.options.tabSize);for(""==n&&Zn(Qn(r,i),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(l=!1,s&&ir(t,n,i,f.pos),f.pos=n.length,c=null):c=Zn(er(r,f,i),o),t.options.addModeClass){var h=e.innerMode(r,i).mode.name;h&&(c="m-"+(c?h+" "+c:h))}l&&d==c||(u<f.start&&a(f.start,d),u=f.start,d=c),f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e4);a(p,d),u=p}}function nr(e,t,n,r){var i=[e.state.modeGen],a={};tr(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},a,r);for(var o=0;o<e.state.overlays.length;++o){var s=e.state.overlays[o],l=1,c=0;tr(e,t.text,s.mode,!0,function(e,t){for(var n=l;e>c;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var a=i[n+1];i[n+1]=(a?a+" ":"")+"cm-overlay "+t}},a)}return{styles:i,classes:a.bgClass||a.textClass?a:null}}function rr(e,t){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=nr(e,t,t.stateAfter=we(e,Cr(t)));t.styles=n.styles,n.classes?t.styleClasses=n.classes:t.styleClasses&&(t.styleClasses=null)}return t.styles}function ir(e,t,n,r){var i=e.doc.mode,a=new $a(t,e.options.tabSize);for(a.start=a.pos=r||0,""==t&&Qn(i,n);!a.eol()&&a.pos<=e.options.maxHighlightLength;)er(i,a,n),a.start=a.pos}function ar(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ja:Ha;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function or(e,t){var n=ci("span",null,null,Yi?"padding-right: .1px":null),r={pre:ci("pre",[n]),content:n,col:0,pos:0,cm:e};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,o=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=lr,(Fi||Yi)&&e.getOption("lineWrapping")&&(r.addToken=cr(r.addToken)),Ci(e.display.measure)&&(a=Mr(o))&&(r.addToken=ur(r.addToken,a)),r.map=[],fr(o,r,rr(e,o)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=vi(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=vi(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(xi(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return Za(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=vi(r.pre.className,r.textClass||"")),r}function sr(e){var t=ci("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function lr(e,t,n,r,i,a){if(t){var o=e.cm.options.specialChars,s=!1;if(o.test(t))for(var l=document.createDocumentFragment(),c=0;;){o.lastIndex=c;var u=o.exec(t),d=u?u.index-c:t.length-c;if(d){var f=document.createTextNode(t.slice(c,c+d));Wi?l.appendChild(ci("span",[f])):l.appendChild(f),e.map.push(e.pos,e.pos+d,f),e.col+=d,e.pos+=d}if(!u)break;if(c+=d+1,"\t"==u[0]){var h=e.cm.options.tabSize,p=h-e.col%h,f=l.appendChild(ci("span",Qr(p),"cm-tab"));e.col+=p}else{var f=e.cm.options.specialCharPlaceholder(u[0]);Wi?l.appendChild(ci("span",[f])):l.appendChild(f),e.col+=1}e.map.push(e.pos,e.pos+1,f),e.pos++}else{e.col+=t.length;var l=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,l),Wi&&(s=!0),e.pos+=t.length}if(n||r||i||s){var m=n||"";r&&(m+=r),i&&(m+=i);var g=ci("span",[l],m);return a&&(g.title=a),e.content.appendChild(g)}e.content.appendChild(l)}}function cr(e){function t(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}return function(n,r,i,a,o,s){e(n,r.replace(/ {3,}/g,t),i,a,o,s)}}function ur(e,t){return function(n,r,i,a,o,s){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var u=0;u<t.length;u++){var d=t[u];if(d.to>l&&d.from<=l)break}if(d.to>=c)return e(n,r,i,a,o,s);e(n,r.slice(0,d.to-l),i,a,null,s),a=null,r=r.slice(d.to-l),l=d.to}}}function dr(e,t,n,r){var i=!r&&n.widgetNode;i&&(e.map.push(e.pos,e.pos+t,i),e.content.appendChild(i)),e.pos+=t}function fr(e,t,n){var r=e.markedSpans,i=e.text,a=0;if(r)for(var o,s,l,c,u,d,f=i.length,h=0,p=1,m="",g=0;;){if(g==h){s=l=c=u="",d=null,g=1/0;for(var v=[],b=0;b<r.length;++b){var y=r[b],A=y.marker;y.from<=h&&(null==y.to||y.to>h)?(null!=y.to&&g>y.to&&(g=y.to,l=""),A.className&&(s+=" "+A.className),A.startStyle&&y.from==h&&(c+=" "+A.startStyle),A.endStyle&&y.to==g&&(l+=" "+A.endStyle),A.title&&!u&&(u=A.title),A.collapsed&&(!d||Pn(d.marker,A)<0)&&(d=y)):y.from>h&&g>y.from&&(g=y.from),"bookmark"==A.type&&y.from==h&&A.widgetNode&&v.push(A)}if(d&&(d.from||0)==h&&(dr(t,(null==d.to?f+1:d.to)-h,d.marker,null==d.from),null==d.to))return;if(!d&&v.length)for(var b=0;b<v.length;++b)dr(t,0,v[b])}if(h>=f)break;for(var w=Math.min(f,g);;){if(m){var x=h+m.length;if(!d){var C=x>w?m.slice(0,w-h):m;t.addToken(t,C,o?o+s:s,c,h+C.length==g?l:"",u)}if(x>=w){m=m.slice(w-h),h=w;break}h=x,c=""}m=i.slice(a,a=n[p++]),o=ar(n[p++],t.cm.options)}}else for(var p=1;p<n.length;p+=2)t.addToken(t,i.slice(a,a=n[p]),ar(n[p+1],t.cm.options))}function hr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==ei(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function pr(e,t,n,r){function i(e){return n?n[e]:null}function a(e,n,i){Xn(e,n,i,r),Rr(e,"change",e,t)}var o=t.from,s=t.to,l=t.text,c=yr(e,o.line),u=yr(e,s.line),d=ei(l),f=i(l.length-1),h=s.line-o.line;if(hr(e,t)){for(var p=0,m=[];p<l.length-1;++p)m.push(new Wa(l[p],i(p),r));a(u,u.text,f),h&&e.remove(o.line,h),m.length&&e.insert(o.line,m)}else if(c==u)if(1==l.length)a(c,c.text.slice(0,o.ch)+d+c.text.slice(s.ch),f);else{for(var m=[],p=1;p<l.length-1;++p)m.push(new Wa(l[p],i(p),r));m.push(new Wa(d+c.text.slice(s.ch),f,r)),a(c,c.text.slice(0,o.ch)+l[0],i(0)),e.insert(o.line+1,m)}else if(1==l.length)a(c,c.text.slice(0,o.ch)+l[0]+u.text.slice(s.ch),i(0)),e.remove(o.line+1,h);else{a(c,c.text.slice(0,o.ch)+l[0],i(0)),a(u,d+u.text.slice(s.ch),f);for(var p=1,m=[];p<l.length-1;++p)m.push(new Wa(l[p],i(p),r));h>1&&e.remove(o.line+1,h-1),e.insert(o.line+1,m)}Rr(e,"change",e,t)}function mr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function gr(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function vr(e,t,n){function r(e,i,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=i){var l=a&&s.sharedHist;(!n||l)&&(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function br(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,nt(e)}function yr(e,t){if(0>(t-=e.first)||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],a=i.chunkSize();if(a>t){n=i;break}t-=a}return n.lines[t]}function Ar(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var a=e.text;i==n.line&&(a=a.slice(0,n.ch)),i==t.line&&(a=a.slice(t.ch)),r.push(a),++i}),r}function wr(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function xr(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Cr(e){if(null==e.parent)return null;for(var t=e.parent,n=ti(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Tr(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],a=i.height;if(a>t){e=i;continue e}t-=a,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var o=e.lines[r],s=o.height;if(s>t)break;t-=s}return n+r}function kr(e){e=jn(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var a=n.parent;a;n=a,a=n.parent)for(var r=0;r<a.children.length;++r){var o=a.children[r];if(o==n)break;t+=o.height}return t}function Mr(e){var t=e.order;return null==t&&(t=e.order=Co(e.text)),t}function Sr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function _r(e,t){var n={from:Y(t.from),to:ba(t),text:Ar(e,t.from,t.to)};return Nr(e,n,t.from.line,t.to.line+1),vr(e,function(e){Nr(e,n,t.from.line,t.to.line+1)},!0),n}function Er(e){for(;e.length;){if(!ei(e).ranges)break;e.pop()}}function Or(e,t){return t?(Er(e.done),ei(e.done)):e.done.length&&!ei(e.done).ranges?ei(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),ei(e.done)):void 0}function Lr(e,t,n,r){var i=e.history;i.undone.length=0;var a,o=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=Or(i,i.lastOp==r))){var s=ei(a.changes);0==sa(t.from,t.to)&&0==sa(t.from,s.to)?s.to=ba(t):a.changes.push(_r(e,t))}else{var l=ei(i.done);for(l&&l.ranges||$r(e.sel,i.done),a={changes:[_r(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||Za(e,"historyAdded")}function Dr(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function zr(e,t,n,r){var i=e.history,a=r&&r.origin;n==i.lastOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||Dr(e,a,ei(i.done),t))?i.done[i.done.length-1]=t:$r(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastOp=n,r&&!1!==r.clearRedo&&Er(i.undone)}function $r(e,t){var n=ei(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Nr(e,t,n,r){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=n.markedSpans),++a})}function Pr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ir(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(Pr(n[r]));return i}function Br(e,t,n){for(var r=0,i=[];r<e.length;++r){var a=e[r];if(a.ranges)i.push(n?G.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];i.push({changes:s});for(var l=0;l<o.length;++l){var c,u=o[l];if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&ti(t,Number(c[1]))>-1&&(ei(s)[d]=u[d],delete u[d])}}}return i}function Wr(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Hr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||(a=e[i]=a.deepCopy(),a.copied=!0);for(var s=0;s<a.ranges.length;s++)Wr(a.ranges[s].anchor,t,n,r),Wr(a.ranges[s].head,t,n,r)}else{for(var s=0;s<a.changes.length;++s){var l=a.changes[s];if(n<l.from.line)l.from=oa(l.from.line+r,l.from.ch),l.to=oa(l.to.line+r,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function jr(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Hr(e.done,n,r,i),Hr(e.undone,n,r,i)}function Fr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Yr(e){return e.target||e.srcElement}function qr(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Qi&&e.ctrlKey&&1==t&&(t=3),t}function Rr(e,t){
var n=e._handlers&&e._handlers[t];if(n){var r=Array.prototype.slice.call(arguments,2);Ga||(++Qa,Ga=[],setTimeout(Gr,0));for(var i=0;i<n.length;++i)Ga.push(function(e){return function(){e.apply(null,r)}}(n[i]))}}function Gr(){--Qa;var e=Ga;Ga=null;for(var t=0;t<e.length;++t)e[t]()}function Ur(e,t,n){return Za(e,n||t.type,e,t),Fr(t)||t.codemirrorIgnore}function Vr(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==ti(n,t[r])&&n.push(t[r])}function Kr(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function Xr(e){e.prototype.on=function(e,t){Xa(this,e,t)},e.prototype.off=function(e,t){Ja(this,e,t)}}function Jr(){this.id=null}function Zr(e,t,n){for(var r=0,i=0;;){var a=e.indexOf("\t",r);-1==a&&(a=e.length);var o=a-r;if(a==e.length||i+o>=t)return r+Math.min(o,t-i);if(i+=a-r,i+=n-i%n,r=a+1,i>=t)return r}}function Qr(e){for(;oo.length<=e;)oo.push(ei(oo)+" ");return oo[e]}function ei(e){return e[e.length-1]}function ti(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function ni(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function ri(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&ii(t,n),n}function ii(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function ai(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function oi(e,t){return t?!!(t.source.indexOf("\\w")>-1&&uo(e))||t.test(e):uo(e)}function si(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function li(e){return e.charCodeAt(0)>=768&&fo.test(e)}function ci(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function ui(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function di(e,t){return ui(e).appendChild(t)}function fi(e,t){if(e.contains)return e.contains(t);for(;t=t.parentNode;)if(t==e)return!0}function hi(){return document.activeElement}function pi(e){return new RegExp("\\b"+e+"\\b\\s*")}function mi(e,t){var n=pi(t);n.test(e.className)&&(e.className=e.className.replace(n,""))}function gi(e,t){pi(t).test(e.className)||(e.className+=" "+t)}function vi(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!pi(n[r]).test(t)&&(t+=" "+n[r]);return t}function bi(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function yi(){go||(Ai(),go=!0)}function Ai(){var e;Xa(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,ho=null,bi(vt)},100))}),Xa(window,"blur",function(){bi(Ht)})}function wi(e){if(null!=ho)return ho;var t=ci("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return di(e,t),t.offsetWidth&&(ho=t.offsetHeight-t.clientHeight),ho||0}function xi(e){if(null==po){var t=ci("span","​");di(e,ci("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(po=t.offsetWidth<=1&&t.offsetHeight>2&&!Bi)}return po?ci("span","​"):ci("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Ci(e){if(null!=mo)return mo;var t=di(e,document.createTextNode("AخA")),n=lo(t,0,1).getBoundingClientRect();if(n.left==n.right)return!1;var r=lo(t,1,2).getBoundingClientRect();return mo=r.right-n.right<3}function Ti(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<n&&o.to>t||t==n&&o.to==t)&&(r(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function ki(e){return e.level%2?e.to:e.from}function Mi(e){return e.level%2?e.from:e.to}function Si(e){var t=Mr(e);return t?ki(t[0]):0}function _i(e){var t=Mr(e);return t?Mi(ei(t)):e.text.length}function Ei(e,t){var n=yr(e.doc,t),r=jn(n);r!=n&&(t=Cr(r));var i=Mr(r),a=i?i[0].level%2?_i(r):Si(r):0;return oa(t,a)}function Oi(e,t){for(var n,r=yr(e.doc,t);n=Wn(r);)r=n.find(1,!0).line,t=null;var i=Mr(r),a=i?i[0].level%2?Si(r):_i(r):r.text.length;return oa(null==t?Cr(r):t,a)}function Li(e,t,n){var r=e[0].level;return t==r||n!=r&&n>t}function Di(e,t){xo=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return Li(e,i.level,e[n].level)?(i.from!=i.to&&(xo=n),r):(i.from!=i.to&&(xo=r),n);n=r}}return n}function zi(e,t,n,r){if(!r)return t+n;do{t+=n}while(t>0&&li(e.text.charAt(t)));return t}function $i(e,t,n,r){var i=Mr(e);if(!i)return Ni(e,t,n,r);for(var a=Di(i,t),o=i[a],s=zi(e,t,o.level%2?-n:n,r);;){if(s>o.from&&s<o.to)return s;if(s==o.from||s==o.to)return Di(i,s)==a?s:(o=i[a+=n],n>0==o.level%2?o.to:o.from);if(!(o=i[a+=n]))return null;s=n>0==o.level%2?zi(e,o.to,-1,r):zi(e,o.from,1,r)}}function Ni(e,t,n,r){var i=t+n;if(r)for(;i>0&&li(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var Pi=/gecko\/\d/i.test(navigator.userAgent),Ii=/MSIE \d/.test(navigator.userAgent),Bi=Ii&&(null==document.documentMode||document.documentMode<8),Wi=Ii&&(null==document.documentMode||document.documentMode<9),Hi=Ii&&(null==document.documentMode||document.documentMode<10),ji=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),Fi=Ii||ji,Yi=/WebKit\//.test(navigator.userAgent),qi=Yi&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Ri=/Chrome\//.test(navigator.userAgent),Gi=/Opera\//.test(navigator.userAgent),Ui=/Apple Computer/.test(navigator.vendor),Vi=/KHTML\//.test(navigator.userAgent),Ki=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Xi=/PhantomJS/.test(navigator.userAgent),Ji=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Zi=Ji||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Qi=Ji||/Mac/.test(navigator.platform),ea=/win/i.test(navigator.platform),ta=Gi&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ta&&(ta=Number(ta[1])),ta&&ta>=15&&(Gi=!1,Yi=!0);var na=Qi&&(qi||Gi&&(null==ta||12.11>ta)),ra=Pi||Fi&&!Wi,ia=!1,aa=!1,oa=e.Pos=function(e,t){return this instanceof oa?(this.line=e,void(this.ch=t)):new oa(e,t)},sa=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};G.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=sa(n.anchor,r.anchor)||0!=sa(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new U(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new G(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(sa(t,r.from())>=0&&sa(e,r.to())<=0)return n}return-1}},U.prototype={from:function(){return R(this.anchor,this.head)},to:function(){return q(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var la,ca,ua,da={left:0,right:0,top:0,bottom:0},fa=0,ha=0,pa=0,ma=null;Fi?ma=-.53:Pi?ma=15:Ri?ma=-.7:Ui&&(ma=-1/3);var ga,va=null,ba=e.changeEnd=function(e){return e.text?oa(e.from.line+e.text.length-1,ei(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),ht(this),ut(this)},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Aa.hasOwnProperty(e)&&Je(this,Aa[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||"string"!=typeof t[n]&&t[n].name==e)return t.splice(n,1),!0},addOverlay:Ze(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,nt(this)}),removeOverlay:Ze(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void nt(this)}}),indentLine:Ze(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Q(this.doc,e)&&cn(this,e,t,n)}),indentSelection:Ze(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(cn(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&sn(this));else{var a=Math.max(n,i.from().line),o=i.to();n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var s=a;n>s;++s)cn(this,s,e)}}}),getTokenAt:function(e,t){var n=this.doc;e=J(n,e);for(var r=we(this,e.line,t),i=this.doc.mode,a=yr(n,e.line),o=new $a(a.text,this.options.tabSize);o.pos<e.ch&&!o.eol();){o.start=o.pos;var s=er(i,o,r)}return{start:o.start,end:o.pos,string:o.current(),type:s||null,state:r}},getTokenTypeAt:function(e){e=J(this.doc,e);var t,n=rr(this,yr(this.doc,e.line)),r=0,i=(n.length-1)/2,a=e.ch;if(0==a)t=n[2];else for(;;){var o=r+i>>1;if((o?n[2*o-1]:0)>=a)i=o;else{if(!(n[2*o+1]<a)){t=n[2*o+2];break}r=o+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Ma.hasOwnProperty(t))return Ma;var r=Ma[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var o=r[i[t][a]];o&&n.push(o)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var a=0;a<r._global.length;a++){var s=r._global[a];s.pred(i,this)&&-1==ti(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=X(n,null==e?n.first+n.size-1:e),we(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?J(this.doc,e):e?r.from():r.to(),je(this,n,t||"page")},charCoords:function(e,t){return He(this,J(this.doc,e),t||"page")},coordsChar:function(e,t){return e=We(this,e,t||"page"),qe(this,e.left,e.top)},lineAtHeight:function(e,t){return e=We(this,{top:e,left:0},t||"page").top,Tr(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,n=!0);var i=yr(this.doc,e);return Be(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-kr(i):0)},defaultTextHeight:function(){return Ge(this.display)},defaultCharWidth:function(){return Ue(this.display)},setGutterMarker:Ze(function(e,t,n){return un(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&si(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Ze(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,rt(t,r,"gutter"),si(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineClass:Ze(function(e,t,n){return un(this,e,"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[r]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Ze(function(e,t,n){return un(this,e,"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var a=i.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!a)return!1;var o=a.index+a[0].length;e[r]=i.slice(0,a.index)+(a.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0})}),addLineWidget:Ze(function(e,t,n){return Kn(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!Q(this.doc,e))return null;var t=e;if(!(e=yr(this.doc,e)))return null}else{var t=Cr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var a=this.display;e=je(this,J(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position="absolute",a.sizer.appendChild(t),"over"==r)o=e.top;else if("above"==r||"near"==r){var l=Math.max(a.wrapper.clientHeight,this.doc.height),c=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==i?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&rn(this,s,o,s+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:Ze(Nt),triggerOnKeyPress:Ze(Bt),triggerOnKeyUp:Ze(It),execCommand:function(e){return Ea.hasOwnProperty(e)?Ea[e](this):void 0},findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var a=0,o=J(this.doc,e);t>a&&(o=fn(this.doc,o,i,n,r),!o.hitSide);++a);return o},moveH:Ze(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?fn(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},io)}),deleteH:Ze(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):dn(this,function(n){var i=fn(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,a=r;0>t&&(i=-1,t=-t);for(var o=0,s=J(this.doc,e);t>o;++o){var l=je(this,s,"div");if(null==a?a=l.left:l.left=a,s=hn(this,l,i,n),s.hitSide)break}return s},moveV:Ze(function(e,t){var n=this,r=this.doc,i=[],a=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(o){if(a)return 0>e?o.from():o.to();var s=je(n,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),i.push(s.left);var l=hn(n,s,e,t);return"page"==t&&o==r.sel.primary()&&on(n,null,He(n,l,"div").top-s.top),l},io),i.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=i[o]}),toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?gi(this.display.cursorDiv,"CodeMirror-overwrite"):mi(this.display.cursorDiv,"CodeMirror-overwrite"),Za(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return hi()==this.display.input},scrollTo:Ze(function(e,t){(null!=e||null!=t)&&ln(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller,t=eo;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:Ze(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:oa(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)ln(this),this.curOp.scrollToPos=e;else{var n=an(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Ze(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&$e(this),this.curOp.forceUpdate=!0,Za(this,"refresh",this)}),operation:function(e){return Xe(this,e)},refresh:Ze(function(){var e=this.display.cachedTextHeight;nt(this),this.curOp.forceUpdate=!0,Ne(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),d(this),(null==e||Math.abs(e-Ge(this.display))>.5)&&o(this),Za(this,"refresh",this)}),swapDoc:Ze(function(e){var t=this.doc;return t.cm=null,br(this,e),Ne(this),ft(this),this.scrollTo(e.scrollLeft,e.scrollTop),Rr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Xr(e);var ya=e.defaults={},Aa=e.optionHandlers={},wa=e.Init={toString:function(){return"CodeMirror.Init"}};mn("value","",function(e,t){e.setValue(t)},!0),mn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),mn("indentUnit",2,n,!0),mn("indentWithTabs",!1),mn("smartIndent",!0),mn("tabSize",4,function(e){r(e),Ne(e),nt(e)},!0),mn("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),e.refresh()},!0),mn("specialCharPlaceholder",sr,function(e){e.refresh()},!0),mn("electricChars",!0),mn("rtlMoveVisually",!ea),mn("wholeLineUpdateBefore",!0),mn("theme","default",function(e){l(e),c(e)},!0),mn("keyMap","default",s),mn("extraKeys",null),mn("lineWrapping",!1,i,!0),mn("gutters",[],function(e){p(e.options),c(e)},!0),mn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?w(e.display)+"px":"0",e.refresh()},!0),mn("coverGutterNextToScrollbar",!1,g,!0),mn("lineNumbers",!1,function(e){p(e.options),c(e)},!0),mn("firstLineNumber",1,c,!0),mn("lineNumberFormatter",function(e){return e},c,!0),mn("showCursorWhenSelecting",!1,pe,!0),mn("resetSelectionOnContextMenu",!0),mn("readOnly",!1,function(e,t){"nocursor"==t?(Ht(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||ft(e))}),mn("disableInput",!1,function(e,t){t||ft(e)},!0),mn("dragDrop",!0),mn("cursorBlinkRate",530),mn("cursorScrollMargin",0),mn("cursorHeight",1),mn("workTime",100),mn("workDelay",100),mn("flattenSpans",!0,r,!0),mn("addModeClass",!1,r,!0),mn("pollInterval",100),mn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),mn("historyEventDelay",1250),mn("viewportMargin",10,function(e){e.refresh()},!0),mn("maxHighlightLength",1e4,r,!0),mn("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),mn("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),mn("autofocus",null);var xa=e.modes={},Ca=e.mimeModes={};e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var r=2;r<arguments.length;++r)n.dependencies.push(arguments[r])}xa[t]=n},e.defineMIME=function(e,t){Ca[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Ca.hasOwnProperty(t))t=Ca[t];else if(t&&"string"==typeof t.name&&Ca.hasOwnProperty(t.name)){var n=Ca[t.name];"string"==typeof n&&(n={name:n}),t=ri(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=xa[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(Ta.hasOwnProperty(n.name)){var a=Ta[n.name];for(var o in a)a.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=a[o])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)i[o]=n.modeProps[o];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Ta=e.modeExtensions={};e.extendMode=function(e,t){ii(t,Ta.hasOwnProperty(e)?Ta[e]:Ta[e]={})},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){Ya.prototype[e]=t},e.defineOption=mn;var ka=[];e.defineInitHook=function(e){ka.push(e)};var Ma=e.helpers={};e.registerHelper=function(t,n,r){Ma.hasOwnProperty(t)||(Ma[t]=e[t]={_global:[]}),Ma[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),Ma[t]._global.push({pred:r,val:i})};var Sa=e.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},_a=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var Ea=e.commands={selectAll:function(e){e.setSelection(oa(e.firstLine(),0),oa(e.lastLine()),no)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),no)},killLine:function(e){dn(e,function(t){if(t.empty()){var n=yr(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:oa(t.head.line+1,0)}:{from:t.head,to:oa(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){dn(e,function(t){return{from:oa(t.from().line,0),to:J(e.doc,oa(t.to().line+1,0))}})},delLineLeft:function(e){dn(e,function(e){return{from:oa(e.from().line,0),to:e.from()}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(oa(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(oa(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return Ei(e,t.head.line)},io)},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){var n=Ei(e,t.head.line),r=e.getLineHandle(n.line),i=Mr(r);if(!i||0==i[0].level){var a=Math.max(0,r.text.search(/\S/)),o=t.head.line==n.line&&t.head.ch<=a&&t.head.ch;return oa(n.line,o?0:a)}return n},io)},goLineEnd:function(e){e.extendSelectionsBy(function(t){return Oi(e,t.head.line)},io)},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},io)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},io)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var a=n[i].from(),o=ao(e.getLine(a.line),a.ch,r);t.push(new Array(r-o%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Xe(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,a=yr(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new oa(i.line,i.ch-1)),i.ch>0)i=new oa(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),oa(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=yr(e.doc,i.line-1).text;o&&e.replaceRange(a.charAt(0)+"\n"+o.charAt(o.length-1),oa(i.line-1,o.length-1),oa(i.line,1),"+transpose")}n.push(new U(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){Xe(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),sn(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},Oa=e.keyMap={};Oa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Oa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Oa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},Oa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Oa.default=Qi?Oa.macDefault:Oa.pcDefault;var La=e.lookupKey=function(e,t,n){function r(t){t=gn(t);var i=t[e];if(!1===i)return"stop";if(null!=i&&n(i))return!0;if(t.nofallthrough)return"stop";var a=t.fallthrough;if(null==a)return!1;if("[object Array]"!=Object.prototype.toString.call(a))return r(a);for(var o=0;o<a.length;++o){var s=r(a[o]);if(s)return s}return!1}for(var i=0;i<t.length;++i){var a=r(t[i]);if(a)return"stop"!=a}},Da=e.isModifierKey=function(e){var t=wo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},za=e.keyName=function(e,t){if(Gi&&34==e.keyCode&&e.char)return!1;var n=wo[e.keyCode];return null!=n&&!e.altGraphKey&&(e.altKey&&(n="Alt-"+n),(na?e.metaKey:e.ctrlKey)&&(n="Ctrl-"+n),(na?e.ctrlKey:e.metaKey)&&(n="Cmd-"+n),!t&&e.shiftKey&&(n="Shift-"+n),n)};e.fromTextArea=function(t,n){function r(){t.value=l.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=hi();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Xa(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var a=t.form,o=a.submit;try{var s=a.submit=function(){r(),a.submit=o,a.submit(),a.submit=s}}catch(e){}}t.style.display="none";var l=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return l.save=r,l.getTextArea=function(){return t},l.toTextArea=function(){r(),t.parentNode.removeChild(l.getWrapperElement()),t.style.display="",t.form&&(Ja(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=o))},l};var $a=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};$a.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ao(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ao(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ao(this.string,null,this.tabSize)-(this.lineStart?ao(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};return i(this.string.substr(this.pos,e.length))==i(e)?(!1!==t&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var Na=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e};Xr(Na),Na.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ve(e),Kr(this,"clear")){var n=this.find();n&&Rr(this,"clear",n.from,n.to)}for(var r=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=Cn(o.markedSpans,this);e&&!this.collapsed?rt(e,Cr(o),"text"):e&&(null!=s.to&&(i=Cr(o)),null!=s.from&&(r=Cr(o))),o.markedSpans=Tn(o.markedSpans,s),null==s.from&&this.collapsed&&!Rn(this.doc,o)&&e&&xr(o,Ge(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var l=jn(this.lines[a]),c=f(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&nt(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&de(e.doc)),e&&Rr(e,"markerCleared",e,this),t&&Ke(e),this.parent&&this.parent.clear()}},Na.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var a=this.lines[i],o=Cn(a.markedSpans,this);if(null!=o.from&&(n=oa(t?a:Cr(a),o.from),-1==e))return n;if(null!=o.to&&(r=oa(t?a:Cr(a),o.to),1==e))return r}return n&&{from:n,to:r}},Na.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Xe(n,function(){var r=e.line,i=Cr(e.line),a=Ee(n,i);if(a&&(ze(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Rn(t.doc,r)&&null!=t.height){var o=t.height;t.height=null;var s=Vn(t)-o;s&&xr(r,r.height+s)}})},Na.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=ti(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Na.prototype.detachLine=function(e){if(this.lines.splice(ti(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var Pa=0,Ia=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Xr(Ia),Ia.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Rr(this,"clear")}},Ia.prototype.find=function(e,t){
return this.primary.find(e,t)};var Ba=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};Xr(Ba),Ba.prototype.clear=function(){var e=this.cm,t=this.line.widgets,n=this.line,r=Cr(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var a=Vn(this);Xe(e,function(){Un(e,n,-a),rt(e,r,"widget"),xr(n,Math.max(0,n.height-a))})}},Ba.prototype.changed=function(){var e=this.height,t=this.cm,n=this.line;this.height=null;var r=Vn(this)-e;r&&Xe(t,function(){t.curOp.forceUpdate=!0,Un(t,n,r),xr(n,n.height+r)})};var Wa=e.Line=function(e,t,n){this.text=e,zn(this,t),this.height=n?n(this):1};Xr(Wa),Wa.prototype.lineNo=function(){return Cr(this)};var Ha={},ja={};mr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,Jn(i),Rr(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},gr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var a=Math.min(t,i-e),o=r.height;if(r.removeInner(e,a),this.height-=o-r.height,i==a&&(this.children.splice(n--,1),r.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof mr))){var s=[];this.collapse(s),this.children=[new mr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(a>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var o=i.lines.splice(i.lines.length-25,25),s=new mr(o);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new gr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=ti(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new gr(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(a>e){var o=Math.min(t,a-e);if(i.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var Fa=0,Ya=e.Doc=function(e,t,n){if(!(this instanceof Ya))return new Ya(e,t,n);null==n&&(n=0),gr.call(this,[new mr([new Wa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=oa(n,0);this.sel=K(r),this.history=new Sr(null),this.id=++Fa,this.modeOption=t,"string"==typeof e&&(e=bo(e)),pr(this,{from:r,to:r,text:e}),le(this,K(r),no)};Ya.prototype=ri(gr.prototype,{constructor:Ya,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=wr(this,this.first,this.first+this.size);return!1===e?t:t.join(e||"\n")},setValue:Qe(function(e){var t=oa(this.first,0),n=this.first+this.size-1;Vt(this,{from:t,to:oa(n,yr(this,n).text.length),text:bo(e),origin:"setValue"},!0),le(this,K(t))}),replaceRange:function(e,t,n,r){t=J(this,t),n=n?J(this,n):t,en(this,e,t,n,r)},getRange:function(e,t,n){var r=Ar(this,J(this,e),J(this,t));return!1===n?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return Q(this,e)?yr(this,e):void 0},getLineNumber:function(e){return Cr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=yr(this,e)),jn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return J(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qe(function(e,t,n){ae(this,J(this,"number"==typeof e?oa(e,t||0):e),null,n)}),setSelection:Qe(function(e,t,n){ae(this,J(this,e),J(this,t||e),n)}),extendSelection:Qe(function(e,t,n){ne(this,J(this,e),t&&J(this,t),n)}),extendSelections:Qe(function(e,t){re(this,ee(this,e))}),extendSelectionsBy:Qe(function(e,t){re(this,ni(this.sel.ranges,e),t)}),setSelections:Qe(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new U(J(this,e[r].anchor),J(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),le(this,V(i,t),n)}}),addSelection:Qe(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new U(J(this,e),J(this,t||e))),le(this,V(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ar(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ar(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Qe(function(e,t,n){for(var r=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];r[a]={from:o.from(),to:o.to(),text:bo(e[a]),origin:n}}for(var s=t&&"end"!=t&&Gt(this,r,t),a=r.length-1;a>=0;a--)Vt(this,r[a]);s?se(this,s):this.cm&&sn(this.cm)}),undo:Qe(function(){Xt(this,"undo")}),redo:Qe(function(){Xt(this,"redo")}),undoSelection:Qe(function(){Xt(this,"undo",!0)}),redoSelection:Qe(function(){Xt(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Sr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Br(this.history.done),undone:Br(this.history.undone)}},setHistory:function(e){var t=this.history=new Sr(this.history.maxGeneration);t.done=Br(e.done.slice(0),null,!0),t.undone=Br(e.undone.slice(0),null,!0)},markText:function(e,t,n){return vn(this,J(this,e),J(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return e=J(this,e),vn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=J(this,e);var t=[],n=yr(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=J(this,e),t=J(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,void++n)}),J(this,oa(n,t))},indexFromPos:function(e){e=J(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new Ya(wr(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ya(wr(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],An(r,yn(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),wn(yn(this));break}}if(t.history==this.history){var i=[t.id];vr(t,function(e){i.push(e.id)},!0),t.history=new Sr(null),t.history.done=Br(this.history.done,i),t.history.undone=Br(this.history.undone,i)}},iterLinkedDocs:function(e){vr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Ya.prototype.eachLine=Ya.prototype.iter;var qa="iter insert remove copy getEditor".split(" ");for(var Ra in Ya.prototype)Ya.prototype.hasOwnProperty(Ra)&&ti(qa,Ra)<0&&(e.prototype[Ra]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ya.prototype[Ra]));Xr(Ya);var Ga,Ua=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Va=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ka=e.e_stop=function(e){Ua(e),Va(e)},Xa=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},Ja=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},Za=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Qa=0,eo=30,to=e.Pass={toString:function(){return"CodeMirror.Pass"}},no={scroll:!1},ro={origin:"*mouse"},io={origin:"+move"};Jr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var ao=e.countColumn=function(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var a=r||0,o=i||0;;){var s=e.indexOf("\t",a);if(0>s||s>=t)return o+(t-a);o+=s-a,o+=n-o%n,a=s+1}},oo=[""],so=function(e){e.select()};Ji?so=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Fi&&(so=function(e){try{e.select()}catch(e){}}),[].indexOf&&(ti=function(e,t){return e.indexOf(t)}),[].map&&(ni=function(e,t){return e.map(t)});var lo,co=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,uo=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||co.test(e))},fo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;lo=document.createRange?function(e,t,n){var r=document.createRange();return r.setEnd(e,n),r.setStart(e,t),r}:function(e,t,n){var r=document.body.createTextRange();return r.moveToElementText(e.parentNode),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r},Ii&&(hi=function(){try{return document.activeElement}catch(e){return document.body}});var ho,po,mo,go=!1,vo=function(){if(Wi)return!1;var e=ci("div");return"draggable"in e||"dragDrop"in e}(),bo=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var a=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),o=a.indexOf("\r");-1!=o?(n.push(a.slice(0,o)),t+=o+1):(n.push(a),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},yo=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ao=function(){var e=ci("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),wo={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=wo,function(){for(var e=0;10>e;e++)wo[e+48]=wo[e+96]=String(e);for(var e=65;90>=e;e++)wo[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)wo[e+111]=wo[e+63235]="F"+e}();var xo,Co=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!i.test(n))return!1;for(var r,u=n.length,d=[],f=0;u>f;++f)d.push(r=e(n.charCodeAt(f)));for(var f=0,h=c;u>f;++f){var r=d[f];"m"==r?d[f]=h:h=r}for(var f=0,p=c;u>f;++f){var r=d[f];"1"==r&&"r"==p?d[f]="n":o.test(r)&&(p=r,"r"==r&&(d[f]="R"))}for(var f=1,h=d[0];u-1>f;++f){var r=d[f];"+"==r&&"1"==h&&"1"==d[f+1]?d[f]="1":","!=r||h!=d[f+1]||"1"!=h&&"n"!=h||(d[f]=h),h=r}for(var f=0;u>f;++f){var r=d[f];if(","==r)d[f]="N";else if("%"==r){for(var m=f+1;u>m&&"%"==d[m];++m);for(var g=f&&"!"==d[f-1]||u>m&&"1"==d[m]?"1":"N",v=f;m>v;++v)d[v]=g;f=m-1}}for(var f=0,p=c;u>f;++f){var r=d[f];"L"==p&&"1"==r?d[f]="L":o.test(r)&&(p=r)}for(var f=0;u>f;++f)if(a.test(d[f])){for(var m=f+1;u>m&&a.test(d[m]);++m);for(var b="L"==(f?d[f-1]:c),y="L"==(u>m?d[m]:c),g=b||y?"L":"R",v=f;m>v;++v)d[v]=g;f=m-1}for(var A,w=[],f=0;u>f;)if(s.test(d[f])){var x=f;for(++f;u>f&&s.test(d[f]);++f);w.push(new t(0,x,f))}else{var C=f,T=w.length;for(++f;u>f&&"L"!=d[f];++f);for(var v=C;f>v;)if(l.test(d[v])){v>C&&w.splice(T,0,new t(1,C,v));var k=v;for(++v;f>v&&l.test(d[v]);++v);w.splice(T,0,new t(2,k,v)),C=v}else++v;f>C&&w.splice(T,0,new t(1,C,f))}return 1==w[0].level&&(A=n.match(/^\s+/))&&(w[0].from=A[0].length,w.unshift(new t(0,0,A[0].length))),1==ei(w).level&&(A=n.match(/\s+$/))&&(ei(w).to-=A[0].length,w.push(new t(0,u-A[0].length,u))),w[0].level!=ei(w).level&&w.push(new t(w[0].level,u,u)),w}}();return e.version="4.2.0",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function r(e,t){return e.skipTo("--\x3e")?(e.match("--\x3e"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return h=t,e}function i(e,t){var n=e.next();if(g[n]){var i=g[n](e,t);if(!1!==i)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=a(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=o,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^\w+-/)?r("meta","meta"):void 0}function a(e){return function(t,n){for(var i,a=!1;null!=(i=t.next());){if(i==e&&!a){")"==e&&t.backUp(1);break}a=!a&&"\\"==i}return(i==e||!a&&")"!=e)&&(n.tokenize=null),r("string","string")}}function o(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:a(")"),r(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n){return e.context=new s(n,t.indentation()+m,e.context),n}function c(e){return e.context=e.context.prev,e.context.type}function u(e,t,n){return k[n.context.type](e,t,n)}function d(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return u(e,t,n)}function f(e){var t=e.current().toLowerCase();p=x.hasOwnProperty(t)?"atom":w.hasOwnProperty(t)?"keyword":"variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var h,p,m=t.indentUnit,g=n.tokenHooks,v=n.mediaTypes||{},b=n.mediaFeatures||{},y=n.propertyKeywords||{},A=n.nonStandardPropertyKeywords||{},w=n.colorKeywords||{},x=n.valueKeywords||{},C=n.fontProperties||{},T=n.allowNested,k={};return k.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return c(n);if("@media"==e)return l(n,t,"media");if("@font-face"==e)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)p="builtin";else if("word"==e)p="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(T&&"("==e)return l(n,t,"parens")}return n.context.type},k.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return y.hasOwnProperty(r)?(p="property","maybeprop"):A.hasOwnProperty(r)?(p="string-2","maybeprop"):T?(p=t.match(/^\s*:/,!1)?"property":"tag","block"):(p+=" error","maybeprop")}return"meta"==e?"block":T||"hash"!=e&&"qualifier"!=e?k.top(e,t,n):(p="error","block")},k.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):u(e,t,n)},k.prop=function(e,t,n){if(";"==e)return c(n);if("{"==e&&T)return l(n,t,"propBlock");if("}"==e||"{"==e)return d(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)f(t);else if("interpolation"==e)return l(n,t,"interpolation")}else p+=" error";return"prop"},k.propBlock=function(e,t,n){return"}"==e?c(n):"word"==e?(p="property","maybeprop"):n.context.type},k.parens=function(e,t,n){return"{"==e||"}"==e?d(e,t,n):")"==e?c(n):"("==e?l(n,t,"parens"):("word"==e&&f(t),"parens")},k.pseudo=function(e,t,n){return"word"==e?(p="variable-3",n.context.type):u(e,t,n)},k.media=function(e,t,n){if("("==e)return l(n,t,"media_parens");if("}"==e)return d(e,t,n);if("{"==e)return c(n)&&l(n,t,T?"block":"top");if("word"==e){var r=t.current().toLowerCase();p="only"==r||"not"==r||"and"==r?"keyword":v.hasOwnProperty(r)?"attribute":b.hasOwnProperty(r)?"property":"error"}return n.context.type},k.media_parens=function(e,t,n){return")"==e?c(n):"{"==e||"}"==e?d(e,t,n,2):k.media(e,t,n)},k.font_face_before=function(e,t,n){return"{"==e?l(n,t,"font_face"):u(e,t,n)},k.font_face=function(e,t,n){return"}"==e?c(n):"word"==e?(p=C.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},k.keyframes=function(e,t,n){return"word"==e?(p="variable","keyframes"):"{"==e?l(n,t,"top"):u(e,t,n)},k.at=function(e,t,n){return";"==e?c(n):"{"==e||"}"==e?d(e,t,n):("word"==e?p="tag":"hash"==e&&(p="builtin"),"at")},k.interpolation=function(e,t,n){return"}"==e?c(n):"{"==e||";"==e?d(e,t,n):("variable"!=e&&(p="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",context:new s("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(h=n[1],n=n[0]),p=n,t.state=k[t.state](h,e,t),p},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),!n.prev||("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"font_face"!=n.type)&&(")"!=r||"parens"!=n.type&&"media_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"media"!=n.type)||(i=n.indent-m,n=n.prev),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}})
;var i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(i),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],s=t(o),l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],c=t(l),u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],u=t(u),d=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],f=t(d),h=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],p=t(h),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=t(m),v=i.concat(o).concat(l).concat(u).concat(d).concat(h);e.registerHelper("hintWords","css",v),e.defineMIME("text/css",{mediaTypes:a,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:u,colorKeywords:f,valueKeywords:p,fontProperties:g,tokenHooks:{"<":function(e,t){return!!e.match("!--")&&(t.tokenize=r,r(e,t))},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:u,colorKeywords:f,valueKeywords:p,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:u,colorKeywords:f,valueKeywords:p,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("htmlmixed",function(t,n){function r(e,t){var n=t.htmlState.tagName,r=s.token(e,t.htmlState);if("script"==n&&/\btag\b/.test(r)&&">"==e.current()){var i=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);(i=i?i[1]:"")&&/[\"\']/.test(i.charAt(0))&&(i=i.slice(1,i.length-1));for(var u=0;u<c.length;++u){var d=c[u];if("string"==typeof d.matches?i==d.matches:d.matches.test(i)){d.mode&&(t.token=a,t.localMode=d.mode,t.localState=d.mode.startState&&d.mode.startState(s.indent(t.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(r)&&">"==e.current()&&(t.token=o,t.localMode=l,t.localState=l.startState(s.indent(t.htmlState,"")));return r}function i(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function a(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,r(e,t)):i(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function o(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,r(e,t)):i(e,/<\/\s*style\s*>/,l.token(e,t.localState))}var s=e.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=e.getMode(t,"css"),c=[],u=n&&n.scriptTypes;if(c.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")}),u)for(var d=0;d<u.length;++d){var f=u[d];c.push({matches:f.matches,mode:f.mode&&e.getMode(t,f.mode)})}return c.push({matches:/./,mode:e.getMode(t,"text/plain")}),{startState:function(){return{token:r,localMode:null,localState:null,htmlState:s.startState()}},copyState:function(t){if(t.localState)var n=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:n,htmlState:e.copyState(s,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?s.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return he=e,pe=n,t}function a(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=o(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(we),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(we.test(n))return e.eatWhile(we),i("operator","operator",e.current());e.eatWhile(/[\w\$_]/);var a=e.current(),c=Ae.propertyIsEnumerable(a)&&Ae[a];return c&&"."!=t.lastType?i(c.type,c.style,a):i("variable","variable",a)}function o(e){return function(t,n){var r,o=!1;if(ve&&"@"==t.peek()&&t.match(xe))return n.tokenize=a,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||o);)o=!o&&"\\"==r;return o||(n.tokenize=a),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=a;break}r="*"==n}return i("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=a;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,a=n-1;a>=0;--a){var o=e.string.charAt(a),s=Ce.indexOf(o);if(s>=0&&3>s){if(!r){++a;break}if(0==--r)break}else if(s>=3&&6>s)++r;else if(/[$\w]/.test(o))i=!0;else if(i&&!r){++a;break}}i&&!r&&(t.fatArrowAt=a)}}function u(e,t,n,r,i,a){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=a,null!=r&&(this.align=r)}function d(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function f(e,t,n,r,i){var a=e.cc;for(ke.state=e,ke.stream=i,ke.marked=null,ke.cc=a,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((a.length?a.pop():be?x:w)(n,r)){for(;a.length&&a[a.length-1].lex;)a.pop()();return ke.marked?ke.marked:"variable"==n&&d(e,r)?"variable-2":t}}}function h(){for(var e=arguments.length-1;e>=0;e--)ke.cc.push(arguments[e])}function p(){return h.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=ke.state;if(r.context){if(ke.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(){ke.state.context={prev:ke.state.context,vars:ke.state.localVars},ke.state.localVars=Me}function v(){ke.state.localVars=ke.state.context.vars,ke.state.context=ke.state.context.prev}function b(e,t){var n=function(){var n=ke.state,r=n.indented;"stat"==n.lexical.type&&(r=n.lexical.indented),n.lexical=new u(r,ke.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function y(){var e=ke.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function A(e){function t(n){return n==e?p():";"==e?h():p(t)}return t}function w(e,t){return"var"==e?p(b("vardef",t.length),Y,A(";"),y):"keyword a"==e?p(b("form"),x,w,y):"keyword b"==e?p(b("form"),w,y):"{"==e?p(b("}"),H,y):";"==e?p():"if"==e?("else"==ke.state.lexical.info&&ke.state.cc[ke.state.cc.length-1]==y&&ke.state.cc.pop()(),p(b("form"),x,w,y,V)):"function"==e?p(ee):"for"==e?p(b("form"),K,w,y):"variable"==e?p(b("stat"),z):"switch"==e?p(b("form"),x,b("}","switch"),A("{"),H,y,y):"case"==e?p(x,A(":")):"default"==e?p(A(":")):"catch"==e?p(b("form"),g,A("("),te,A(")"),w,y,v):"module"==e?p(b("form"),g,ae,v,y):"class"==e?p(b("form"),ne,ie,y):"export"==e?p(b("form"),oe,y):"import"==e?p(b("form"),se,y):h(b("stat"),x,A(";"),y)}function x(e){return T(e,!1)}function C(e){return T(e,!0)}function T(e,t){if(ke.state.fatArrowAt==ke.stream.start){var n=t?D:L;if("("==e)return p(g,b(")"),B(q,")"),y,A("=>"),n,v);if("variable"==e)return h(g,q,A("=>"),n,v)}var r=t?_:S;return Te.hasOwnProperty(e)?p(r):"function"==e?p(ee,r):"keyword c"==e?p(t?M:k):"("==e?p(b(")"),k,fe,A(")"),y,r):"operator"==e||"spread"==e?p(t?C:x):"["==e?p(b("]"),ue,y,r):"{"==e?W(N,"}",null,r):"quasi"==e?h(E,r):p()}function k(e){return e.match(/[;\}\)\],]/)?h():h(x)}function M(e){return e.match(/[;\}\)\],]/)?h():h(C)}function S(e,t){return","==e?p(x):_(e,t,!1)}function _(e,t,n){var r=0==n?S:_,i=0==n?x:C;return"=>"==t?p(g,n?D:L,v):"operator"==e?/\+\+|--/.test(t)?p(r):"?"==t?p(x,A(":"),i):p(i):"quasi"==e?h(E,r):";"!=e?"("==e?W(C,")","call",r):"."==e?p($,r):"["==e?p(b("]"),k,A("]"),y,r):void 0:void 0}function E(e,t){return"quasi"!=e?h():"${"!=t.slice(t.length-2)?p(E):p(x,O)}function O(e){return"}"==e?(ke.marked="string-2",ke.state.tokenize=l,p(E)):void 0}function L(e){return c(ke.stream,ke.state),h("{"==e?w:x)}function D(e){return c(ke.stream,ke.state),h("{"==e?w:C)}function z(e){return":"==e?p(y,w):h(S,A(";"),y)}function $(e){return"variable"==e?(ke.marked="property",p()):void 0}function N(e,t){if("variable"==e){if(ke.marked="property","get"==t||"set"==t)return p(P)}else if("number"==e||"string"==e)ke.marked=ve?"property":e+" property";else if("["==e)return p(x,A("]"),I);return Te.hasOwnProperty(e)?p(I):void 0}function P(e){return"variable"!=e?h(I):(ke.marked="property",p(ee))}function I(e){return":"==e?p(C):"("==e?h(ee):void 0}function B(e,t){function n(r){if(","==r){var i=ke.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),p(e,n)}return r==t?p():p(A(t))}return function(r){return r==t?p():h(e,n)}}function W(e,t,n){for(var r=3;r<arguments.length;r++)ke.cc.push(arguments[r]);return p(b(t,n),B(e,t),y)}function H(e){return"}"==e?p():h(w,H)}function j(e){return ye&&":"==e?p(F):void 0}function F(e){return"variable"==e?(ke.marked="variable-3",p()):void 0}function Y(){return h(q,j,G,U)}function q(e,t){return"variable"==e?(m(t),p()):"["==e?W(q,"]"):"{"==e?W(R,"}"):void 0}function R(e,t){return"variable"!=e||ke.stream.match(/^\s*:/,!1)?("variable"==e&&(ke.marked="property"),p(A(":"),q,G)):(m(t),p(G))}function G(e,t){return"="==t?p(C):void 0}function U(e){return","==e?p(Y):void 0}function V(e,t){return"keyword b"==e&&"else"==t?p(b("form","else"),w,y):void 0}function K(e){return"("==e?p(b(")"),X,A(")"),y):void 0}function X(e){return"var"==e?p(Y,A(";"),Z):";"==e?p(Z):"variable"==e?p(J):h(x,A(";"),Z)}function J(e,t){return"in"==t||"of"==t?(ke.marked="keyword",p(x)):p(S,Z)}function Z(e,t){return";"==e?p(Q):"in"==t||"of"==t?(ke.marked="keyword",p(x)):h(x,A(";"),Q)}function Q(e){")"!=e&&p(x)}function ee(e,t){return"*"==t?(ke.marked="keyword",p(ee)):"variable"==e?(m(t),p(ee)):"("==e?p(g,b(")"),B(te,")"),y,w,v):void 0}function te(e){return"spread"==e?p(te):h(q,j)}function ne(e,t){return"variable"==e?(m(t),p(re)):void 0}function re(e,t){return"extends"==t?p(x):void 0}function ie(e){return"{"==e?W(N,"}"):void 0}function ae(e,t){return"string"==e?p(w):"variable"==e?(m(t),p(ce)):void 0}function oe(e,t){return"*"==t?(ke.marked="keyword",p(ce,A(";"))):"default"==t?(ke.marked="keyword",p(x,A(";"))):h(w)}function se(e){return"string"==e?p():h(le,ce)}function le(e,t){return"{"==e?W(le,"}"):("variable"==e&&m(t),p())}function ce(e,t){return"from"==t?(ke.marked="keyword",p(x)):void 0}function ue(e){return"]"==e?p():h(C,de)}function de(e){return"for"==e?h(fe,A("]")):","==e?p(B(C,"]")):h(B(C,"]"))}function fe(e){return"for"==e?p(K,fe):"if"==e?p(x,fe):void 0}var he,pe,me=t.indentUnit,ge=n.statementIndent,ve=n.jsonld,be=n.json||ve,ye=n.typescript,Ae=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},o={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:r,delete:r,throw:r,debugger:r,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),module:e("module"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r};if(ye){var s={type:"variable",style:"variable-3"},l={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:s,number:s,bool:s,any:s};for(var c in l)o[c]=l[c]}return o}(),we=/[+\-*&%=<>!?|~^]/,xe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ce="([{}])",Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},ke={state:null,column:null,marked:null,cc:null},Me={name:"this",next:{name:"arguments"}};return y.lex=!0,{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new u((e||0)-me,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==he?n:(t.lastType="operator"!=he||"++"!=pe&&"--"!=pe?he:"incdec",f(t,n,he,pe,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var i=r&&r.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==y)o=o.prev;else if(c!=V)break}"stat"==o.type&&"}"==i&&(o=o.prev),ge&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var u=o.type,d=i==u;return"vardef"==u?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==u&&"{"==i?o.indented:"form"==u?o.indented+me:"stat"==u?o.indented+("operator"==t.lastType||","==t.lastType?ge||me:0):"switch"!=o.info||d||0==n.doubleIndentSwitch?o.align?o.column+(d?0:1):o.indented+(d?0:me):o.indented+(/^(?:case|default)\b/.test(r)?me:2*me)},electricChars:":{}",blockCommentStart:be?null:"/*",blockCommentEnd:be?null:"*/",lineComment:be?null:"//",fold:"brace",helperType:be?"json":"javascript",jsonldMode:ve,jsonMode:be}}),e.registerHelper("wordChars","javascript",/[\\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function r(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(o("atom","]]>")):null:e.match("--")?n(o("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(s(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta"):(C=e.eat("/")?"closeTag":"openTag",t.tokenize=i,"tag bracket");if("&"==r){var a;return a=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),a?"atom":"error"}return e.eatWhile(/[^&<]/),null}function i(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=r,C=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return C="equals",null;if("<"==n){t.tokenize=r,t.state=d,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=a(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"};return t.isInAttribute=!0,t}function o(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=r;break}n.next()}return e}}function s(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=s(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=r;break}return n.tokenize=s(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(k.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function c(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!k.contextGrabbers.hasOwnProperty(n)||!k.contextGrabbers[n].hasOwnProperty(t))return;c(e)}}function d(e,t,n){return"openTag"==e?(n.tagStart=t.column(),f):"closeTag"==e?h:d}function f(e,t,n){return"word"==e?(n.tagName=t.current(),T="tag",g):(T="error",f)}function h(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&k.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),
n.context&&n.context.tagName==r?(T="tag",p):(T="tag error",m)}return T="error",m}function p(e,t,n){return"endTag"!=e?(T="error",p):(c(n),d)}function m(e,t,n){return T="error",p(e,t,n)}function g(e,t,n){if("word"==e)return T="attribute",v;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||k.autoSelfClosers.hasOwnProperty(r)?u(n,r):(u(n,r),n.context=new l(n,r,i==n.indented)),d}return T="error",g}function v(e,t,n){return"equals"==e?b:(k.allowMissing||(T="error"),g(e,t,n))}function b(e,t,n){return"string"==e?y:"word"==e&&k.allowUnquoted?(T="string",g):(T="error",g(e,t,n))}function y(e,t,n){return"string"==e?y:g(e,t,n)}var A=t.indentUnit,w=n.multilineTagIndentFactor||1,x=n.multilineTagIndentPastTag;null==x&&(x=!0);var C,T,k=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},M=n.alignCDATA;return{startState:function(){return{tokenize:r,state:d,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;C=null;var n=t.tokenize(e,t);return(n||C)&&"comment"!=n&&(T=null,t.state=t.state(C||n,e,t),T&&(n="error"==T?n+" error":T)),n},indent:function(t,n,a){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+A;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=i&&t.tokenize!=r)return a?a.match(/^(\s*)/)[0].length:0;if(t.tagName)return x?t.tagStart+t.tagName.length+2:t.tagStart+A*w;if(M&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;o;){if(o.tagName==s[2]){o=o.prev;break}if(!k.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(s)for(;o;){var l=k.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(s[2]))break;o=o.prev}for(;o&&!o.startOfLine;)o=o.prev;return o?o.indent+A:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t in d)d.hasOwnProperty(t)&&(e.attrs[t]=d[t])}function n(t,n){var r={schemaInfo:u};if(n)for(var i in n)r[i]=n[i];return e.hint.xml(t,r)}var r="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),i=["_blank","_self","_top","_parent"],a=["ascii","utf-8","utf-16","latin1","latin1"],o=["get","post","put","delete"],s=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],l=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"],c={attrs:{}},u={a:{attrs:{href:null,ping:null,type:null,media:l,target:i,hreflang:r}},abbr:c,acronym:c,address:c,applet:c,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:l,hreflang:r,type:null,shape:["default","rect","circle","poly"]}},article:c,aside:c,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:c,base:{attrs:{href:null,target:i}},basefont:c,bdi:c,bdo:c,big:c,blockquote:{attrs:{cite:null}},body:c,br:c,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:s,formmethod:o,formnovalidate:["","novalidate"],formtarget:i,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:c,center:c,cite:c,code:c,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:c,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:c,dir:c,div:c,dl:c,dt:c,em:c,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:c,figure:c,font:c,footer:c,form:{attrs:{action:null,name:null,"accept-charset":a,autocomplete:["on","off"],enctype:s,method:o,novalidate:["","novalidate"],target:i}},frame:c,frameset:c,h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:c,hgroup:c,hr:c,html:{attrs:{manifest:null},children:["head","body"]},i:c,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:s,formmethod:o,formnovalidate:["","novalidate"],formtarget:i,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:c,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:c,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:r,media:l,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:c,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:a,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:c,noframes:c,noscript:c,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:c,param:{attrs:{name:null,value:null}},pre:c,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:c,rt:c,ruby:c,s:c,samp:c,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:a}},section:c,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:c,source:{attrs:{src:null,type:null,media:null}},span:c,strike:c,strong:c,style:{attrs:{type:["text/css"],media:l,scoped:null}},sub:c,summary:c,sup:c,table:c,tbody:c,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:c,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:c,time:{attrs:{datetime:null}},title:c,tr:c,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:r}},tt:c,u:c,ul:c,var:c,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:c},d={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],class:null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};t(c);for(var f in u)u.hasOwnProperty(f)&&u[f]!=c&&t(u[f]);e.htmlSchema=u,e.registerHelper("hint","html",n)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){this.cm=e,this.options=this.buildOptions(t),this.widget=this.onClose=null}function n(e){return"string"==typeof e?e:e.text}function r(e,t){function n(e,n){var i;i="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,a[e]=i}var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=e.options.customKeys,a=i?{}:r;if(i)for(var o in i)i.hasOwnProperty(o)&&n(o,i[o]);var s=e.options.extraKeys;if(s)for(var o in s)s.hasOwnProperty(o)&&n(o,s[o]);return a}function i(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function a(t,a){this.completion=t,this.data=a;var l=this,c=t.cm,u=this.hints=document.createElement("ul");u.className="CodeMirror-hints",this.selectedHint=a.selectedHint||0;for(var d=a.list,f=0;f<d.length;++f){var h=u.appendChild(document.createElement("li")),p=d[f],m=o+(f!=this.selectedHint?"":" "+s);null!=p.className&&(m=p.className+" "+m),h.className=m,p.render?p.render(h,a,p):h.appendChild(document.createTextNode(p.displayText||n(p))),h.hintId=f}var g=c.cursorCoords(t.options.alignWithWord?a.from:null),v=g.left,b=g.bottom,y=!0;u.style.left=v+"px",u.style.top=b+"px";var A=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),w=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(u);var x=u.getBoundingClientRect();if(x.bottom-w>0){var C=x.bottom-x.top,T=x.top-(g.bottom-g.top);if(T-C>0)u.style.top=(b=T-C)+"px",y=!1;else if(C>w){u.style.height=w-5+"px",u.style.top=(b=g.bottom-x.top)+"px";var k=c.getCursor();a.from.ch!=k.ch&&(g=c.cursorCoords(k),u.style.left=(v=g.left)+"px",x=u.getBoundingClientRect())}}var M=x.left-A;if(M>0&&(x.right-x.left>A&&(u.style.width=A-5+"px",M-=x.right-x.left-A),u.style.left=(v=g.left-M)+"px"),c.addKeyMap(this.keyMap=r(t,{moveFocus:function(e,t){l.changeActive(l.selectedHint+e,t)},setFocus:function(e){l.changeActive(e)},menuSize:function(){return l.screenAmount()},length:d.length,close:function(){t.close()},pick:function(){l.pick()},data:a})),t.options.closeOnUnfocus){var S;c.on("blur",this.onBlur=function(){S=setTimeout(function(){t.close()},100)}),c.on("focus",this.onFocus=function(){clearTimeout(S)})}var _=c.getScrollInfo();return c.on("scroll",this.onScroll=function(){var e=c.getScrollInfo(),n=c.getWrapperElement().getBoundingClientRect(),r=b+_.top-e.top,i=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return y||(i+=u.offsetHeight),i<=n.top||i>=n.bottom?t.close():(u.style.top=r+"px",void(u.style.left=v+_.left-e.left+"px"))}),e.on(u,"dblclick",function(e){var t=i(u,e.target||e.srcElement);t&&null!=t.hintId&&(l.changeActive(t.hintId),l.pick())}),e.on(u,"click",function(e){var n=i(u,e.target||e.srcElement);n&&null!=n.hintId&&(l.changeActive(n.hintId),t.options.completeOnSingleClick&&l.pick())}),e.on(u,"mousedown",function(){setTimeout(function(){c.focus()},20)}),e.signal(a,"select",d[0],u.firstChild),!0}var o="CodeMirror-hint",s="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",function(n){if(!(this.listSelections().length>1||this.somethingSelected())){this.state.completionActive&&this.state.completionActive.close();var r=this.state.completionActive=new t(this,n),i=r.options.hint;if(i)return e.signal(this,"startCompletion",this),i.async?void i(this,function(e){r.showHints(e)},r.options):r.showHints(i(this,r.options))}}),t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var i=t.list[r];i.hint?i.hint(this.cm,t,i):this.cm.replaceRange(n(i),i.from||t.from,i.to||t.to,"complete"),e.signal(t,"pick",i),this.close()},showHints:function(e){return e&&e.list.length&&this.active()?void(this.options.completeSingle&&1==e.list.length?this.pick(e,0):this.showWidget(e)):this.close()},showWidget:function(t){function n(){l||(l=!0,u.close(),u.cm.off("cursorActivity",s),t&&e.signal(t,"close"))}function r(){if(!l){e.signal(t,"update");var n=u.options.hint;n.async?n(u.cm,i,u.options):i(n(u.cm,u.options))}}function i(e){if(t=e,!l){if(!t||!t.list.length)return n();u.widget&&u.widget.close(),u.widget=new a(u,t)}}function o(){c&&(m(c),c=0)}function s(){o();var e=u.cm.getCursor(),t=u.cm.getLine(e.line);e.line!=f.line||t.length-e.ch!=h-f.ch||e.ch<f.ch||u.cm.somethingSelected()||e.ch&&d.test(t.charAt(e.ch-1))?u.close():(c=p(r),u.widget&&u.widget.close())}this.widget=new a(this,t),e.signal(t,"shown");var l,c=0,u=this,d=this.options.closeCharacters,f=this.cm.getCursor(),h=this.cm.getLine(f.line).length,p=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},m=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",s),this.onClose=n},buildOptions:function(e){var t=this.cm.options.hintOptions,n={};for(var r in l)n[r]=l[r];if(t)for(var r in t)void 0!==t[r]&&(n[r]=t[r]);if(e)for(var r in e)void 0!==e[r]&&(n[r]=e[r]);return n}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:0>t&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+s,""),r=this.hints.childNodes[this.selectedHint=t],r.className+=" "+s,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",function(t,n){var r,i=t.getHelpers(t.getCursor(),"hint");if(i.length)for(var a=0;a<i.length;a++){var o=i[a](t,n);if(o&&o.list.length)return o}else if(r=t.getHelper(t.getCursor(),"hintWords")){if(r)return e.hint.fromList(t,{words:r})}else if(e.hint.anyword)return e.hint.anyword(t,n)}),e.registerHelper("hint","fromList",function(t,n){for(var r=t.getCursor(),i=t.getTokenAt(r),a=[],o=0;o<n.words.length;o++){var s=n.words[o];s.slice(0,i.string.length)==i.string&&a.push(s)}return a.length?{list:a,from:e.Pos(r.line,i.start),to:e.Pos(r.line,i.end)}:void 0}),e.commands.autocomplete=e.showHint;var l={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,r){var i=r&&r.schemaInfo,a=r&&r.quoteChar||'"';if(i){var o=t.getCursor(),s=t.getTokenAt(o),l=e.innerMode(t.getMode(),s.state);if("xml"==l.mode.name){var c,u,d=[],f=!1,h=/\btag\b/.test(s.type),p=h&&/^\w/.test(s.string);if(p){var m=t.getLine(o.line).slice(Math.max(0,s.start-2),s.start),g=/<\/$/.test(m)?"close":/<$/.test(m)?"open":null;g&&(u=s.start-("close"==g?2:1))}else h&&"<"==s.string?g="open":h&&"</"==s.string&&(g="close");if(!h&&!l.state.tagName||g){p&&(c=s.string),f=g;var v=l.state.context,b=v&&i[v.tagName],y=v?b&&b.children:i["!top"];if(y&&"close"!=g)for(var A=0;A<y.length;++A)c&&0!=y[A].lastIndexOf(c,0)||d.push("<"+y[A]);else if("close"!=g)for(var w in i)!i.hasOwnProperty(w)||"!top"==w||"!attrs"==w||c&&0!=w.lastIndexOf(c,0)||d.push("<"+w);v&&(!c||"close"==g&&0==v.tagName.lastIndexOf(c,0))&&d.push("</"+v.tagName+">")}else{var b=i[l.state.tagName],x=b&&b.attrs,C=i["!attrs"];if(!x&&!C)return;if(x){if(C){var T={};for(var k in C)C.hasOwnProperty(k)&&(T[k]=C[k]);for(var k in x)x.hasOwnProperty(k)&&(T[k]=x[k]);x=T}}else x=C;if("string"==s.type||"="==s.string){var M,m=t.getRange(n(o.line,Math.max(0,o.ch-60)),n(o.line,"string"==s.type?s.start:s.end)),S=m.match(/([^\s\u00a0=<>\"\']+)=$/);if(!S||!x.hasOwnProperty(S[1])||!(M=x[S[1]]))return;"function"==typeof M&&(M=M.call(this,t)),"string"==s.type&&(c=s.string,/['"]/.test(s.string.charAt(0))&&(a=s.string.charAt(0),c=s.string.slice(1)),f=!0);for(var A=0;A<M.length;++A)c&&0!=M[A].lastIndexOf(c,0)||d.push(a+M[A]+a)}else{"attribute"==s.type&&(c=s.string,f=!0);for(var _ in x)!x.hasOwnProperty(_)||c&&0!=_.lastIndexOf(c,0)||d.push(_)}}return{list:d,from:f?n(o.line,null==u?s.start:u):o,to:f?n(o.line,s.end):o}}}}var n=e.Pos;e.registerHelper("hint","xml",t)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n])}function n(e,t){if(!Array.prototype.indexOf){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}return-1!=e.indexOf(t)}function r(t,n,r,i){var a=t.getCursor(),o=r(t,a),c=o;if(!/\b(?:string|comment)\b/.test(o.type)){for(o.state=e.innerMode(t.getMode(),o.state).state,/^[\w$_]*$/.test(o.string)||(o=c={start:a.ch,end:a.ch,string:"",state:o.state,type:"."==o.string?"property":null});"property"==c.type;){if(c=r(t,l(a.line,c.start)),"."!=c.string)return;if(c=r(t,l(a.line,c.start)),!u)var u=[];u.push(c)}var d=r(t,l(a.line,o.start));return d.type||(d=r(t,l(a.line,d.start))),"operator"==d.type&&"|"==d.string&&(n=window.availableFilters,o.state.globalVars=void 0),{list:s(o,u,n,i),from:l(a.line,o.start),to:l(a.line,o.end)}}}function i(e,t){return r(e,h,function(e,t){return e.getTokenAt(t)},t)}function a(e,t){var n=e.getTokenAt(t);return t.ch==n.start+1&&"."==n.string.charAt(0)?(n.end=n.start,n.string=".",n.type="property"):/^\.[\w$_]*$/.test(n.string)&&(n.type="property",n.start++,n.string=n.string.replace(/\./,"")),n}function o(e,t){return r(e,f,a,t)}function s(e,r,i,a){function o(e){0!=e.lastIndexOf(f,0)||n(l,e)||l.push(e)}function s(e){"string"==typeof e?t(c,o):e instanceof Array?t(u,o):e instanceof Function&&t(d,o);for(var n in e)o(n)}var l=[],f=e.string;if(r&&r.length){var h,p=r.pop();for(p.type&&0===p.type.indexOf("variable")?(a&&a.additionalContext&&(h=a.additionalContext[p.string]),a&&!1===a.useGlobalScope||(h=h||window[p.string])):"string"==p.type?h="":"atom"==p.type?h=1:"function"==p.type&&(null==window.jQuery||"$"!=p.string&&"jQuery"!=p.string||"function"!=typeof window.jQuery?null!=window._&&"_"==p.string&&"function"==typeof window._&&(h=window._()):h=window.jQuery());null!=h&&r.length;)h=h[r.pop().string];null!=h&&s(h)}else{for(var m=e.state.localVars;m;m=m.next)o(m.name);for(var m=e.state.globalVars;m;m=m.next)o(m.name);a&&!1===a.useGlobalScope||s(window),t(i,o)}return l}var l=e.Pos;e.registerHelper("hint","javascript",i),e.registerHelper("hint","coffeescript",o);var c="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),u="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),d="prototype apply call bind".split(" "),f=("break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),"and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")),h="null".split(" ")});
//# sourceMappingURL=app.js.map
