var app=angular.module("searchApp",["ngRoute","angular-i18n","aui","talis.services.logging","xeditable","ui.sortable"]);function prettyHours(e){e=parseInt(e)||0;return 0!=e?Math.round(e/36)/100+"h":""}app.run(["editableOptions","editableThemes",function(e,t){e.theme="aui",t.aui={formTpl:'<form class="aui"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="inline-edit-fields" tabindex="1"><div class="field-group"></div></div>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button class="aui-button submit" accesskey="s" type="submit" title="Press Alt+s to submit this form"><span class="aui-icon aui-icon-small aui-iconfont-success">Save</span></button>',cancelTpl:'<button class="aui-button cancel" type="cancel" ng-click="$form.$cancel()" title="Press Alt+` to cancel"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">Cancel</span></button>',buttonsClass:"",inputClass:"text",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}}]),app.config(["$routeProvider","$httpProvider","$provide","$i18nProvider",function(e,r,t,n){var i=window.RA||window.AP,a=["$q",function(e){var t=e.defer();return i.getLocation(function(e){e=(e=e.split("project.key=")[1])?e.split("&")[0]:void 0;t.resolve(e)}),t.promise}],o=["$q","$rootScope","$location",function(e,t,n){var r=e.defer();return i.getUser(function(e){r.resolve(e)}),r.promise}];e.when("/",{controller:"SearchController",templateUrl:"templates/main.html",resolve:{loggedInUser:o,projectKey:a}}).when("/columns",{controller:"ColumnController",templateUrl:"templates/main.html",resolve:{loggedInUser:o,projectKey:a}}).otherwise({redirectTo:"/"}),t.decorator("$exceptionHandler",["$delegate","exceptionHandlerInterceptor",function(n,r){return function(e,t){r.invoke?r.invoke(e,t):n(e,t)}}]),r.defaults.headers.common.Authorization="JWT "+window.atlToken,t.factory("authHttpInterceptor",["$injector","$q",function(n,t){return{response:function(e){var t=e.headers("X-acpt");return t&&(r.defaults.headers.common["X-acpt"]=t,n.get("authbeat").authbeat()),e},responseError:function(e){return 401==e.status&&"/authbeat"!=e.config.url&&i.flag.create({title:"Authentication expired",body:"Reload page to restore communication with add-on backend",type:"error"}),t.reject(e)}}}]),t.factory("urlRewriteHttpInterceptor",["$injector","$window",function(e,n){return{request:function(e){var t=e.url.match(/^\/?(.+?)\//);return t&&"i18n"==t[1]&&(e.url=n.i18nDefault),e}}}]),r.interceptors.push("authHttpInterceptor","urlRewriteHttpInterceptor")}]).service("exceptionHandlerInterceptor",function(){}).service("authbeat",["$timeout","$http",function(e,t){this.authbeatPromise=null,this.authbeat=function(){e.cancel(this.authbeatPromise),this.authbeatPromise=e(function(){t.get("/authbeat")},84e4,!1)}}]),app.controller("ColumnController",["$scope","$routeParams","$sce","$q","$route","searchService","columnService","$compile","$interpolate","loggedInUser","exceptionHandlerInterceptor","projectKey","applicationLoggingService",function(n,e,t,r,i,a,o,s,l,c,u,d,f){!n.isGadget&&angular.isFunction(AP.history.pushState)&&AP.history.pushState("/columns"),n.menuInfo={contentTemplate:"templates/columns.html",isColumn:!0},n.licenseManager=SearchUtils.getLicenseManager(n,t),n.filterOptions={filters:a.data.allFilters};var h=a.getDefaultFilter(d),p=(a.getFilters(c,{},function(e){e.splice(0,0,h)}).then(function(e){n.filterOptions.selected=a.data.filterId||h.id}),n.columns=o.data.allColumns,o.getColumns({columnIds:[]}).then(function(){n.columnSelected(o.data.selectedColumnId||n.columns[0].id)}),n.column={},{name:"",template:'<span ng-bind="{{column.expression}}"/>',expression:""}),t=(angular.isDefined(n.column.id)||angular.copy(p,n.column),n.columnSelected=function(e){o.data.selectedColumnId=e;e=o.findById(e,n.columns);null!=e&&angular.copy(e,n.column)},n.preview={},a.data.issues);function m(e){n.preview.issue=e,n.preview.issueJson=JSON.stringify(e,function(e,t){if(-1==["expand","self","$$hashKey"].indexOf(e))return t},"  ")}0<t.length&&(n.selectedIssueKey=t[0].key,m(t[0])),n.filterSelected=function(){},n.issueSelected=function(e){a.findIssueByKey(e).then(m)},n.columnOptions={};function g(){delete n.columnOptions.templateError,angular.isDefined(n.columnOptions.templateError)||(n.columnOptions.noTemplateError=!0,u.invoke=function(e,t){n.columnOptions.templateError=e.message,delete n.columnOptions.noTemplateError},s(n.column.template)(n),delete u.invoke)}n.$watch("column.template",g),n.$watch("column.expression",function(){delete n.columnOptions.expressionError,n.columnOptions.noExpressionError=!0,u.invoke=function(e,t){n.columnOptions.expressionError=e.message,delete n.columnOptions.noExpressionError},l("{{"+n.column.expression+"}}")(n),delete u.invoke,g()}),n.saveColumn=function(e){var t;return n.column._global&&(delete n.column.id,delete n.column._global),angular.isDefined(n.column.id)?t=o.updateColumn(n.column,{}):(t=o.addColumn(n.column)).then(function(e){n.columnSelected(e.id)}),n.showSaveAsNewButton=!1,e.$setPristine(),t.promise},n.columnNameChanged=function(){n.column.name&&n.column.id&&!n.column._global&&(n.showSaveAsNewButton=!0)},n.saveAsNewColumn=function(e){delete n.column.id,n.saveColumn(e)},n.removeColumn=function(e){e=o.removeColumn(n.column,e);return n.columnSelected(0<n.columns.length?n.columns[0].id:""),e.promise},n.newColumn=function(){angular.copy(p,n.column),n.showSaveAsNewButton=!1},n.refresh=function(){a.resetState(),o.resetState(),i.reload()},n.resize=function(){AP.resize()},n.logger=f}]),app.controller("ColumnDialogController",function(r,i,a,e,t){r.columnOptions={selected:"",columns:a},r.selectedColumns=[],e.forEach(function(e){e=i.findById(e,a);r.selectedColumns.push(e)}),r.columnSelected=function(){var t=!1,n=i.findById(r.columnOptions.selected,a);r.selectedColumns.forEach(function(e){e.id==n.id&&(t=!0)}),t?AP.flag.create({title:"Failed to add column",body:"Column is already added",type:"warning"}):r.selectedColumns.push(n)},r.removeSelectedColumn=function(e){for(var t=0;t<r.selectedColumns.length;t++)r.selectedColumns[t].id==e&&r.selectedColumns.splice(t,1)},r.saveSelectedColumns=function(){r.closeDialog(i.getColumnIds(r.selectedColumns))},r.cancelDialog=function(){t.dismiss()},r.closeDialog=function(e){t.close(e)}}),app.controller("GadgetController",["$scope","$rootScope","$route","$routeParams","$q","$location","$timeout","searchService",function(t,n,e,r,i,a,o,s){t.saveGadgetConfig=function(){s.data.filterId=null;var e=SearchUtils.normalizeObject({viewId:t.$parent.viewOptions.selected,filterId:"0"==t.$parent.filterOptions.selected?"":t.$parent.filterOptions.selected},!0);s.saveGadgetConfiguration(t.dashboardId,t.dashboardItemId,e).then(n.$emit("gadgetConfigSave"))},t.cancelGadgetConfigSaving=function(){n.$emit("gadgetConfigCancel")}}]),app.controller("SearchController",["$scope","$rootScope","$sce","$q","$route","$routeParams","$location","$modal","searchService","columnService","viewService","loggedInUser","projectKey","$document","$timeout",function(a,e,o,s,l,c,u,d,f,h,p,m,g,v,b){function t(e,t){a.showGadgetConfiguration=!1;a.reportParams=$.param({viewId:e,filterId:t}),a.menuInfo={contentTemplate:"templates/issues.html",isView:!0},a.licenseManager=SearchUtils.getLicenseManager(a,o),a.currentView=p.data.currentView,a.viewOptions={views:p.data.allViews,selected:p.data.currentView.id},a.projectKey=g,a.columns=h.data.currentColumns,a.allColumns=h.data.allColumns,a.issues=f.data.issues,a.issuesCount=f.data.issuesCount,a.pages=[],a.loading=!0;var e=p.getViews({viewId:e}).then(function(){a.viewOptions.selected=p.data.currentView.id;var e,t=angular.isDefined(p.data.currentView.id);a.isGadget&&t&&AP.jira.setDashboardItemTitle(p.data.currentView.name),a.showDeleteButton=t,c.columnId&&(a.currentView.columns=(t=c.columnId,e=[],angular.isArray(t)?e=t.map(function(e){return parseInt(e)}):angular.isDefined(t)&&e.push(parseInt(t)),e)),a.showSaveButton=(a.currentView._origColumns||0<a.currentView.columns.length)&&!angular.equals(a.currentView.columns,a.currentView._origColumns),h.getColumns({columnIds:a.currentView.columns})}),n={filterId:t||f.data.filterId,projectKey:a.projectKey||"",maxResults:50,startAt:c.startAt||f.data.issuesCount.startAt||0},r=n.filterId?f.getFilter(n.filterId).then(function(e){e=e.searchUrl.match(/\/rest\/api\/[23]\/search(?:\/jql)?\?jql=(.*)$/);return e&&(n.filterQuery=e[1]),n}):s.resolve(n),r=r.then(f.getIssues.bind(f)),i=(s.all([e,r]).then(function(e){a.loading=!1,a.issuesCount.end=Math.min(a.issuesCount.startAt+a.issuesCount.maxResults,a.issuesCount.total);for(var t=Math.ceil(a.issuesCount.total/a.issuesCount.maxResults),n=0;n<t;n++)a.pages.push(n);b(function(){AP.resize()},100)}).catch(function(e,t){a.loading=!1}),a.filterOptions={filters:f.data.allFilters},f.getDefaultFilter(a.projectKey));f.getFilters(m,{},function(e){e.splice(0,0,i)}).then(function(e){a.filterOptions.selected=n.filterId||"0"}),t&&f.getFilter(t).then(function(e){a.currentFilterName=e.name}),a.viewSelected=function(e){var t=u.search();t.viewId=e,u.search(t)},a.filterSelected=function(){var e=u.search();e.filterId="0"==a.filterOptions.selected?"":a.filterOptions.selected,f.data.filterId=null,f.data.issuesCount.total=null,f.data.issuesCount.startAt=e.startAt=0,u.search(e)},a.setStartAt=function(e){var t=u.search();t.startAt=e,u.search(t)},a.refresh=function(){f.resetState(),h.resetState(),p.resetState(),l.reload()},a.addColumn=function(){d.open({templateUrl:"column-dialog-template",controller:"ColumnDialogController",resolve:{columns:function(){return h.getAllColumnsGrouped()},selectedColumnIds:function(){return a.currentView.columns}}}).result.then(function(e){var t=u.search();e&&(0==(t.columnId=e).length&&(t._=Date.now()),u.search(t))})},a.updateColumns=function(){var e=a.currentView.columns,t=u.search();e&&(0==(t.columnId=e).length&&(t._=Date.now()),u.search(t))},a.saveViewAsNew=function(){p.addView(a.currentView).then(function(e){var t=u.search();t.viewId=e.id,u.search(t)})},a.saveView=function(){a.currentView.id?(p.updateView(a.currentView),a.showSaveAsNewButton=!1,a.showSaveButton=!1):a.saveViewAsNew()},a.deleteView=function(){p.removeView(a.currentView).then(function(){var e=u.search();e.viewId?delete e.viewId:e._=Date.now(),u.search(e)})},a.viewNameChanged=function(){a.showSaveAsNewButton=angular.isDefined(a.currentView.id),a.showSaveButton=!0},a.dragDropOptions={orderChanged:function(e){a.showSaveButton=!0;var t=u.search();t.columnId=h.getColumnIds(a.columns),u.search(t)},dragStart:function(e){angular.element(v[0].body).addClass("as-sortable-unselectable"),angular.element(".sortable-placeholder").css("min-width",e.source.itemScope.element.css("width"))},dragCancel:function(e){angular.element(v[0].body).removeClass("as-sortable-unselectable")}}}a.isGadget?f.getGadgetConfiguration(a.dashboardId,a.dashboardItemId).then(function(e){t(e.viewId,e.filterId||"")}):(t(c.viewId,c.filterId),angular.isFunction(AP.history.pushState)&&(c.viewId=c.viewId||p.data.currentView.id,c.filterId=c.filterId||f.data.filterId,c.startAt=c.startAt||f.data.issuesCount.startAt,AP.history.pushState("/?"+$.param(c)))),a.isGadget&&(AP.jira.DashboardItem.onDashboardItemEdit(function(){a.$apply("showGadgetConfiguration = true"),AP.resize()}),e.onGadgetConfigSave=e.onGadgetConfigSave||e.$on("gadgetConfigSave",function(){a.refresh()}),e.onGadgetConfigCancel&&e.onGadgetConfigCancel(),e.onGadgetConfigCancel=e.$on("gadgetConfigCancel",function(){a.showGadgetConfiguration=!1,b(function(){AP.resize()})}))}]),app.directive("context",function(){return{restrict:"E",scope:{items:"="},link:function(e,t,n){var r=e.items;angular.extend(e.$parent,r)}}}),app.directive("issueColumn",["$compile",function(r){return{restrict:"E",scope:{issue:"=",column:"="},link:function(e,t,n){t.html(r(e.column.template)(e))}}}]),app.directive("issueColumn2",["$compile",function(r){return{restrict:"E",scope:{issue:"=",column:"=",isValid:"="},link:function(e,t,n){e.$watchCollection(n.column,function(){e.isValid?t.html(r(e.column.template)(e)):t.html("")})}}}]),app.directive("issueType",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent"><img width="16" height="16" title="{{issue.fields.issuetype.description}}" ng-src="{{issue.fields.issuetype.iconUrl}}" alt="{{issue.fields.issuetype.name}}" /></a>'}}),app.directive("issueKey",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent">{{issue.key}}</a>'}}),app.directive("issueSummary",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent">{{issue.fields.summary}}</a>'}}),app.directive("issuePriority",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent"><img width="16" height="16" ng-src="{{issue.fields.priority.iconUrl}}" alt="{{issue.fields.priority.name}}" /></a>'}}),app.directive("auiSelect2",["$document",function(i){return{require:"ngModel",restrict:"A",link:function(e,t,n,r){e.$watch(n.ngModel,function(){$(t).auiSelect2().on("select2-open",function(){var e=$(".select2-drop-above.select2-drop-active");0<e.length&&e.offset().top<0&&AP.resize(i.width(),i.height()+e.height())})})}}}]),app.directive("columnsDropdown",["$timeout",function(e){return{restrict:"E",scope:{isGadget:"=",columns:"=",selected:"=",onClose:"&"},templateUrl:"/templates/columnsDropdown.html",link:function(r,e,t){r.checked=function(e){return 0<=r.selected.indexOf(e.id)?"checked":""},r.save=function(){var n=[];angular.element("#columns-dropdown > div > ul > li > .checked").each(function(e,t){t=angular.element(t);n.push(t.scope().column.id)}),i(r.selected,n),angular.element("#columns-dropdown-trigger").trigger("aui-button-invoke"),r.onClose()},r.cancel=function(){angular.element("#columns-dropdown > div > ul > li > a").each(function(e,t){var t=angular.element(t),n=t.scope().column.id;-1==r.selected.indexOf(n)?(t.removeClass("checked"),t.removeClass("aui-dropdown2-checked")):t.addClass("checked")}),angular.element("#columns-dropdown-trigger").trigger("aui-button-invoke")};var i=function(n,r){angular.forEach(n,function(e,t){-1==r.indexOf(e)&&n.splice(t,1)}),angular.forEach(r,function(e){-1==n.indexOf(e)&&n.push(e)})}}}}]),app.directive("auiIssuePicker",["searchService",function(r){return{scope:{ngModel:"=",ngDisabled:"="},restrict:"A",link:function(n,t,e){$(t).auiSelect2({placeholder:"",multiple:!1,ajax:{url:"/rest/api/3/issue/picker",type:"GET",dataType:"json",cache:!0,data:function(e){return{query:e,currentJQL:"",showSubTasks:!0}},results:function(e){var t=[];return 0<(e=SearchUtils.getJson(e)).sections.length&&(t.push({select2Section:e.sections[0].label,children:e.sections[0].issues}),1<e.sections.length)&&t.push({select2Section:e.sections[1].label,children:e.sections[1].issues}),{results:t}},transport:function(e){AP.request({url:e.url,headers:{Accept:"application/json"},data:e.data,success:e.success,error:e.error})}},id:function(e){return e.key},formatSelection:function(e){return Select2.util.escapeMarkup(e.key+": "+e.summaryText)},formatResult:function(e,t,n,r){var i;return e.hasOwnProperty("select2Section")?e.select2Section:(e=e.key+": "+e.summaryText,i=[],Select2.util.markMatch(r(e),r(n.term),i,function(e){return e}),i.join(""))},initSelection:function(e,t){n.ngModel&&r.findIssueByKey(n.ngModel).then(function(e){t({key:e.key,summaryText:e.fields.summary})})},formatNoMatches:function(e){return"No matches found"}}),n.$watch("ngModel",function(e){t.select2("val")!=e&&t.select2("val",e)})}}}]),app.directive("auiInlineDialog",["$timeout",function(e){return{restrict:"A",scope:{auiInlineDialog:"@",callback:"&auiPopupCallback"},link:function(e,t,n,r){AJS.InlineDialog(t,"auiPopup",e.auiInlineDialog)}}}]),app.directive("highlight",[function(){return{restrict:"A",link:function(e,t,n){e.$watch(n.ngBind,function(){hljs.highlightBlock(t[0])})}}}]),app.directive("codemirror",[function(){return{restrict:"A",require:"ngModel",scope:{codemirrorOpts:"="},link:function(r,e,t,i){var n=CodeMirror.fromTextArea(e[0],r.codemirrorOpts);i.$render=function(){var e=i.$viewValue||"";n.setValue(e)},n.on("changes",function(e,t){var n=e.getValue();n!==i.$viewValue&&(r.$root.$$phase?i.$setViewValue(n):r.$apply(function(){i.$setViewValue(n)}),r.$parent.columnForm)&&r.$parent.columnForm.$setPristine()})}}}]),app.directive("selectedColumn",[function(){return{restrict:"E",scope:{label:"=",removeAction:"&removeAction"},template:'<span id="closeable-label-nourl" class="aui-label aui-label-closeable">{{label}}<span ng-click="removeAction()" tabindex="0" class="aui-icon aui-icon-close" original-title="(remove closableNoUrl)">(remove closableNoUrl)</span></span>'}}]),app.directive("resize",[function(e){return{restrict:"EA",link:function(e,t){angular.element(function(){(window.RA||window.AP).resize()})}}}]),app.filter("prettyHours",function(){return prettyHours}),app.filter("prettyDuration",function(){return function(e){var t,e=parseInt(e)||0,n=28800,r=864e3,i=12*r,a="";return i<=e&&(a+=(t=Math.floor(e/i))+" years ",e-=t*i),r<=e&&(a+=(t=Math.floor(e/r))+" months ",e-=t*r),144e3<=e&&(a+=(i=Math.floor(e/144e3))+" weeks ",e-=144e3*i),n<=e&&(a+=(t=Math.floor(e/n))+" days ",e-=t*n),3600<=e&&(a+=(r=Math.floor(e/3600))+" hours ",e-=3600*r),!a&&60<=e&&(a+=(i=Math.floor(e/60))+" minutes",e-=60*i),a}}),app.filter("timeago",[function(){return function(e){var t=moment(e);return t.isValid()?t.fromNow():e}}]),app.filter("timeToResolve",["applicationLoggingService",function(i){return function(e){var t,n,r;return e?(e.fields.resolution,n=(n=e.fields.resolutiondate)?moment(n):moment(),i.debug("resolutiondate",n.toDate()),e=moment(e.fields.created),i.debug("created",e.toDate()),t="",(n=moment.unix(n.unix()-e.unix())).add(-n.utcOffset()/60,"hours"),i.debug("diff",n.toDate()),0<(e=n.year()-1970)&&(t+=e+"y "),0<(e=n.month())&&(t+=e+"m "),7<=(e=n.date()-1)&&(t+=(r=Math.floor(e/7))+"w ",e-=7*r),0<e&&(t+=e+"d "),0<(r=n.hours())&&(t+=r+"h "),e=n.minutes(),t||(t+=e+" min"),i.debug("timeToResolve",t),t):""}}]),app.filter("timeToResolveLozenge",function(){return function(e){var t,n,r,i,a;return e?(t="aui-lozenge ",e.fields.resolution,a=(a=e.fields.resolutiondate)?moment(a):(t+="aui-lozenge-subtle ",moment()),e=moment(e.fields.created),(a=moment.unix(a.unix()-e.unix())).add(-a.utcOffset()/60,"hours"),e=a.year()-1970,n=a.month(),r=a.date()-1,i=a.hours(),a=a.minutes(),t+(0<e||0<n||5<r?"aui-lozenge-error":2<r||2==r&&(0<i||0<a)?"aui-lozenge-current":"aui-lozenge-success")):""}}),app.filter("timeLeft",function(){return function(e){var t,n,r;return e?!(r=e.fields.duedate)&&e.fields.timeestimate?prettyHours(e.fields.timeestimate):r?(r=moment(r),e=moment(),n=null,t="",(n=r.isBefore(e)?(t+="-",e.subtract(1e3*r.unix())):r.subtract(1e3*e.unix())).add(-n.utcOffset()/60,"hours"),0<(r=n.year()-1970)&&(t+=r+"y "),0<(e=n.month())&&(t+=e+"m "),7<=(r=n.date()-1)&&(t+=(e=Math.floor(r/7))+"w ",r-=7*e),0<r&&(t+=r+"d "),0<(e=n.hours())&&(t+=e+"h "),r=n.minutes(),t||(t+=r+" min"),t):"-":""}}),app.filter("timeLeftLozenge",function(){return function(e){var t,n,r,i,a;return e?(t="aui-lozenge ",r=e.fields.duedate,e=e.fields.timeestimate,n=moment(),a=i=null,a=(r=r?moment(r):(t+="aui-lozenge-subtle ",n)).isBefore(n)?-(i=n.subtract(1e3*r.unix())).unix():(i=r.subtract(1e3*n.unix())).unix(),i.add(-i.utcOffset()/60,"hours"),i.year(),i.month(),i.date(),i.hours(),i.minutes(),t+(a&&a<e?"aui-lozenge-error":!e&&a<28800||e&&a&&a-e<28800||!e&&!a?"aui-lozenge-current":"aui-lozenge-success")):""}}),angular.module("aui",["aui.tpls","aui.dialog2"]),angular.module("aui.tpls",["template/modal/backdrop.html","template/modal/window.html"]),angular.module("aui.dialog2",[]).factory("$$stackedMap",function(){return{createNew:function(){var r=[];return{add:function(e,t){r.push({key:e,value:t})},get:function(e){for(var t=0;t<r.length;t++)if(e==r[t].key)return r[t]},keys:function(){for(var e=[],t=0;t<r.length;t++)e.push(r[t].key);return e},top:function(){return r[r.length-1]},remove:function(e){for(var t=-1,n=0;n<r.length;n++)if(e==r[n].key){t=n;break}return r.splice(t,1)[0]},removeTop:function(){return r.splice(r.length-1,1)[0]},length:function(){return r.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(r,i){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,t,n){i(function(){e.animate=!0}),e.close=function(e){var t=r.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&(e.preventDefault(),e.stopPropagation(),r.dismiss(t.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(r){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(e,t,n){e.windowClass=n.windowClass||"",e.windowSizeClass="aui-dialog2-"+(n.windowSize||"small"),r(function(){e.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap","$timeout",function(e,n,t,r,i){var a,o,s=t.$new(!0),l=e.find("body").eq(0),c=r.createNew(),r={};function u(){for(var e=-1,t=c.keys(),n=0;n<t.length;n++)c.get(t[n]).value.backdrop&&(e=n);return e}function d(e){var t=c.get(e).value;c.remove(e),t.modalDomEl.remove(),-1==u()&&(o.remove(),o=void 0),t.modalScope.$destroy()}return t.$watch(u,function(e){s.index=e}),e.bind("keydown",function(e){}),r.open=function(e,t){c.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});e=angular.element("<div modal-window></div>"),e.attr("window-class",t.windowClass),e.attr("window-size",t.windowSize),e.attr("index",c.length()-1),e.html(t.content),e=n(e)(t.scope);c.top().value.modalDomEl=e,l.append(e),0<=u()&&!o&&(a=angular.element("<div modal-backdrop></div>"),o=n(a)(s),l.append(o))},r.close=function(e,t){var n=c.get(e);n&&(n.value.deferred.resolve(t),d(e))},r.dismiss=function(e,t){var n=c.get(e).value;n&&(n.deferred.reject(t),d(e))},r.getTop=function(){return c.top()},r}]).provider("$modal",function(){var h={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(i,s,l,c,u,d,f){var e={};return e.open=function(t){var n,e,a=l.defer(),r=l.defer(),o={result:a.promise,opened:r.promise,close:function(e){f.close(o,e)},dismiss:function(e){f.dismiss(o,e)}};if((t=angular.extend({},h.options,t)).resolve=t.resolve||{},t.template||t.templateUrl)return(e=l.all([(e=t).template?l.when(e.template):c.get(e.templateUrl,{cache:u}).then(function(e){return e.data}).catch(function(){console.error(arguments)})].concat((e=t.resolve,n=[],angular.forEach(e,function(e,t){(angular.isFunction(e)||angular.isArray(e))&&n.push(l.when(i.invoke(e)))}),n)))).then(function(n){var e=(t.scope||s).$new();e.$close=o.close,e.$dismiss=o.dismiss;var r={},i=1;t.controller&&(r.$scope=e,r.$modalInstance=o,angular.forEach(t.resolve,function(e,t){r[t]=n[i++]}),d(t.controller,r)),f.open(o,{scope:e,deferred:a,content:n[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass,windowSize:t.windowSize})},function(e){a.reject(e)}),e.then(function(){r.resolve(!0)},function(){r.reject(!1)}),o;throw new Error("One of template or templateUrl options is required.")},e}]};return h}),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="aui-blanket" ng-style="{\'z-index\': 1040 + index*10}" ng-click="close($event)"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<section role="dialog" class="aui-layer aui-dialog2 {{windowSizeClass}} {{ windowClass }}" ng-style="{\'z-index\': 1050 + index*10}" ng-transclude>')}]);var loggingModule=angular.module("talis.services.logging",[]),SearchUtils=(loggingModule.factory("traceService",function(){return{print:printStackTrace}}),loggingModule.provider("$exceptionHandler",{$get:["exceptionLoggingService",function(e){return e}]}),loggingModule.factory("exceptionLoggingService",["$log","$window","traceService",function(i,a,o){return function(e,t){if(i.error.apply(i,arguments),a.loggerUrl)try{var n=e.toString(),r=o.print({e:e});$.ajax({type:"POST",url:a.loggerUrl,contentType:"application/json",data:angular.toJson({url:a.location.href,message:n,type:"exception",stackTrace:r,cause:t||""})})}catch(e){i.warn("Error server-side logging failed"),i.log(e)}}}]),loggingModule.factory("applicationLoggingService",["$log","$window",function(t,n){return{error:function(e){t.error.apply(t,arguments),n.loggerUrl&&$.ajax({type:"POST",url:n.loggerUrl,contentType:"application/json",data:angular.toJson({url:n.location.href,message:e,type:"error"})})},enabled:!1,debug:function(e){this.enabled&&t.log.apply(t,arguments)}}}]),app.service("columnService",["$q","$http","dataService",function(o,s,l){var c="columns";this.data={allColumns:[],currentColumns:[]},this.getAllColumnsGrouped=function(){var t=[];return this.data.allColumns.forEach(function(e){e._global?e._group="System Columns":e._group="User Columns",t.push(e)}),t},this.getColumnIds=function(e){var t=[];return e.forEach(function(e){t.push(e.id)}),t},this.resolveCurrentColumns=function(e,t){e.columnIds.forEach(function(t){this.data.allColumns.forEach(function(e){e.id==t&&this.data.currentColumns.push(e)},this)},this),t.resolve(this.data.currentColumns)},this.getColumnsBak=function(t){var n=o.defer(),r=this;return this.data.currentColumns.splice(0,this.data.currentColumns.length),0==this.data.allColumns.length?s.get("/api/columns/").then(function(e){[].push.apply(r.data.allColumns,e.data),r.resolveCurrentColumns(t,n)}).catch(function(){console.error(arguments)}):r.resolveCurrentColumns(t,n),n.promise},this.getColumns=function(t){var n=o.defer(),r=this;return this.data.currentColumns.splice(0,this.data.currentColumns.length),0==this.data.allColumns.length?l.getProperty(c,[]).then(function(e){[].push.apply(r.data.allColumns,e),r.resolveCurrentColumns(t,n)}):r.resolveCurrentColumns(t,n),n.promise},this.addColumnBak=function(e){var t=o.defer(),n=this;return s.post("/api/columns/",e).then(function(e){n.data.allColumns.push(e.data),n.data.currentColumns.push(newColumn),t.resolve(newColumn)}).catch(function(){console.error(arguments)}),t.promise},this.addColumn=function(r){var i=o.defer(),a=this;return l.getProperty(c,[]).then(function(e){var t=0<e.length?e[e.length-1]:{id:0},n=angular.copy(r);n.id=t.id+1,e.push(n),l.setProperty(c,e).then(function(){a.data.allColumns.push(n),a.data.currentColumns.push(n),i.resolve(n)})}),i.promise},this.updateColumnBak=function(e,r){var i=o.defer(),a=this;return s.put("/api/columns/"+e.id,e).then(function(e){var t,n=e.data.updatedColumn;a.data.allColumns.forEach(function(e,t){n.id==e.id&&this.data.allColumns.splice(t,1,n)},a),angular.isDefined(r.id)?(n.id!=r.id&&-1!=(t=a.indexById(n.id,a.data.currentColumns))&&a.data.currentColumns.splice(t,1),t=a.indexById(r.id,a.data.currentColumns),a.data.currentColumns.splice(t,1,n)):-1!=(t=a.indexById(n.id,a.data.currentColumns))?a.data.currentColumns.splice(t,1,n):a.data.currentColumns.splice(a.data.currentColumns.length,0,n),i.resolve(a.data.currentColumns)}).catch(function(){console.error(arguments)}),i.promise},this.updateColumn=function(r,e){var t=o.defer(),i=this;return l.getProperty(c,[]).then(function(e){var t=i.indexById(r.id,e),n=angular.copy(r);e[t]=n,l.setProperty(c,e).then(function(){var e=i.indexById(r.id,i.data.allColumns),e=(i.data.allColumns.splice(e,1,n),i.indexById(r.id,i.data.currentColumns));i.data.currentColumns.splice(e,1,n)})}),t.promise},this.removeColumnBak=function(e,t){var n=o.defer(),r=(t&&(s.delete("/api/columns/"+e.id),-1!=(r=this.indexById(e.id,this.data.allColumns)))&&this.data.allColumns.splice(r,1),this.indexById(e.id,this.data.currentColumns));return-1!=r&&this.data.currentColumns.splice(r,1),n.resolve(this.data.currentColumns),n.promise},this.removeColumn=function(e,t){var n,r=o.defer(),i=e.id,e=(t&&(n=this,l.getProperty(c,[]).then(function(e){var t=n.indexById(i,e);e.splice(t,1),l.setProperty(c,e).then(function(){var e=n.indexById(i,n.data.allColumns);n.data.allColumns.splice(e,1)})})),this.indexById(i,this.data.currentColumns));return-1!=e&&this.data.currentColumns.splice(e,1),r.resolve(this.data.currentColumns),r.promise},this.indexById=function(n,e){var r=-1;return e.forEach(function(e,t){n==e.id&&(r=t)}),r},this.findById=function(e,t){e=this.indexById(e,t);return-1!=e?t[e]:null},this.resetState=function(){this.data.allColumns.splice(0,this.data.allColumns.length)}}]),app.service("dataService",["$q","applicationLoggingService","$http",function(r,e,t){function n(e,t,n){return{id:l++,_global:!0,name:e,template:t,expression:n}}var i=window.RA||window.AP,a="/rest/atlassian-connect/1/addons/lambda-plugin/properties/",o=r.defer(),s={},l=(this.getProperty=function(e,t){var n=r.defer();return o.promise.then(function(){s[e]?i.request({url:a+e,success:function(e){e=SearchUtils.getJson(e),e=SearchUtils.getJson(e.value);n.resolve(e)},error:function(e){n.resolve(t)}}):n.resolve(t)}),n.promise},this.setProperty=function(t,e){var n=r.defer();return i.request({url:a+t,type:"PUT",data:JSON.stringify(e),contentType:"application/json",success:function(e){e=SearchUtils.getJson(e),e=SearchUtils.getJson(e.value);n.resolve(e),s[t]=!0},error:function(e){n.reject(e)}}),n.promise},1),c=(this.createColumns=function(){var e=r.defer(),t=[];return t.push(n("Timespent",'<span ng-bind="{{column.expression}}"/>',"issue.fields.timespent | prettyHours")),t.push(n("Time to resolve",'<span class="{{issue | timeToResolveLozenge}}" ng-bind="{{column.expression}}"/>',"issue | timeToResolve")),t.push(n("Time left",'<span class="{{issue | timeLeftLozenge}}" ng-bind="{{column.expression}}"/>',"issue | timeLeft")),this.setProperty("columns",t).then(e.resolve,e.resolve),e.promise},this);i.request({url:a,success:function(e){if(0==(e=SearchUtils.getJson(e)).keys.length)c.createColumns().then(o.resolve);else{for(var t=0;t<e.keys.length;t++){var n=e.keys[t];s[n.key]=!0}o.resolve()}}})}]),app.service("searchService",["$q","applicationLoggingService",function(l,a){var c=window.RA||window.AP,i="gadgetConfig";this.data={allFilters:[],filters:{},issues:[],issuesCount:{total:null,startAt:0,maxResults:50}},this.getIssues=function(e){var t,n=l.defer();return null==this.data.issuesCount.total||this.data.filterId!=e.filterId||angular.isDefined(e.startAt)&&this.data.issuesCount.startAt!=e.startAt?(this.data.issues.splice(0,this.data.issues.length),this.data.filterId=e.filterId,(t=this).getAllIssues(e.startAt,e).then(function(e){Array.prototype.push.apply(t.data.issues,e.issues),t.data.issuesCount.total=e.total,t.data.issuesCount.startAt=e.startAt,t.data.issuesCount.maxResults=e.maxResults,n.resolve(t.data.issues)})):n.resolve(this.data.issues),n.promise},this.getAllIssues=function(e,t){var n=t.filterQuery,r=t.filterId,i=t.projectKey,a=this,t=t.maxResults||1e3,o=l.defer(),e=(new this.queryBuilder).addQuery("fields","*all").addQuery("startAt",e).addQuery("maxResults",t);n?e.addQuery("jql",n):r?e.addQuery("jql","filter="+r):i?e.addQuery("jql",'project="'+i+'"'):e.addQuery("jql","created >= -90d ORDER BY created DESC");var s="/rest/api/3/search/jql?"+e.build();return c.request({url:s,dataType:"json",success:function(e){"string"==typeof e&&(e=JSON.parse(e)),o.resolve(e)},error:function(e){var t=Array.prototype.slice.call(arguments);t.push(s,o),a.onError.apply(a,t)}}),o.promise},this.findIssueByKey=function(e){var t=l.defer();return c.request({url:"/rest/api/3/issue/"+e+"?fields=*all",dataType:"json",success:function(e){t.resolve(SearchUtils.getJson(e))},error:function(){t.reject()}}),t.promise},this.getFilters=function(e,t,n){var r,i=this,a=l.defer();return 0==i.data.allFilters.length?c.request({url:r="/rest/api/3/filter/favourite",dataType:"json",success:function(e){"string"==typeof e&&(e=JSON.parse(e)),Array.prototype.push.apply(i.data.allFilters,e),n(i.data.allFilters),a.resolve(i.data.allFilters)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(r,a),i.onError.apply(i,e)}}):a.resolve(i.data.allFilters),a.promise},this.getFilter=function(t){var n,r=this,i=l.defer();return 0!=r.data.filters.length&&r.data.filters.hasOwnProperty(t)?i.resolve(r.data.filters[t]):c.request({url:n="/rest/api/3/filter/"+t,dataType:"json",success:function(e){"string"==typeof e&&(e=JSON.parse(e)),r.data.filters[t]=e,i.resolve(r.data.filters[t])},error:function(){var e=Array.prototype.slice.call(arguments);e.push(n,i),r.onError.apply(r,e)}}),i.promise},this.onError=function(e,t,n,r,i){401==e.status?this.loginExpired():503==e.status?this.serviceUnavailable():403==e.status?this.forbidden():this.unexpectedError(e,n,r),i.reject()},this.loginExpired=function(){c.flag.create({title:"JIRA session expired",body:"Please login again to restore connection with JIRA",type:"error"})},this.serviceUnavailable=function(){c.flag.create({title:"JIRA Unavailable",body:"The requested resource failed to load. If the problem persists, please contact Atlassian Cloud Support.",type:"error"})},this.forbidden=function(){c.flag.create({title:"Forbidden",body:"You need to accept WRITE and DELETE scopes for the add-on in UPM",type:"error"})},this.unexpectedError=function(t,e,n){var r="";if(t&&t.responseText)try{var i=SearchUtils.getJson(t.responseText),r=i.errorMessages.join(" ");a.error(i,n)}catch(e){r=t.responseText,a.error(t.responseText,n)}else a.error(r=e,n);c.flag.create({title:"Unexpected error",body:r,type:"error"})},this.getDefaultFilter=function(e){var t={id:"0"};return t.name=e?"All "+e+" Issues":"All Issues",t},this.getGadgetConfiguration=function(t,n){var r=l.defer();return c.request({url:"/rest/api/3/dashboard/"+t+"/items/"+n+"/properties",success:function(e){0<(e=SearchUtils.getJson(e)).keys.length?c.request({url:"/rest/api/3/dashboard/"+t+"/items/"+n+"/properties/"+i,success:function(e){e=SearchUtils.getJson(e),r.resolve(e.value)},error:function(e){r.resolve({})}}):r.resolve({})},error:function(e){r.resolve({})}}),r.promise},this.saveGadgetConfiguration=function(e,t,n){var r=l.defer();return c.request({url:"/rest/api/3/dashboard/"+e+"/items/"+t+"/properties/"+i,type:"PUT",contentType:"application/json",headers:{Accept:"application/json"},data:JSON.stringify(n),success:function(e){r.resolve(SearchUtils.getJson(e))},error:function(e){r.reject()}}),r.promise},this.resetState=function(){this.data.issues.splice(0,this.data.issues.length),this.data.issuesCount.total=null,this.data.issuesCount.startAt=0,this.data.allFilters=[],this.data.filters={}},this.queryBuilder=function(){var n=[];this.addQuery=function(e,t){return null!=t&&""!=t&&n.push(e+"="+t),this},this.build=function(){for(var e="",t=0;t<n.length;t++)0!=t&&(e+="&"),e+=n[t];return e}}}]),app.service("viewService",["$q","$http","dataService",function(o,e,s){var l="views";this.data={allViews:[],currentView:{name:"Untitled",columns:[]}},this.updateCurrentView=function(t){var e,n=this;n.data.allViews.forEach(function(e){e.id!=t.viewId||n.data.currentView.id&&n.data.currentView.id==t.viewId||(angular.copy(e,n.data.currentView),n.data.currentView._origColumns=e.columns)},n),!n.data.currentView.id&&0<n.data.allViews.length&&(e=n.data.allViews[0],angular.copy(e,n.data.currentView),n.data.currentView._origColumns=e.columns)},this.getViews=function(t){var n=o.defer(),r=this;return 0==this.data.allViews.length?s.getProperty(l,[]).then(function(e){[].push.apply(r.data.allViews,e),r.updateCurrentView(t),n.resolve(r.data.allViews)}):(r.updateCurrentView(t),n.resolve(r.data.allViews)),n.promise},this.addView=function(r){var i=o.defer(),a=this;return s.getProperty(l,[]).then(function(e){var t=0<e.length?e[e.length-1]:{id:0},n=angular.copy(r);n.id=t.id+1,e.push(n),s.setProperty(l,e).then(function(){a.data.allViews.push(n),angular.copy(n,a.data.currentView),a.data.currentView._origColumns=n.columns,i.resolve(a.data.currentView)})}),i.promise},this.updateView=function(r){var i=o.defer(),a=this;return s.getProperty(l,[]).then(function(e){var t=a.indexById(r.id,e),n=angular.copy(r);e[t]=n,s.setProperty(l,e).then(function(){var e=a.indexById(r.id,a.data.allViews);a.data.allViews.splice(e,1,n),angular.equals(r,a.data.currentView)||angular.copy(r,a.data.currentView),i.resolve(a.data.currentView)})}),i.promise},this.removeView=function(e){var n=o.defer(),r=this,i=e.id;return s.getProperty(l,[]).then(function(e){var t=r.indexById(i,e);e.splice(t,1),s.setProperty(l,e).then(function(){var e=r.indexById(i,r.data.allViews);r.data.allViews.splice(e,1),angular.copy({name:"Untitled",columns:[]},r.data.currentView),n.resolve(r.data.allViews)})}),n.promise},this.indexById=function(n,e){var r=-1;return e.forEach(function(e,t){n==e.id&&(r=t)}),r},this.findById=function(e,t){e=this.indexById(e,t);return-1!=e?t[e]:null},this.resetState=function(){this.data.allViews.splice(0,this.data.allViews.length)}}]),{}),hljs=(SearchUtils.getJson=function(e){return e=angular.isString(e)?""!=e?JSON.parse(e):{}:e},SearchUtils.normalizeObject=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++)null!=e[n[r]]&&(!t||""!=e[n[r]]&&e[n[r]]!=[])||delete e[n[r]];return e},SearchUtils.getLicenseManager=function(e,t){var n="";return"expired"==e.license?n="LICENSE EXPIRED":"none"==e.license?n="NO LICENSE":"active"!=e.license&&(n="LICENSE ERROR"),{isActive:"active"==e.license,message:t.trustAsHtml(n=""!=n?'<span class="red">'+n+"</span>":n)}},angular.module("angular-i18n",["ng"]).provider("$i18n",[function(){return{_fileURL:"/i18n/|LANG|.json",_fileURLLanguageToken:/\|LANG\|/,_fileURLPartToken:/\|PART\|/,_allowPartialFileLoading:!1,_useBaseHrefTag:!1,_baseHref:"",_defaultLanguage:"en-US",_language:null,_fallback:null,_debug:!1,_onTranslationFailed:null,get allowPartialFileLoading(){return this._allowPartialFileLoading},set allowPartialFileLoading(e){return this._allowPartialFileLoading=e,this},get baseHref(){return this._baseHref},get debug(){return this._debug},set debug(e){return this._debug=e,this},get defaultLanguage(){return this._defaultLanguage},set defaultLanguage(e){return this._defaultLanguage=e,this},get fallback(){return this._fallback},set fallback(e){return this._fallback=e,this},get fileURL(){return this._fileURL},set fileURL(e){return this._fileURL=e,this},get fileURLLanguageToken(){return this._fileURLLanguageToken},set fileURLLanguageToken(e){return this._fileURLLanguageToken=e,this},get fileURLPartToken(){return this._fileURLPartToken},set fileURLPartToken(e){return this._fileURLPartToken=e,this},get language(){return this._language},set language(e){return this._language=e,this},get onTranslationFailed(){return this._onTranslationFailed},set onTranslationFailed(e){if(null===e||e&&"[object Function]"=={}.toString.call(e))return this._onTranslationFailed=e,this;throw new TypeError("the argument func of displayUntranslated(func) must be a function")},get useBaseHrefTag(){return this._useBaseHrefTag},set useBaseHrefTag(e){return this._useBaseHrefTag=e,this._useBaseHrefTag?0<(e=document.getElementsByTagName("base")).length&&(this._baseHref=e[0].href):this._baseHref="",this},$get:["$http","$rootScope","$window","$q","$log",function(l,o,e,c,u){var d=this;return{_dictionary:{},_promises:{},get debug(){return d.debug},set debug(e){return d.debug=e,this},get language(){return d.language||e.navigator.userLanguage||e.navigator.language||d.defaultLanguage},set language(e){return d.language=e,this},get onTranslationFailed(){return d.onTranslationFailed},set onTranslationFailed(e){return d.onTranslationFailed=e,this},_checkSectionParameter:function(e){if(e=angular.isDefined(e)&&null!==e?e:"all",!angular.isString(e))throw new Error("section parameter must be of type string");if(d.allowPartialFileLoading||"all"===e)return e;throw new Error("Partial loading has been disabled by the provider.")},_getLanguageAndTranslate:function(e,t,n){return this._translate(e,this.language,t,n)},_translate:function(e,t,n,r){var i;if(null==e)return"";if(n=this._checkSectionParameter(n),r=r||[],this._dictionary&&this._dictionary[t]){if(this.isTranslationLoading(t,n))return null;if(!this.hasDictionary(t,n))throw new Error("The section you are trying to access does not exist");if(!this.isTranslationLoaded(t,n))throw new Error("The section you are trying to access does not exist");if(!this.hasTranslation(t,n,e))throw new Error("The translation for '"+e+"' in the section '"+n+"' for '"+t+"' does not exist");i=this._dictionary[t].sections[n].translation?this._dictionary[t].sections[n].translation[e]:null}else d.fallback&&"object"==typeof d.fallback&&d.fallback[e]&&(i=d.fallback[e]);return i=null===i?vsprintf(e,r):vsprintf(i,r)},hasDictionary:function(e,t){return this.isTranslationLoaded(e,t)},hasTranslation:function(e,t,n){return this.isTranslationLoaded(e,t)&&null!==this._dictionary[e].sections[t].translation&&(angular.isDefined(n)?void 0!==this._dictionary[e].sections[t].translation[n]:null!==this._dictionary[e].sections[t].translation)},isTranslationLoading:function(e,t){return this._dictionary[e]&&this._dictionary[e].sections[t]&&!0===this._dictionary[e].sections[t].loading},isTranslationLoaded:function(e,t){return this._dictionary[e]&&this._dictionary[e].sections[t]&&!0===this._dictionary[e].sections[t].loaded},addTranslation:function(e,t,n){if(!d.allowPartialFileLoading&&"all"!==n)throw new Error("Partial loading has been disabled by the provider.");this._dictionary[e]||(this._dictionary[e]={sections:{}}),this._promises[e]||(this._promises[e]={sections:{}}),this._loadTranslationFileSucceed(t,e,n)},removeTranslation:function(e,t){if(t=angular.isDefined(t)&&null!==t?t:"all",d.allowPartialFileLoading){if(!this.isTranslationLoaded(e,t))return}else if("all"!==t)throw new Error("removeTranslation: You cannot pass a section when not allowing partial file loading with allowPartialFileLoading()");delete this._dictionary[e].sections[t]},switchTranslation:function(e,t){t=angular.isDefined(t)&&null!==t?t:"all",this.language=e,this.loadTranslation(e,t)},loadTranslation:function(e,t){var a,n,o,s=this;if(t=this._checkSectionParameter(t),!this._dictionary[e]||!this._dictionary[e].sections[t]||!0!==this._dictionary[e].sections[t].loading&&!0!==this._dictionary[e].sections[t].loaded)return this._dictionary[e]||(this._dictionary[e]={sections:{}}),this._dictionary[e].sections[t]={loaded:!1,loading:!0,translation:null},this._promises[e]||(this._promises[e]={sections:{}}),this._promises[e].sections[t]||(this._promises[e].sections[t]={}),a=c.defer(),(n=a.promise).success=function(e){return n.then(e),n},n.error=function(e){return n.then(null,e),n},(o=function(n,r,i){var e=angular.isArray(d._fileURL)?(i=angular.isDefined(i)?i:0,d._fileURL[i]):d._fileURL;if(e=e.replace(d._fileURLLanguageToken,n.replace("-","_")),d._allowPartialFileLoading){if(!d._fileURLPartToken.test(e))throw new Error("The file URL hasn't defined a token for partial loading");e=e.replace(d._fileURLPartToken,r)}return e=d.baseHref+e,l({method:"GET",url:e,cache:!1}).then(function(e){a.resolve(),s._loadTranslationFileSucceed(e.data,n,r)},function(){if(angular.isNumber(i)&&i++,"string"==typeof d._fileURL||i===d._fileURL.length){s._dictionary[n].sections[r].loaded=!0,s._dictionary[n].sections[r].loading=!1,s._dictionary[n].sections[r].translation=null,a.reject("Could not reach any of the provided URL's");var e,t=angular.isArray(d._fileURL)?d._fileURL.join(", "):d._fileURL;for(e in s._promises[n].sections[r])s._promises[n].sections[r].hasOwnProperty(e)&&(s._promises[n].sections[r][e].deferrer.reject("Could not load translation files from "+t),delete s._promises[n].sections[r][e])}else o(n,r,i)})})(e,t),n},_loadTranslationFileSucceed:function(e,t,n){var r,i=this;if(n=this._checkSectionParameter(n),i._dictionary[t].sections[n]={loading:!1,loaded:!0,translation:e},i._promises[t]&&i._promises[t].sections[n])for(var a in i._promises[t].sections[n])if(i._promises[t].sections[n].hasOwnProperty(a)){try{r=i._translate.apply(i,i._promises[t].sections[n][a].arguments),i._promises[t].sections[n][a].deferrer.resolve(r)}catch(e){i._promises[t].sections[n][a].deferrer.reject(e.message),u.error(e)}delete i._promises[t].sections[n][a]}o.$broadcast("i18n.file.loaded",t,n,e)},translate:function(e,t,n){function r(e,t,n,r,i){i=void 0!==i&&i;var a,o=null;return s._promises[t]&&s._promises[t].sections[n]&&s._promises[t].sections[n][e]?s._promises[t].sections[n][e].deferrer:(a=c.defer(),(o=a.promise).success=function(e){return o.then(e),o},o.error=function(e){return o.then(null,e),o},i||(s._promises[t].sections[n][e]={arguments:arguments,deferrer:a}),a)}var i,s=this,a=(t=this._checkSectionParameter(t),s.language),o=null;Array.prototype.slice.call(arguments).splice(1,0,a);if(""===e)return(i=r(e,a,t,n,!0)).reject("No translation IDs were provided"),i.promise;if(this._dictionary[a]&&this._dictionary[a].sections[t]&&(this._dictionary[a].sections[t].loading||this._dictionary[a].sections[t].loaded)||this.loadTranslation(a,t),this._dictionary[a].sections[t].loading)return r(e,a,t,n).promise;if(this._dictionary[a]&&!this._dictionary[a].sections[t].loading&&this._dictionary[a].sections[t].loaded){var l,o=r(e,a,t,n,!0);if(null===this._dictionary[a].sections[t].translation||"object"!=typeof this._dictionary[a].sections[t].translation)o.reject("The translation file doesn't exist");else try{l=s._translate(e,a,t,n),o.resolve(l)}catch(e){o.reject(e.message),u.error(e)}return o.promise}}}}]}}]).filter("i18n",["$i18n","$sce","$compile","$log",function(i,a,e,o){function t(t,n){if(t&&!angular.isString(t))throw new Error("i18n filter error: The translation id must be a string");if(n=n||{},angular.isDefined(n)){if(angular.isDefined(n.section)&&!angular.isString(n.section))throw new Error("i18n filter error: The section id must be a string");if(angular.isDefined(n.placeholders)&&"[object Array]"!==Object.prototype.toString.call(n.placeholders))throw new Error("i18n filter error: The placeholders must be an array")}i.loadTranslation(i.language,n.section,n.placeholders);try{var r=i._getLanguageAndTranslate.call(i,t,n.section,n.placeholders)}catch(e){if(!i.debug||!i.onTranslationFailed)throw e;r=a.trustAsHtml(i.onTranslationFailed(i.language,t,n.section,n.placeholders)),o.error(e)}return r}return t.$stateful=!0,t}]).directive("i18n",["$i18n","$compile","$log",function(i,a,o){return{scope:{i18n:"=",i18nParameters:"=?"},priority:0,restrict:"A",link:function(n,r,e){n.i18nParameters=angular.extend({},n.i18nParameters),i.translate(n.i18n,n.i18nParameters.section,n.i18nParameters.placeholders).success(function(e){r.text(e)}).error(function(e){if(!i.debug||!i.onTranslationFailed)throw new Error(e);var t=i.onTranslationFailed(i.language,n.i18n,n.i18nParameters.section,n.i18nParameters.placeholders);r.html(t),a(t,n),o.error(e)})}}}]),(e=>{var p={not_string:/[^s]/,number:/[dief]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fiosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function m(){var e=arguments[0],t=m.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=m.parse(e)),m.format.call(null,t[e],arguments)}function t(e,t,n){return(n=(t||[]).slice(0)).splice(0,0,e),m.apply(null,n)}function g(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}m.format=function(e,t){for(var n,r,i,a,o,s,l=1,c=e.length,u=[],d=!0,f="",h=0;h<c;h++)if("string"===(a=g(e[h])))u[u.length]=e[h];else if("array"===a){if((i=e[h])[2])for(n=t[l],r=0;r<i[2].length;r++){if(!n.hasOwnProperty(i[2][r]))throw new Error(m("[sprintf] property '%s' does not exist",i[2][r]));n=n[i[2][r]]}else n=i[1]?t[i[1]]:t[l++];if("function"==g(n)&&(n=n()),p.not_string.test(i[8])&&"number"!=g(n)&&isNaN(n))throw new TypeError(m("[sprintf] expecting number but found %s",g(n)));switch(p.number.test(i[8])&&(d=0<=n),i[8]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":case"i":n=parseInt(n,10);break;case"e":n=i[7]?n.toExponential(i[7]):n.toExponential();break;case"f":n=i[7]?parseFloat(n).toFixed(i[7]):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&i[7]?n.substring(0,i[7]):n;break;case"u":n>>>=0;break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase()}!p.number.test(i[8])||d&&!i[3]?f="":(f=d?"+":"-",n=n.toString().replace(p.sign,"")),a=i[4]?"0"===i[4]?"0":i[4].charAt(1):" ",o=i[6]-(f+n).length,o=i[6]&&0<o?(s=a,Array(o+1).join(s)):"",u[u.length]=i[5]?f+n+o:"0"===a?f+o+n:o+f+n}return u.join("")},m.cache={},m.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=p.text.exec(t)))r[r.length]=n[0];else if(null!==(n=p.modulo.exec(t)))r[r.length]="%";else{if(null===(n=p.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){i|=1;var a=[],o=n[2],s=[];if(null===(s=p.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=s[1];""!==(o=o.substring(s[0].length));){if(null===(s=p.key_access.exec(o))&&null===(s=p.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=s[1]}n[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=n}t=t.substring(n[0].length)}return r},"undefined"!=typeof exports?(exports.sprintf=m,exports.vsprintf=t):(e.sprintf=m,e.vsprintf=t,"function"==typeof define&&define.amd&&define(function(){return{sprintf:m,vsprintf:t}}))})("undefined"==typeof window?this:window),((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()})(this,function(){var P;function d(){return P.apply(null,arguments)}function I(e){return"[object Array]"===Object.prototype.toString.call(e)}function B(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e,t){for(var n in t)f(t,n)&&(e[n]=t[n]);return f(t,"toString")&&(e.toString=t.toString),f(t,"valueOf")&&(e.valueOf=t.valueOf),e}function H(e,t,n,r){return Re(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),e._pf}function F(e){var t;return null==e._isValid&&(t=h(e),e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict)&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),e._isValid}function j(e){var t=H(NaN);return null!=e?W(h(t),e):h(t).userInvalidated=!0,t}var R=d.momentProperties=[];function U(e,t){var n,r,i;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=h(t)),void 0!==t._locale&&(e._locale=t._locale),0<R.length)for(n in R)void 0!==(i=t[r=R[n]])&&(e[r]=i);return e}var Y=!1;function q(e){U(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===Y&&(Y=!0,d.updateOffset(this),Y=!1)}function p(e){return e instanceof q||null!=e&&null!=e._isAMomentObject}function s(e){return e<0?Math.ceil(e):Math.floor(e)}function l(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?s(e):t}function G(e,t,n){for(var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&l(e[o])!==l(t[o]))&&a++;return a+i}function V(){}var K,n={};function X(e){return e&&e.toLowerCase().replace("_","-")}function J(e){var t;if(!n[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=K._abbr,require("./locale/"+e),Z(t)}catch(e){}return n[e]}function Z(e,t){return(K=e&&(e=void 0===t?m(e):Q(e,t))?e:K)._abbr}function Q(e,t){return null!==t?(t.abbr=e,n[e]=n[e]||new V,n[e].set(t),Z(e),n[e]):(delete n[e],null)}function m(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return K;if(!I(e)){if(t=J(e))return t;e=[e]}for(var n,r,i,a,o=e,s=0;s<o.length;){for(n=(a=X(o[s]).split("-")).length,r=(r=X(o[s+1]))?r.split("-"):null;0<n;){if(i=J(a.slice(0,n).join("-")))return i;if(r&&r.length>=n&&G(a,r,!0)>=n-1)break;n--}s++}return null}var ee={};function e(e,t){var n=e.toLowerCase();ee[n]=ee[n+"s"]=ee[t]=e}function a(e){return"string"==typeof e?ee[e]||ee[e.toLowerCase()]:void 0}function te(e){var t,n,r={};for(n in e)f(e,n)&&(t=a(n))&&(r[t]=e[n]);return r}function ne(t,n){return function(e){return null!=e?(ie(this,t,e),d.updateOffset(this,n),this):re(this,t)}}function re(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function ie(e,t,n){e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ae(e,t){if("object"==typeof e)for(var n in e)this.set(n,e[n]);else if("function"==typeof this[e=a(e)])return this[e](t);return this}function oe(e,t,n){var r=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-r.length)).toString().substr(1)+r}var se=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,le=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ce={},ue={};function r(e,t,n,r){var i="string"==typeof r?function(){return this[r]()}:r;e&&(ue[e]=i),t&&(ue[t[0]]=function(){return oe(i.apply(this,arguments),t[1],t[2])}),n&&(ue[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function de(e,t){return e.isValid()?(t=fe(t,e.localeData()),ce[t]=ce[t]||(n=>{for(var e,r=n.match(se),i=0,a=r.length;i<a;i++)ue[r[i]]?r[i]=ue[r[i]]:r[i]=(e=r[i]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){var t="";for(i=0;i<a;i++)t+=r[i]instanceof Function?r[i].call(e,n):r[i];return t}})(t),ce[t](e)):e.localeData().invalidDate()}function fe(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(le.lastIndex=0;0<=n&&le.test(e);)e=e.replace(le,r),le.lastIndex=0,--n;return e}var he=/\d/,t=/\d\d/,i=/\d{3}/,o=/\d{4}/,c=/[+-]?\d{6}/,u=/\d\d?/,pe=/\d{1,3}/,g=/\d{1,4}/,v=/[+-]?\d{1,6}/,me=/\d+/,ge=/[+-]?\d+/,ve=/Z|[+-]\d\d:?\d\d/gi,b=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,be={};function y(e,t,n){be[e]="function"==typeof(e=t)&&"[object Function]"===Object.prototype.toString.call(e)?t:function(e){return e&&n?n:t}}var ye={};function A(e,n){var t,r=n;for("string"==typeof e&&(e=[e]),"number"==typeof n&&(r=function(e,t){t[n]=l(e)}),t=0;t<e.length;t++)ye[e[t]]=r}function Ae(e,i){A(e,function(e,t,n,r){n._w=n._w||{},i(e,n._w,n,r)})}var w=0,C=1,x=2,T=3,k=4,M=5,S=6;function we(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}r("M",["MM",2],"Mo",function(){return this.month()+1}),r("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),r("MMMM",0,0,function(e){return this.localeData().months(this,e)}),e("month","M"),y("M",u),y("MM",u,t),y("MMM",b),y("MMMM",b),A(["M","MM"],function(e,t){t[C]=l(e)-1}),A(["MMM","MMMM"],function(e,t,n,r){r=n._locale.monthsParse(e,r,n._strict);null!=r?t[C]=r:h(n).invalidMonth=e});var Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var xe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Te(e,t){var n;"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))||(n=Math.min(e.date(),we(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n))}function ke(e){return null!=e?(Te(this,e),d.updateOffset(this,!0),this):re(this,"Month")}function Me(e){var t=e._a;return t&&-2===h(e).overflow&&(t=t[C]<0||11<t[C]?C:t[x]<1||t[x]>we(t[w],t[C])?x:t[T]<0||24<t[T]||24===t[T]&&(0!==t[k]||0!==t[M]||0!==t[S])?T:t[k]<0||59<t[k]?k:t[M]<0||59<t[M]?M:t[S]<0||999<t[S]?S:-1,h(e)._overflowDayOfYear&&(t<w||x<t)&&(t=x),h(e).overflow=t),e}function Se(e){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,t){var n=!0;return W(function(){return n&&(Se(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}var _e={};d.suppressDeprecationWarnings=!1;var Ee=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Le=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Oe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],De=/^\/?Date\((\-?\d+)/i;function ze(e){var t,n,r=e._i,i=Ee.exec(r);if(i){for(h(e).iso=!0,t=0,n=Le.length;t<n;t++)if(Le[t][1].exec(r)){e._f=Le[t][0];break}for(t=0,n=Oe.length;t<n;t++)if(Oe[t][1].exec(r)){e._f+=(i[6]||" ")+Oe[t][0];break}r.match(ve)&&(e._f+="Z"),Fe(e)}else e._isValid=!1}function $e(e,t,n,r,i,a,o){t=new Date(e,t,n,r,i,a,o);return e<1970&&t.setFullYear(e),t}function Ne(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function Pe(e){return Ie(e)?366:365}function Ie(e){return e%4==0&&e%100!=0||e%400==0}d.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),r(0,["YY",2],0,function(){return this.year()%100}),r(0,["YYYY",4],0,"year"),r(0,["YYYYY",5],0,"year"),r(0,["YYYYYY",6,!0],0,"year"),e("year","y"),y("Y",ge),y("YY",u,t),y("YYYY",g,o),y("YYYYY",v,c),y("YYYYYY",v,c),A(["YYYYY","YYYYYY"],w),A("YYYY",function(e,t){t[w]=2===e.length?d.parseTwoDigitYear(e):l(e)}),A("YY",function(e,t){t[w]=d.parseTwoDigitYear(e)});var Be=ne("FullYear",!(d.parseTwoDigitYear=function(e){return l(e)+(68<l(e)?1900:2e3)}));function E(e,t,n){var t=n-t,n=n-e.day();return t<n&&(n-=7),n<t-7&&(n+=7),t=L(e).add(n,"d"),{week:Math.ceil(t.dayOfYear()/7),year:t.year()}}r("w",["ww",2],"wo","week"),r("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),y("w",u),y("ww",u,t),y("W",u),y("WW",u,t),Ae(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=l(e)});function We(e,t,n){return null!=e?e:null!=t?t:n}function He(e){var t,n,r,i,a,o,s,l,c,u=[];if(!e._d){for(r=e,c=new Date,n=r._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],e._w&&null==e._a[x]&&null==e._a[C]&&(null!=(c=(r=e)._w).GG||null!=c.W||null!=c.E?(s=1,l=4,i=We(c.GG,r._a[w],E(L(),1,4).year),a=We(c.W,1),o=We(c.E,1)):(s=r._locale._week.dow,l=r._locale._week.doy,i=We(c.gg,r._a[w],E(L(),s,l).year),a=We(c.w,1),null!=c.d?(o=c.d)<s&&++a:o=null!=c.e?c.e+s:s),c=((e,t,n,r,i)=>{var a=Ne(e,0,1+(r=6+i-r)).getUTCDay();return a<i&&(a+=7),{year:0<(r=1+r+7*(t-1)-a+(n=null!=n?+n:i))?e:e-1,dayOfYear:0<r?r:Pe(e-1)+r}})(i,a,o,l,s),r._a[w]=c.year,r._dayOfYear=c.dayOfYear),e._dayOfYear&&(i=We(e._a[w],n[w]),e._dayOfYear>Pe(i)&&(h(e)._overflowDayOfYear=!0),a=Ne(i,0,e._dayOfYear),e._a[C]=a.getUTCMonth(),e._a[x]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=u[t]=n[t];for(;t<7;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[T]&&0===e._a[k]&&0===e._a[M]&&0===e._a[S]&&(e._nextDay=!0,e._a[T]=0),e._d=(e._useUTC?Ne:$e).apply(null,u),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[T]=24)}}function Fe(e){if(e._f===d.ISO_8601)ze(e);else{e._a=[],h(e).empty=!0;for(var t,n,r,i,a,o=""+e._i,s=o.length,l=0,c=fe(e._f,e._locale).match(se)||[],u=0;u<c.length;u++)t=c[u],(a=(o.match((a=e,f(be,i=t)?be[i](a._strict,a._locale):new RegExp(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))))||[])[0])&&(0<(i=o.substr(0,o.indexOf(a))).length&&h(e).unusedInput.push(i),o=o.slice(o.indexOf(a)+a.length),l+=a.length),ue[t]?(a?h(e).empty=!1:h(e).unusedTokens.push(t),i=t,r=e,null!=(n=a)&&f(ye,i)&&ye[i](n,r._a,r,i)):e._strict&&!a&&h(e).unusedTokens.push(t);h(e).charsLeftOver=s-l,0<o.length&&h(e).unusedInput.push(o),!0===h(e).bigHour&&e._a[T]<=12&&0<e._a[T]&&(h(e).bigHour=void 0),e._a[T]=((e,t,n)=>null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t)(e._locale,e._a[T],e._meridiem),He(e),Me(e)}}function je(e){var t,n,r=e._i,i=e._f;if(e._locale=e._locale||m(e._l),null===r||void 0===i&&""===r)return j({nullInput:!0});if("string"==typeof r&&(e._i=r=e._locale.preparse(r)),p(r))return new q(Me(r));if(I(i)){var a,o,s,l,c,u=e;if(0===u._f.length)h(u).invalidFormat=!0,u._d=new Date(NaN);else{for(l=0;l<u._f.length;l++)c=0,a=U({},u),null!=u._useUTC&&(a._useUTC=u._useUTC),a._f=u._f[l],Fe(a),F(a)&&(c=(c+=h(a).charsLeftOver)+10*h(a).unusedTokens.length,h(a).score=c,null==s||c<s)&&(s=c,o=a);W(u,o||a)}}else if(i)Fe(e);else if(B(r))e._d=r;else if(void 0===(r=(i=e)._i))i._d=new Date;else B(r)?i._d=new Date(+r):"string"==typeof r?(n=i,null!==(t=De.exec(n._i))?n._d=new Date(+t[1]):(ze(n),!1===n._isValid&&(delete n._isValid,d.createFromInputFallback(n)))):I(r)?(i._a=((e,t)=>{for(var n=[],r=0;r<e.length;++r)n.push(t(e[r],r));return n})(r.slice(0),function(e){return parseInt(e,10)}),He(i)):"object"==typeof r?(t=i)._d||(n=te(t._i),t._a=[n.year,n.month,n.day||n.date,n.hour,n.minute,n.second,n.millisecond],He(t)):"number"==typeof r?i._d=new Date(r):d.createFromInputFallback(i);return e}function Re(e,t,n,r,i){var a={};return"boolean"==typeof n&&(r=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,(i=new q(Me(je(i=a))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function L(e,t,n,r){return Re(e,t,n,r,!1)}r("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),y("DDD",pe),y("DDDD",i),A(["DDD","DDDD"],function(e,t,n){n._dayOfYear=l(e)}),d.ISO_8601=function(){};var Ue=_("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=L.apply(null,arguments);return e<this?this:e}),Ye=_("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=L.apply(null,arguments);return this<e?this:e});function qe(e,t){var n,r;if(!(t=1===t.length&&I(t[0])?t[0]:t).length)return L();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Ge(e){var e=te(e),t=e.year||0,n=e.quarter||0,r=e.month||0,i=e.week||0,a=e.day||0;this._milliseconds=+(e.millisecond||0)+1e3*(e.second||0)+6e4*(e.minute||0)+36e5*(e.hour||0),this._days=+a+7*i,this._months=+r+3*n+12*t,this._data={},this._locale=m(),this._bubble()}function Ve(e){return e instanceof Ge}function Ke(e,n){r(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+oe(~~(e/60),2)+n+oe(~~e%60,2)})}Ke("Z",":"),Ke("ZZ",""),y("Z",ve),y("ZZ",ve),A(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Je(e)});var Xe=/([\+\-]|\d\d)/gi;function Je(e){var e=(e||"").match(ve)||[],e=((e[e.length-1]||[])+"").match(Xe)||["-",0,0],t=60*e[1]+l(e[2]);return"+"===e[0]?t:-t}function Ze(e,t){var n;return t._isUTC?(t=t.clone(),n=(p(e)||B(e)?+e:+L(e))-+t,t._d.setTime(+t._d+n),d.updateOffset(t,!1),t):L(e).local()}function Qe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function et(){return this._isUTC&&0===this._offset}d.updateOffset=function(){};var tt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,nt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function O(e,t){var n,r=e;return Ve(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(t=tt.exec(e))?(n="-"===t[1]?-1:1,r={y:0,d:l(t[x])*n,h:l(t[T])*n,m:l(t[k])*n,s:l(t[M])*n,ms:l(t[S])*n}):(t=nt.exec(e))?(n="-"===t[1]?-1:1,r={y:rt(t[2],n),M:rt(t[3],n),d:rt(t[4],n),h:rt(t[5],n),m:rt(t[6],n),s:rt(t[7],n),w:rt(t[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(t=((e,t)=>{var n;return t=Ze(t,e),e.isBefore(t)?n=it(e,t):((n=it(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n})(L(r.from),L(r.to)),(r={}).ms=t.milliseconds,r.M=t.months),n=new Ge(r),Ve(e)&&f(e,"_locale")&&(n._locale=e._locale),n}function rt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function it(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function at(i,a){return function(e,t){var n,r;return null===t||isNaN(+t)||(r="moment()."+(n=a)+"(period, number) is deprecated. Please use moment()."+a+"(number, period).",_e[n]||(Se(r),_e[n]=!0),r=e,e=t,t=r),ot(this,O(e="string"==typeof e?+e:e,t),i),this}}function ot(e,t,n,r){var i=t._milliseconds,a=t._days,t=t._months;r=null==r||r,i&&e._d.setTime(+e._d+i*n),a&&ie(e,"Date",re(e,"Date")+a*n),t&&Te(e,re(e,"Month")+t*n),r&&d.updateOffset(e,a||t)}O.fn=Ge.prototype;var st=at(1,"add"),lt=at(-1,"subtract");function ct(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():de(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):de(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ut(e){return void 0===e?this._locale._abbr:(null!=(e=m(e))&&(this._locale=e),this)}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var dt=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function ft(){return this._locale}function ht(e,t){r(0,[e,e.length],0,t)}function pt(e,t,n){return E(L([e,11,31+t-n]),t,n).week}r(0,["gg",2],0,function(){return this.weekYear()%100}),r(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ht("gggg","weekYear"),ht("ggggg","weekYear"),ht("GGGG","isoWeekYear"),ht("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),y("G",ge),y("g",ge),y("GG",u,t),y("gg",u,t),y("GGGG",g,o),y("gggg",g,o),y("GGGGG",v,c),y("ggggg",v,c),Ae(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=l(e)}),Ae(["gg","GG"],function(e,t,n,r){t[r]=d.parseTwoDigitYear(e)}),r("Q",0,0,"quarter"),e("quarter","Q"),y("Q",he),A("Q",function(e,t){t[C]=3*(l(e)-1)}),r("D",["DD",2],"Do","date"),e("date","D"),y("D",u),y("DD",u,t),y("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),A(["D","DD"],x),A("Do",function(e,t){t[x]=l(e.match(u)[0])});g=ne("Date",!0);r("d",0,"do","day"),r("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),r("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),r("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),r("e",0,0,"weekday"),r("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),y("d",u),y("e",u),y("E",u),y("dd",b),y("ddd",b),y("dddd",b),Ae(["dd","ddd","dddd"],function(e,t,n){var r=n._locale.weekdaysParse(e);null!=r?t.d=r:h(n).invalidWeekday=e}),Ae(["d","e","E"],function(e,t,n,r){t[r]=l(e)});o="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");v="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");c="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function mt(e,t){r(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function gt(e,t){return t._meridiemParse}r("H",["HH",2],0,"hour"),r("h",["hh",2],0,function(){return this.hours()%12||12}),mt("a",!0),mt("A",!1),e("hour","h"),y("a",gt),y("A",gt),y("H",u),y("h",u),y("HH",u,t),y("hh",u,t),A(["H","HH"],T),A(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),A(["h","hh"],function(e,t,n){t[T]=l(e),h(n).bigHour=!0});var D,b=ne("Hours",!0),vt=(r("m",["mm",2],0,"minute"),e("minute","m"),y("m",u),y("mm",u,t),A(["m","mm"],k),ne("Minutes",!1)),bt=(r("s",["ss",2],0,"second"),e("second","s"),y("s",u),y("ss",u,t),A(["s","ss"],M),ne("Seconds",!1));for(r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),y("S",pe,he),y("SS",pe,t),y("SSS",pe,i),D="SSSS";D.length<=9;D+="S")y(D,me);function yt(e,t){t[S]=l(1e3*("0."+e))}for(D="S";D.length<=9;D+="S")A(D,yt);he=ne("Milliseconds",!1);r("z",0,0,"zoneAbbr"),r("zz",0,0,"zoneName");t=q.prototype,t.add=st,t.calendar=function(e,t){var n=Ze(e=e||L(),this).startOf("day"),n=(n=this.diff(n,"days",!0))<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(t&&t[n]||this.localeData().calendar(n,this,L(e)))},t.clone=function(){return new q(this)},t.diff=function(e,t,n){var r,i=6e4*((e=Ze(e,this)).utcOffset()-this.utcOffset());return"year"===(t=a(t))||"month"===t||"quarter"===t?(r=((e,t)=>{var n,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return e=t-i<0?(n=e.clone().add(r-1,"months"),(t-i)/(i-n)):(n=e.clone().add(1+r,"months"),(t-i)/(n-i)),-(r+e)})(this,e),"quarter"===t?r/=3:"year"===t&&(r/=12)):(e=this-e,r="second"===t?e/1e3:"minute"===t?e/6e4:"hour"===t?e/36e5:"day"===t?(e-i)/864e5:"week"===t?(e-i)/6048e5:e),n?r:s(r)},t.endOf=function(e){return void 0===(e=a(e))||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},t.format=function(e){return e=de(this,e||d.defaultFormat),this.localeData().postformat(e)},t.from=function(e,t){return this.isValid()?O({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},t.fromNow=function(e){return this.from(L(),e)},t.to=function(e,t){return this.isValid()?O({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},t.toNow=function(e){return this.to(L(),e)},t.get=ae,t.invalidAt=function(){return h(this).overflow},t.isAfter=function(e,t){return"millisecond"===(t=a(void 0!==t?t:"millisecond"))?+(e=p(e)?e:L(e))<+this:(p(e)?+e:+L(e))<+this.clone().startOf(t)},t.isBefore=function(e,t){return"millisecond"===(t=a(void 0!==t?t:"millisecond"))?+this<+(e=p(e)?e:L(e)):(e=p(e)?+e:+L(e),+this.clone().endOf(t)<e)},t.isBetween=function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},t.isSame=function(e,t){return"millisecond"===(t=a(t||"millisecond"))?+this==+(e=p(e)?e:L(e)):(e=+L(e),+this.clone().startOf(t)<=e&&e<=+this.clone().endOf(t))},t.isValid=function(){return F(this)},t.lang=dt,t.locale=ut,t.localeData=ft,t.max=Ye,t.min=Ue,t.parsingFlags=function(){return W({},h(this))},t.set=ae,t.startOf=function(e){switch(e=a(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},t.subtract=lt,t.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},t.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},t.toDate=function(){return this._offset?new Date(+this):this._d},t.toISOString=ct,t.toJSON=ct,t.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},t.unix=function(){return Math.floor(+this/1e3)},t.valueOf=function(){return+this._d-6e4*(this._offset||0)},t.year=Be,t.isLeapYear=function(){return Ie(this.year())},t.weekYear=function(e){var t=E(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},t.isoWeekYear=function(e){var t=E(this,1,4).year;return null==e?t:this.add(e-t,"y")},t.quarter=t.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},t.month=ke,t.daysInMonth=function(){return we(this.year(),this.month())},t.week=t.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},t.isoWeek=t.isoWeeks=function(e){var t=E(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},t.weeksInYear=function(){var e=this.localeData()._week;return pt(this.year(),e.dow,e.doy)},t.isoWeeksInYear=function(){return pt(this.year(),1,4)},t.date=g,t.day=t.days=function(e){var t,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-r,"d")):r},t.weekday=function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},t.isoWeekday=function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},t.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},t.hour=t.hours=b,t.minute=t.minutes=vt,t.second=t.seconds=bt,t.millisecond=t.milliseconds=he,t.utcOffset=function(e,t){var n,r=this._offset||0;return null!=e?("string"==typeof e&&(e=Je(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(n=Qe(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?ot(this,O(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Qe(this)},t.utc=function(e){return this.utcOffset(0,e)},t.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e)&&this.subtract(Qe(this),"m"),this},t.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Je(this._i)),this},t.hasAlignedHourOffset=function(e){return e=e?L(e).utcOffset():0,(this.utcOffset()-e)%60==0},t.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},t.isDSTShifted=function(){var e,t;return void 0===this._isDSTShifted&&(U(e={},this),(e=je(e))._a?(t=(e._isUTC?H:L)(e._a),this._isDSTShifted=this.isValid()&&0<G(e._a,t.toArray())):this._isDSTShifted=!1),this._isDSTShifted},t.isLocal=function(){return!this._isUTC},t.isUtcOffset=function(){return this._isUTC},t.isUtc=et,t.isUTC=et,t.zoneAbbr=function(){return this._isUTC?"UTC":""},t.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},t.dates=_("dates accessor is deprecated. Use date instead.",g),t.months=_("months accessor is deprecated. Use month instead",ke),t.years=_("years accessor is deprecated. Use year instead",Be),t.zone=_("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),pe=t;function At(e){return e}i=V.prototype;function wt(e,t,n,r){var i=m(),r=H().set(r,t);return i[n](r,e)}function Ct(e,t,n,r,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return wt(e,t,n,i);for(var a=[],o=0;o<r;o++)a[o]=wt(e,o,n,i);return a}i._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},i.calendar=function(e,t,n){return"function"==typeof(e=this._calendar[e])?e.call(t,n):e},i._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},i._invalidDate="Invalid date",i.invalidDate=function(){return this._invalidDate},i._ordinal="%d",i.ordinal=function(e){return this._ordinal.replace("%d",e)},i._ordinalParse=/\d{1,2}/,i.preparse=At,i.postformat=At,i._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},i.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},i.pastFuture=function(e,t){return"function"==typeof(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},i.set=function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},i.months=function(e){return this._months[e.month()]},i._months=Ce,i.monthsShort=function(e){return this._monthsShort[e.month()]},i._monthsShort=xe,i.monthsParse=function(e,t,n){var r,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=H([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},i.week=function(e){return E(e,this._week.dow,this._week.doy).week},i._week={dow:0,doy:6},i.firstDayOfYear=function(){return this._week.doy},i.firstDayOfWeek=function(){return this._week.dow},i.weekdays=function(e){return this._weekdays[e.day()]},i._weekdays=o,i.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},i._weekdaysMin=c,i.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},i._weekdaysShort=v,i.weekdaysParse=function(e){var t,n;for(this._weekdaysParse=this._weekdaysParse||[],t=0;t<7;t++)if(this._weekdaysParse[t]||(n=L([2e3,1]).day(t),n="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},i.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},i._meridiemParse=/[ap]\.?m?\.?/i,i.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},Z("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===l(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),d.lang=_("moment.lang is deprecated. Use moment.locale instead.",Z),d.langData=_("moment.langData is deprecated. Use moment.localeData instead.",m);var z=Math.abs;function xt(e,t,n,r){t=O(t,n);return e._milliseconds+=r*t._milliseconds,e._days+=r*t._days,e._months+=r*t._months,e._bubble()}function Tt(e){return e<0?Math.floor(e):Math.ceil(e)}function kt(e){return 4800*e/146097}function Mt(e){return 146097*e/4800}function $(e){return function(){return this.as(e)}}st=$("ms"),Ye=$("s"),Ue=$("m"),lt=$("h"),b=$("d"),vt=$("w"),bt=$("M"),he=$("y");function St(e){return function(){return this._data[e]}}g=St("milliseconds"),Be=St("seconds"),t=St("minutes"),Ce=St("hours"),xe=St("days"),o=St("months"),c=St("years");var _t=Math.round,N={s:45,m:45,h:22,d:26,M:11};function Et(e,t,n){var r=O(e).abs(),i=_t(r.as("s")),a=_t(r.as("m")),o=_t(r.as("h")),s=_t(r.as("d")),l=_t(r.as("M")),r=_t(r.as("y")),i=(i<N.s?["s",i]:1===a&&["m"])||(a<N.m?["mm",a]:1===o&&["h"])||(o<N.h?["hh",o]:1===s&&["d"])||(s<N.d?["dd",s]:1===l&&["M"])||(l<N.M?["MM",l]:1===r&&["y"])||["yy",r];return i[2]=t,i[3]=0<+e,i[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,i)}var Lt=Math.abs;function Ot(){var e=Lt(this._milliseconds)/1e3,t=Lt(this._days),n=Lt(this._months),r=s(e/60),i=s(r/60),a=(e%=60,r%=60,s(n/12)),n=n%=12,o=this.asSeconds();return o?(o<0?"-":"")+"P"+(a?a+"Y":"")+(n?n+"M":"")+(t?t+"D":"")+(i||r||e?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(e?e+"S":""):"P0D"}v=Ge.prototype;return v.abs=function(){var e=this._data;return this._milliseconds=z(this._milliseconds),this._days=z(this._days),this._months=z(this._months),e.milliseconds=z(e.milliseconds),e.seconds=z(e.seconds),e.minutes=z(e.minutes),e.hours=z(e.hours),e.months=z(e.months),e.years=z(e.years),this},v.add=function(e,t){return xt(this,e,t,1)},v.subtract=function(e,t){return xt(this,e,t,-1)},v.as=function(e){var t,n,r=this._milliseconds;if("month"===(e=a(e))||"year"===e)return t=this._days+r/864e5,n=this._months+kt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Mt(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},v.asMilliseconds=st,v.asSeconds=Ye,v.asMinutes=Ue,v.asHours=lt,v.asDays=b,v.asWeeks=vt,v.asMonths=bt,v.asYears=he,v.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*l(this._months/12)},v._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*Tt(Mt(n)+t),n=t=0),r.milliseconds=e%1e3,e=s(e/1e3),r.seconds=e%60,e=s(e/60),r.minutes=e%60,e=s(e/60),r.hours=e%24,t+=s(e/24),n+=e=s(kt(t)),t-=Tt(Mt(e)),e=s(n/12),n%=12,r.days=t,r.months=n,r.years=e,this},v.get=function(e){return this[(e=a(e))+"s"]()},v.milliseconds=g,v.seconds=Be,v.minutes=t,v.hours=Ce,v.days=xe,v.weeks=function(){return s(this.days()/7)},v.months=o,v.years=c,v.humanize=function(e){var t=this.localeData(),n=Et(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},v.toISOString=Ot,v.toString=Ot,v.toJSON=Ot,v.locale=ut,v.localeData=ft,v.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ot),v.lang=dt,r("X",0,0,"unix"),r("x",0,0,"valueOf"),y("x",ge),y("X",/[+-]?\d+(\.\d{1,3})?/),A("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),A("x",function(e,t,n){n._d=new Date(l(e))}),d.version="2.10.6",P=L,d.fn=pe,d.min=function(){return qe("isBefore",[].slice.call(arguments,0))},d.max=function(){return qe("isAfter",[].slice.call(arguments,0))},d.utc=H,d.unix=function(e){return L(1e3*e)},d.months=function(e,t){return Ct(e,t,"months",12,"month")},d.isDate=B,d.locale=Z,d.invalid=j,d.duration=O,d.isMoment=p,d.weekdays=function(e,t){return Ct(e,t,"weekdays",7,"day")},d.parseZone=function(){return L.apply(null,arguments).parseZone()},d.localeData=m,d.isDuration=Ve,d.monthsShort=function(e,t){return Ct(e,t,"monthsShort",12,"month")},d.weekdaysMin=function(e,t){return Ct(e,t,"weekdaysMin",7,"day")},d.defineLocale=Q,d.weekdaysShort=function(e,t){return Ct(e,t,"weekdaysShort",7,"day")},d.normalizeUnits=a,d.relativeTimeThreshold=function(e,t){return void 0!==N[e]&&(void 0===t?N[e]:(N[e]=t,!0))},d}),((e,t)=>{"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof exports?module.exports=t(require("moment")):t(e.moment)})(this,function(i){var a,o,s,t,n,e,r;return void 0!==i.tz?w("Moment Timezone "+i.tz.version+" was already loaded "+(i.tz.dataVersion?"with data from ":"without any data")+i.tz.dataVersion):(a={},o={},s={},r=i.version.split("."),t=+r[0],n=+r[1],r=((t<2||2==t&&n<6)&&w("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+i.version+". See momentjs.com"),h.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},_index:function(e){for(var t=+e,n=this.untils,r=0;r<n.length;r++)if(t<n[r])return r},parse:function(e){for(var t,n,r,i=+e,a=this.offsets,o=this.untils,s=o.length-1,l=0;l<s;l++)if(t=a[l],n=a[l+1],r=a[l&&l-1],t<n&&C.moveAmbiguousForward?t=n:r<t&&C.moveInvalidForward&&(t=r),i<o[l]-6e4*t)return a[l];return a[s]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},C.version="0.4.1",C.dataVersion="",C._zones=a,C._links=o,C._names=s,C.add=m,C.link=v,C.load=b,C.zone=g,C.zoneExists=y,C.names=function(){var e,t=[];for(e in s)s.hasOwnProperty(e)&&(a[e]||a[o[e]])&&s[e]&&t.push(s[e]);return t.sort()},C.Zone=h,C.unpack=f,C.unpackBase60=c,C.needsOffset=A,C.moveInvalidForward=!0,C.moveAmbiguousForward=!1,i.fn),r=(i.tz=C,i.defaultZone=null,i.updateOffset=function(e,t){var n=i.defaultZone;void 0===e._z&&(n&&A(e)&&!e._isUTC&&(e._d=i.utc(e._a)._d,e.utc().add(n.parse(e),"minutes")),e._z=n),e._z&&(n=e._z.offset(e),Math.abs(n)<16&&(n/=60),void 0!==e.utcOffset?e.utcOffset(-n,t):e.zone(n,t))},r.tz=function(e){return e?(this._z=g(e),this._z?i.updateOffset(this):w("Moment Timezone has no data for "+e+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},r.zoneName=x(r.zoneName),r.zoneAbbr=x(r.zoneAbbr),r.utc=(e=r.utc,function(){return this._z=null,e.apply(this,arguments)}),i.tz.setDefault=function(e){return(t<2||2==t&&n<9)&&w("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+i.version+"."),i.defaultZone=e?g(e):null,i},i.momentProperties),"[object Array]"===Object.prototype.toString.call(r)?(r.push("_z"),r.push("_a")):r&&(r._z=null),b({version:"2015g",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Cayman|EST EDT|50 40|01010101010|1Qtj0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Merida|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT CLT|30 40 30|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Seoul|KST|-90|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST EAST|50 60 50|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Merida|America/Mexico_City","America/Merida|America/Monterrey","America/Merida|Mexico/General","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Samarkand|Asia/Tashkent","Asia/Seoul|ROK","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Chisinau|Europe/Tiraspol","Europe/Moscow|Europe/Volgograd","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]})),i;function l(e){return 96<e?e-87:64<e?e-29:e-48}function c(e){var t=0,n=e.split("."),r=n[0],i=n[1]||"",a=1,o=0,n=1;for(45===e.charCodeAt(0)&&(n=-(t=1));t<r.length;t++)o=60*o+l(r.charCodeAt(t));for(t=0;t<i.length;t++)a/=60,o+=l(i.charCodeAt(t))*a;return o*n}function u(e){for(var t=0;t<e.length;t++)e[t]=c(e[t])}function d(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=e[t[r]];return n}function f(e){for(var e=e.split("|"),t=e[2].split(" "),n=e[3].split(""),r=e[4].split(" "),i=(u(t),u(n),u(r),r),a=n.length,o=0;o<a;o++)i[o]=Math.round((i[o-1]||0)+6e4*i[o]);return i[a-1]=1/0,{name:e[0],abbrs:d(e[1].split(" "),n),offsets:d(t,n),untils:r}}function h(e){e&&this._set(f(e))}function p(e){return(e||"").toLowerCase().replace(/\//g,"_")}function m(e){var t,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)r=p(n=e[t].split("|")[0]),a[r]=e[t],s[r]=n}function g(e,t){e=p(e);var n=a[e];return n instanceof h?n:"string"==typeof n?(n=new h(n),a[e]=n):o[e]&&t!==g&&(t=g(o[e],g))?((n=a[e]=new h)._set(t),n.name=s[e],n):null}function v(e){var t,n,r,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)r=p((n=e[t].split("|"))[0]),i=p(n[1]),o[r]=i,s[r]=n[0],o[i]=r,s[i]=n[1]}function b(e){m(e.zones),v(e.links),C.dataVersion=e.version}function y(e){return y.didShowError||(y.didShowError=!0,w("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!g(e)}function A(e){return!(!e._a||void 0!==e._tzm)}function w(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function C(e){var t=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],r=g(n),t=i.utc.apply(null,t);return r&&!i.isMoment(e)&&A(t)&&t.add(r.parse(t),"minutes"),t.tz(n),t}function x(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}}),((e,t)=>{"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.printStackTrace=t()})(this,function(){function i(e){var t=(e=e||{guess:!0}).e||null,n=!!e.guess,e=e.mode||null,r=new i.implementation,t=r.run(t,e);return n?r.guessAnonymousFunctions(t):t}return(i.implementation=function(){}).prototype={run:function(e,t){return e=e||this.createException(),"other"===(t=t||this.mode(e))?this.other(arguments.callee):this[t](e)},createException:function(){try{this.undef()}catch(e){return e}},mode:function(e){return"undefined"!=typeof window&&-1<window.navigator.userAgent.indexOf("PhantomJS")?"phantomjs":e.arguments&&e.stack?"chrome":e.stack&&e.sourceURL?"safari":e.stack&&e.number?"ie":e.stack&&e.fileName?"firefox":e.message&&e["opera#sourceloc"]?!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?"opera9":"opera10a":e.message&&e.stack&&e.stacktrace?e.stacktrace.indexOf("called from line")<0?"opera10b":"opera11":e.stack&&!e.fileName?"chrome":"other"},instrumentFunction:function(e,t,n){var r=(e=e||window)[t];e[t]=function(){return n.call(this,i().slice(4)),e[t]._instrumented.apply(this,arguments)},e[t]._instrumented=r},deinstrumentFunction:function(e,t){e[t].constructor===Function&&e[t]._instrumented&&e[t]._instrumented.constructor===Function&&(e[t]=e[t]._instrumented)},chrome:function(e){return(e.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(0,-1)},safari:function(e){return e.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(e){return e.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(e){return e.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(e){for(var t=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,n=e.stacktrace.split("\n"),r=[],i=0,a=n.length;i<a;i+=2){var o,s=t.exec(n[i]);s&&(o=s[4]+":"+s[1]+":"+s[2],s=(s=s[3]||"global code").replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,"{anonymous}"),r.push(s+"@"+o+" -- "+n[i+1].replace(/^\s+/,"")))}return r},opera10b:function(e){for(var t=/^(.*)@(.+):(\d+)$/,n=e.stacktrace.split("\n"),r=[],i=0,a=n.length;i<a;i++){var o,s=t.exec(n[i]);s&&(o=s[1]?s[1]+"()":"global code",r.push(o+"@"+s[2]+":"+s[3]))}return r},opera10a:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),r=[],i=0,a=n.length;i<a;i+=2){var o,s=t.exec(n[i]);s&&(o=s[3]||"{anonymous}",r.push(o+"()@"+s[2]+":"+s[1]+" -- "+n[i+1].replace(/^\s+/,"")))}return r},opera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),r=[],i=2,a=n.length;i<a;i+=2){var o=t.exec(n[i]);o&&r.push("{anonymous}()@"+o[2]+":"+o[1]+" -- "+n[i+1].replace(/^\s+/,""))}return r},phantomjs:function(e){for(var t=/(\S+) \((\S+)\)/i,n=e.stack.split("\n"),r=[],i=1,a=n.length;i<a;i++){n[i]=n[i].replace(/^\s+at\s+/gm,"");var o=t.exec(n[i]);r.push(o?o[1]+"()@"+o[2]:"{anonymous}()@"+n[i])}return r},other:function(e){for(var t,n,r="{anonymous}",i=/function(?:\s+([\w$]+))?\s*\(/,a=[],o=Array.prototype.slice;e&&a.length<10;){t=i.test(e.toString())&&RegExp.$1||r;try{n=o.call(e.arguments||[])}catch(e){n=["Cannot access arguments: "+e]}a[a.length]=t+"("+this.stringifyArguments(n)+")";try{e=e.caller}catch(e){a[a.length]="Cannot access caller: "+e;break}}return a},stringifyArguments:function(e){for(var t=[],n=Array.prototype.slice,r=0;r<e.length;++r){var i=e[r];void 0===i?t[r]="undefined":null===i?t[r]="null":i.constructor&&(i.constructor===Array?i.length<3?t[r]="["+this.stringifyArguments(i)+"]":t[r]="["+this.stringifyArguments(n.call(i,0,1))+"..."+this.stringifyArguments(n.call(i,-1))+"]":i.constructor===Object?t[r]="#object":i.constructor===Function?t[r]="#function":i.constructor===String?t[r]='"'+i+'"':i.constructor===Number?t[r]=i:t[r]="?")}return t.join(",")},sourceCache:{},ajax:function(e){var t=this.createXMLHTTPObject();if(t)try{return t.open("GET",e,!1),t.send(null),t.responseText}catch(e){}return""},createXMLHTTPObject:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0;n<t.length;n++)try{return e=t[n](),this.createXMLHTTPObject=t[n],e}catch(e){}},isSameDomain:function(e){return"undefined"!=typeof location&&-1!==e.indexOf(location.hostname)},getSource:function(e){return e in this.sourceCache||(this.sourceCache[e]=this.ajax(e).split("\n")),this.sourceCache[e]},guessAnonymousFunctions:function(e){for(var t=0;t<e.length;++t){var n,r,i=e[t],a=/\{anonymous\}\(.*\)@(.*)/.exec(i);a&&(a=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/.exec(a[1]))&&(r=a[1],n=a[2],a=a[3]||0,r)&&this.isSameDomain(r)&&n&&(r=this.guessAnonymousFunction(r,n,a),e[t]=i.replace("{anonymous}",r))}return e},guessAnonymousFunction:function(t,e,n){var r;try{r=this.findFunctionName(this.getSource(t),e)}catch(e){r="getSource failed with url: "+t+", exception: "+e.toString()}return r},findFunctionName:function(e,t){for(var n,r,i=/function\s+([^(]*?)\s*\(([^)]*)\)/,a=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,o=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,s="",l=Math.min(t,20),c=0;c<l;++c)if(n=0<=(r=(n=e[t-c-1]).indexOf("//"))?n.substr(0,r):n){if((r=a.exec(s=n+s))&&r[1])return r[1];if((r=i.exec(s))&&r[1])return r[1];if((r=o.exec(s))&&r[1])return r[1]}return"(?)"}},i}),angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click",submitButtonTitle:"Submit",submitButtonAriaLabel:"Submit",cancelButtonTitle:"Cancel",cancelButtonAriaLabel:"Cancel",clearButtonTitle:"Clear",clearButtonAriaLabel:"Clear",displayClearButton:!1}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory","$injector","$parse",function(e,t,c){uibDatepickerConfig=t.get("uibDatepickerConfig"),uibDatepickerPopupConfig=t.get("uibDatepickerPopupConfig");var u=[["eIsOpen","is-open"],["eDateDisabled","date-disabled"],["eDatepickerPopup","uib-datepicker-popup"],["eShowButtonBar","show-button-bar"],["eCurrentText","current-text"],["eClearText","clear-text"],["eCloseText","close-text"],["eCloseOnDateSelection","close-on-date-selection"],["eDatepickerAppendToBody","datepicker-append-to-body"],["eOnOpenFocus","on-open-focus"],["eName","name"],["eDateDisabled","date-disabled"],["eAltInputFormats","alt-input-formats"]],d=[["eFormatDay","formatDay"],["eFormatMonth","formatMonth"],["eFormatYear","formatYear"],["eFormatDayHeader","formatDayHeader"],["eFormatDayTitle","formatDayTitle"],["eFormatMonthTitle","formatMonthTitle"],["eMaxMode","maxMode"],["eMinMode","minMode"],["eDatepickerMode","datepickerMode"]];return e({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var e=this.attrs,t=this.scope,n=angular.element('<input type="text" class="form-control" ng-model="$parent.$data"/>');n.attr("uib-datepicker-popup",e.eDatepickerPopupXEditable||uibDatepickerPopupConfig.datepickerPopup),n.attr("year-range",e.eYearRange||20),n.attr("ng-readonly",e.eReadonly||!1);for(var r=u.length-1;0<=r;r--){var i=e[u[r][0]];void 0!==i&&n.attr(u[r][1],i)}e.eNgChange&&(n.attr("ng-change",e.eNgChange),this.inputEl.removeAttr("ng-change")),e.eStyle&&(n.attr("style",e.eStyle),this.inputEl.removeAttr("style"));var a={maxDate:t.$eval(e.eMaxDate)||uibDatepickerConfig.maxDate,minDate:t.$eval(e.eMinDate)||uibDatepickerConfig.minDate,showWeeks:e.eShowWeeks?"true"===e.eShowWeeks.toLowerCase():uibDatepickerConfig.showWeeks,startingDay:e.eStartingDay||0,initDate:t.$eval(e.eInitDate)||new Date};e.eDatepickerOptions&&(o=c(e.eDatepickerOptions)(t),angular.extend(a,o));for(var o,s=d.length-1;0<=s;s--){var l=e[d[s][0]];void 0!==l&&(a[d[s][1]]=l)}t.dateOptions=a,"true"===(angular.isDefined(e.eShowCalendarButton)?e.eShowCalendarButton:"true")?(o=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),t=angular.element('<span class="input-group-btn"></span>'),o.attr("ng-click",e.eNgClick),t.append(o),this.inputEl.append(t)):n.attr("ng-click",e.eNgClick),n.attr("datepicker-options","dateOptions"),this.inputEl.prepend(n),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)}),t.inputEl.bind("keydown",function(e){9===e.keyCode&&"submit"===t.editorEl.attr("blur")&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<div uib-timepicker></div>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.inputEl.wrap("<label></label>"),this.attrs.eTitle&&this.inputEl.parent().append("<span>"+this.attrs.eTitle+"</span>")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,r){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=r(this.attrs.eNgOptions),t="",n="",t=(this.attrs.eNgChange&&(t=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eChecklistComparator&&(n=' checklist-comparator="'+this.attrs.eChecklistComparator+'"'),'<label ng-repeat="'+e.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+e.locals.valueFn+'"'+t+n+'><span ng-bind="'+e.locals.displayFn+'"></span></label>');this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.removeAttr("checklist-comparator"),this.inputEl.html(t)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(e,i){return e({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var n={value:new Date(this.scope.$data)},r=this,t=(angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(e){var t="e"+e.charAt(0).toUpperCase()+e.slice(1);t in r.attrs&&(n[e]="minYear"==e||"maxYear"==e||"minuteStep"==e||"secondStep"==e?parseInt(r.attrs[t],10):r.attrs[t])}),i.getInstance(this.inputEl,n));t.$widget.find("select").bind("change",function(e){r.scope.$data=t.getValue()?new Date(t.getValue().replace(/-/g,"/")).toISOString():null}).change()}})}]),(()=>{var e="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(e,function(t){var n=("editable-"+t).toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()});angular.module("xeditable").directive(n,["editableDirectiveFactory",function(e){return e({directiveName:n,inputTpl:'<input type="'+t+'">',render:function(){var e;this.parent.render.call(this),(this.attrs.eInputgroupleft||this.attrs.eInputgroupright)&&(this.inputEl.wrap('<div class="input-group"></div>'),this.attrs.eInputgroupleft&&(e=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupleft+"</span>"),this.inputEl.parent().prepend(e)),this.attrs.eInputgroupright)&&(e=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupright+"</span>"),this.inputEl.parent().append(e)),this.attrs.eLabel&&(e=angular.element("<label>"+this.attrs.eLabel+"</label>"),(this.attrs.eInputgroupleft||this.attrs.eInputgroupright?this.inputEl.parent():this.inputEl).parent().prepend(e)),this.attrs.eFormclass&&(this.editorEl.addClass(this.attrs.eFormclass),this.inputEl.removeAttr("formclass"))},autosubmit:function(){var t=this;t.inputEl.bind("keydown",function(e){9===e.keyCode&&"submit"===t.editorEl.attr("blur")&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory","$interpolate",function(e,t){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>"+t.startSymbol()+"$data"+t.endSymbol()+"</output>")}})}])})(),angular.module("xeditable").directive("editableTagsInput",["editableDirectiveFactory","editableUtils",function(e,t){var e=e({directiveName:"editableTagsInput",inputTpl:"<tags-input></tags-input>",useCopy:!0,render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("auto-complete",this.attrs.$autoCompleteElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),a=e.link;return e.link=function(e,t,n,r){var i=t.find("editable-tags-input-auto-complete");return n.$autoCompleteElement=i.clone(),i.remove(),a(e,t,n,r)},e}]),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser","$interpolate",function(e,r,i){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=r(this.attrs.eNgOptions),t="",n="",t=(this.attrs.eNgChange&&(t=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eName&&(n=' name="'+this.attrs.eName+'"'),'<label data-ng-repeat="'+e.ngRepeat+'"><input type="radio" data-ng-disabled="::'+this.attrs.eNgDisabled+'" data-ng-model="$parent.$parent.$data" data-ng-value="'+i.startSymbol()+"::"+e.locals.valueFn+i.endSymbol()+'"'+t+n+'><span data-ng-bind="::'+e.locals.displayFn+'"></span></label>');this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.html(t)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",render:function(){var e;this.parent.render.call(this),this.attrs.ePlaceholder&&(e=angular.element('<option value="">'+this.attrs.ePlaceholder+"</option>"),this.inputEl.append(e))},autosubmit:function(){var e=this;e.attrs.hasOwnProperty("eMultiple")||e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",render:function(){this.parent.render.call(this),this.attrs.eFormclass&&(this.editorEl.addClass(this.attrs.eFormclass),this.inputEl.removeAttr("formclass"))},addListeners:function(){var e=this;e.parent.addListeners.call(e),e.single&&"no"!==e.buttons&&e.autosubmit()},autosubmit:function(){var t=this;t.inputEl.bind("keydown",function(e){t.attrs.submitOnEnter?13!==e.keyCode||e.shiftKey||t.scope.$apply(function(){t.scope.$form.$submit()}):((e.ctrlKey||e.metaKey)&&13===e.keyCode||9===e.keyCode&&"submit"===t.editorEl.attr("blur"))&&t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUidate",["editableDirectiveFactory",function(e){return e({directiveName:"editableUidate",inputTpl:'<input class="form-control" />',render:function(){this.parent.render.call(this),this.inputEl.attr("ui-date",this.attrs.eUiDate),this.inputEl.attr("placeholder",this.attrs.ePlaceholder)}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory","editableUtils",function(e,t){var e=e({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("ui-select-match",this.attrs.$matchElement)),this.inputEl.append(t.rename("ui-select-choices",this.attrs.$choicesElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$parent.$data")},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)}),t.inputEl.bind("keydown",function(e){9===e.keyCode&&"submit"===t.editorEl.attr("blur")&&t.scope.$apply(function(){t.scope.$form.$submit()})})}}),o=e.link;return e.link=function(e,t,n,r){var i=t.find("editable-ui-select-match"),a=t.find("editable-ui-select-choices");return n.$matchElement=i.clone(),n.$choicesElement=a.clone(),i.remove(),a.remove(),o(e,t,n,r)},e}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,v){function t(t,o,n,r,e,i,s,a,l,c,u,d){var f,h,p=this,e=(p.scope=t,p.elem=n,p.attrs=o,p.inputEl=null,p.editorEl=null,p.single=!0,p.error="",p.theme=e[o.editableTheme]||e[s.theme]||e.default,p.parent={},o.editableTheme||s.theme||"default"),m=o.editableIconSet||s.icon_set,g=(p.icon_set="default"===m?i.default[e]:i.external[m],p.inputTpl="",p.directiveName="",p.useCopy=!1,p.single=null,p.buttons="right",p.popover=!1,p.init=function(e){if(p.single=e,p.name=o.eName||o[p.directiveName],!o[p.directiveName])throw"You should provide value for `"+p.directiveName+"` in editable element!";f=r(o[p.directiveName]),p.single?p.buttons=p.attrs.buttons||s.buttons:p.buttons="no",o.eName&&p.scope.$watch("$data",function(e){p.scope.$form.$data[o.eName]=e}),o.onshow&&(p.onshow=function(){return p.catchError(r(o.onshow)(t))}),o.onhide&&(p.onhide=function(){return r(o.onhide)(t)}),o.oncancel&&(p.oncancel=function(){return r(o.oncancel)(t)}),o.onbeforesave&&(p.onbeforesave=function(){return p.catchError(r(o.onbeforesave)(t))}),o.onaftersave&&(p.onaftersave=function(){return p.catchError(r(o.onaftersave)(t))}),o.popover&&(p.popover=p.attrs.popover),t.$parent.$watch(o[p.directiveName],function(e,t){p.setLocalValue(),p.handleEmpty()})},p.render=function(){var e,t,n,r,i,a=p.theme;for(e in p.inputEl=angular.element(p.inputTpl),p.controlsEl=angular.element(a.controlsTpl),p.controlsEl.append(p.inputEl),"no"!==p.buttons&&(p.buttonsEl=angular.element(a.buttonsTpl),p.submitEl=angular.element(a.submitTpl),p.resetEl=angular.element(a.resetTpl),p.cancelEl=angular.element(a.cancelTpl),p.submitEl.attr("title",s.submitButtonTitle),p.submitEl.attr("aria-label",s.submitButtonAriaLabel),p.cancelEl.attr("title",s.cancelButtonTitle),p.cancelEl.attr("aria-label",s.cancelButtonAriaLabel),p.resetEl.attr("title",s.clearButtonTitle),p.resetEl.attr("aria-label",s.clearButtonAriaLabel),p.icon_set&&(p.submitEl.find("span").addClass(p.icon_set.ok),p.cancelEl.find("span").addClass(p.icon_set.cancel),p.resetEl.find("span").addClass(p.icon_set.clear)),p.buttonsEl.append(p.submitEl).append(p.cancelEl),s.displayClearButton&&p.buttonsEl.append(p.resetEl),p.controlsEl.append(p.buttonsEl),p.inputEl.addClass("editable-has-buttons")),p.errorEl=angular.element(a.errorTpl),p.controlsEl.append(p.errorEl),p.editorEl=angular.element(p.single?a.formTpl:a.noformTpl),p.editorEl.append(p.controlsEl),o.$attr)e.length<=1||(n=!1,t=e.substring(1,2),"e"===e.substring(0,1)&&t===t.toUpperCase()&&"Form"!==(n=e.substring(1))&&"NgSubmit"!==n&&(t=n.substring(0,1),r="value"!==(n=(r=n.substring(1,2))===r.toUpperCase()&&t===t.toUpperCase()?t.toLowerCase()+"-"+v.camelToDash(n.substring(1)):t.toLowerCase()+v.camelToDash(n.substring(1)))&&""===o[e]?n:o[e],p.inputEl.attr(n,r)));p.inputEl.addClass("editable-input"),p.inputEl.attr("ng-model","$parent.$data"),p.editorEl.addClass(v.camelToDash(p.directiveName)),p.single&&(p.editorEl.attr("editable-form","$form"),p.editorEl.attr("blur",p.attrs.blur||s.blurElem)),p.popover&&((i=angular.element("<div></div>")).append(p.editorEl),p.editorEl=i,d.put("popover.html",p.editorEl[0].outerHTML)),angular.isFunction(a.postrender)&&a.postrender.call(p)},p.setLocalValue=function(){p.scope.$data=p.useCopy?angular.copy(f(t.$parent)):f(t.$parent)},null);p.show=function(){return p.setLocalValue(),p.render(),n.after(p.editorEl),g=t.$new(),l(p.editorEl)(g),p.addListeners(),n.addClass("editable-hide"),p.onshow()},p.hide=function(){return g.$destroy(),p.controlsEl.remove(),p.editorEl.remove(),n.removeClass("editable-hide"),p.popover&&d.remove("popover.html"),p.onhide()},p.cancel=function(){p.oncancel()},p.addListeners=function(){p.inputEl.bind("keyup",function(e){p.single&&27===e.keyCode&&p.scope.$apply(function(){p.scope.$form.$cancel()})}),p.single&&"no"===p.buttons&&p.autosubmit(),p.editorEl.bind("click",function(e){e.which&&1!==e.which||p.scope.$form.$visible&&(p.scope.$form._clicked=!0)})},p.setWaiting=function(e){e?(h=!p.inputEl.attr("disabled")&&!p.inputEl.attr("ng-disabled")&&!p.inputEl.attr("ng-enabled"))&&(p.inputEl.attr("disabled","disabled"),p.buttonsEl)&&p.buttonsEl.find("button").attr("disabled","disabled"):h&&(p.inputEl.removeAttr("disabled"),p.buttonsEl)&&p.buttonsEl.find("button").removeAttr("disabled")},p.activate=function(t,n){setTimeout(function(){var e=p.inputEl[0];"focus"===s.activate&&e.focus?(void 0!==t&&""!==t&&e.setSelectionRange&&(n=n||t,e.onfocus=function(){setTimeout(function(){try{this.setSelectionRange(t,n)}catch(e){}}.bind(this))}),("editableRadiolist"==p.directiveName||"editableChecklist"==p.directiveName||"editableBsdate"==p.directiveName||"editableTagsInput"==p.directiveName?e.querySelector(".ng-pristine"):e).focus()):"select"===s.activate&&(e.select?e.select():e.focus&&e.focus())},0)},p.setError=function(e){angular.isObject(e)||(t.$error=u.trustAsHtml(e),p.error=e)},p.catchError=function(e,t){return angular.isObject(e)&&!0!==t?c.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},p.save=function(){f.assign(t.$parent,p.useCopy?angular.copy(p.scope.$data):p.scope.$data)},p.handleEmpty=function(){var e=f(t.$parent),e=null==e||""===e||angular.isArray(e)&&0===e.length;n.toggleClass("editable-empty",e)},p.autosubmit=angular.noop,p.onshow=angular.noop,p.onhide=angular.noop,p.oncancel=angular.noop,p.onbeforesave=angular.noop,p.onaftersave=angular.noop}return t.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q","$sce","$templateCache"],t}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(c,e,t,u,d,n,f,h){return function(l){return{restrict:"A",scope:!0,require:[l.directiveName,"?^form"],controller:n,link:function(t,e,n,r){var i,a=r[0],o=!1;if(r[1])i=r[1],o=void 0===n.eSingle;else if(n.eForm){r=c(n.eForm)(t);if(r)i=r,o=!0;else if(e&&"function"==typeof e.parents&&e.parents().last().find('form[name="'+n.eForm+'"]').length)o=!(i=null);else for(var s=0;s<d[0].forms.length;s++)if(d[0].forms[s].name===n.eForm){o=!(i=null);break}}angular.forEach(l,function(e,t){void 0!==a[t]&&(a.parent[t]=a[t])}),angular.extend(a,l);if(a.init(!o),t.$editable=a,e.addClass("editable"),o)if(i){if(t.$form=i,!t.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";t.$form.$addEditable(a)}else u.$$editableBuffer=u.$$editableBuffer||{},u.$$editableBuffer[n.eForm]=u.$$editableBuffer[n.eForm]||[],u.$$editableBuffer[n.eForm].push(a),t.$form=null;else t.$form=f(),t.$form.$addEditable(a),n.eForm&&(c(n.eForm).assign||angular.noop)(t.$parent,t.$form),n.eForm&&!n.eClickable||(e.addClass("editable-click"),e.bind(h.activationEvent,function(e){e.preventDefault(),e.editable=a,(angular.isDefined(n.editDisabled)?t.$eval(n.editDisabled):h.isDisabled)||t.$apply(function(){t.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(e,t,i,n,r){function a(e,t){var n=!0,e=e.$editables;return angular.forEach(e,function(e){((e,t)=>{if(t==e)return!0;for(var n=t.parentNode;null!==n;){if(n==e)return!0;n=n.parentNode}return!1})(e.editorEl[0],t.target)&&(n=!1)}),n}var o=[],s=(t.bind("click",function(e){if(!e.which||1===e.which){for(var t=[],n=[],r=0;r<o.length;r++)o[r]._clicked?o[r]._clicked=!1:o[r].$waiting||("cancel"===o[r]._blur&&a(o[r],e)&&t.push(o[r]),"submit"===o[r]._blur&&a(o[r],e)&&n.push(o[r]));(t.length||n.length)&&i.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(n,function(e){e.$submit()})})}}),i.$on("closeEdit",function(){for(var e=0;e<o.length;e++)o[e].$hide()}),{$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show()),e.catchError(e.setWaiting(this.$waiting))},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return void this.$editables.splice(t,1)},$show:function(){var t;this.$visible||(this.$visible=!0,(t=n()).when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(e){t.when(e.show())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===r.indexOf(o,this)&&o.push(this)}),0))},$activate:function(e){var t,n,r;if(this.$editables.length){if(angular.isString(e))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===e)return void this.$editables[t].activate();for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return void this.$editables[t].activate();n=this.$editables[0].elem[0].selectionStart||(this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0),r=this.$editables[0].elem[0].selectionEnd||(this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0),this.$editables[0].activate(n,r)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),r.arrayRemove(o,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(t){this.$waiting=!!t,angular.forEach(this.$editables,function(e){e.setWaiting(!!t)})},$setError:function(t,n){angular.forEach(this.$editables,function(e){t&&e.name!==t||e.setError(n)})},$submit:function(){function e(e){var t=n();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}var t;this.$waiting||(this.$setError(null,""),t=n(),angular.forEach(this.$editables,function(e){t.when(e.onbeforesave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,e,!0),onFalse:angular.bind(this,e,!1),onString:angular.bind(this,this.$activate)}))},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var t=n();t.when(this.$onaftersave()),angular.forEach(this.$editables,function(e){t.when(e.onaftersave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop});return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},s)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(a,o,s,l){return{restrict:"A",require:["form"],compile:function(){return{pre:function(e,t,n,r){var i,r=r[0],e=(n.editableForm?e[n.editableForm]&&e[n.editableForm].$show?(i=e[n.editableForm],angular.extend(r,i)):(i=s(),e[n.editableForm]=i,angular.extend(i,r)):(i=s(),angular.extend(r,i)),a.$$editableBuffer),n=r.$name;n&&e&&e[n]&&(angular.forEach(e[n],function(e){i.$addEditable(e)}),delete e[n])},post:function(t,e,n,r){var i=n.editableForm&&t[n.editableForm]&&t[n.editableForm].$show?t[n.editableForm]:r[0];n.onshow&&(i.$onshow=angular.bind(i,o(n.onshow),t)),n.onhide&&(i.$onhide=angular.bind(i,o(n.onhide),t)),n.oncancel&&(i.$oncancel=angular.bind(i,o(n.oncancel),t)),n.shown&&o(n.shown)(t)&&i.$show(),i._blur=n.blur||l.blurForm,n.ngSubmit||n.submit||(n.onbeforesave&&(i.$onbeforesave=function(){return o(n.onbeforesave)(t,{$data:i.$data})}),n.onaftersave&&(i.$onaftersave=function(){return o(n.onaftersave)(t,{$data:i.$data})}),e.bind("submit",function(e){e.preventDefault(),t.$apply(function(){i.$submit()})})),e.bind("click",function(e){e.which&&1!==e.which||i.$visible&&(i._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(s){return function(){return{promises:[],hasFalse:!1,hasString:!1,when:function(e,t){!1===e?this.hasFalse=!0:!t&&angular.isObject(e)?this.promises.push(s.when(e)):angular.isString(e)&&(this.hasString=!0)},then:function(e){function t(){(o.hasString||o.hasFalse?!o.hasString&&o.hasFalse?r:i:n)()}var n=(e=e||{}).onTrue||angular.noop,r=e.onFalse||angular.noop,i=e.onString||angular.noop,a=e.onWait||angular.noop,o=this;this.promises.length?(a(!0),s.all(this.promises).then(function(e){a(!1),angular.forEach(e,function(e){o.when(e,!0)}),t()},function(e){a(!1),i()})):t()}}}}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},arrayRemove:function(e,t){var n=this.indexOf(e,t);return 0<=n&&e.splice(n,1),t},camelToDash:function(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,r){return r?n.toUpperCase():n}).replace(/^moz([A-Z])/,"Moz$1")},rename:function(e,t){if(t[0]&&t[0].attributes){var n=angular.element("<"+e+"/>");n.html(t.html());for(var r=t[0].attributes,i=0;i<r.length;++i)n.attr(r.item(i).nodeName,r.item(i).value);return n}}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){var l=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return function(e){var t,n,r,i,a,o,s;if(e=e.match(l))return n=e[2]||e[1],r=e[4]||e[6],i=e[2]?e[1]:r,a=e[7],s=(o=e[8])?e[8]:null,void 0===(e=e[5])?(t=r+" in "+a,void 0!==o&&(t+=" track by "+s)):t="("+e+", "+r+") in "+a,{ngRepeat:t,locals:{valueName:r,keyName:e,valueFn:i,displayFn:n}};throw"ng-options parse error"}}]),angular.module("xeditable").factory("editableCombodate",[function(){function n(e,t){if(this.$element=angular.element(e),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";e=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:e,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,t),this.init()}return n.prototype={constructor:n,init:function(){var t;this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays&&(t=this).$widget.find("select").bind("change",function(e){(angular.element(e.target).hasClass("month")||angular.element(e.target).hasClass("year"))&&t.fillCombo("day")}),this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var r=this.options.template,n=this.options.customClass;return angular.forEach(this.map,function(e,t){e=e[0];var n=new RegExp(e+"+"),e=1<e.length?e.substring(1,2):e;r=r.replace(n,"{"+e+"}")}),r=r.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(e,t){e=1<(e=e[0]).length?e.substring(1,2):e;r=r.replace("{"+e+"}",'<select class="'+t+" "+n+'"></select>')}),r},initCombos:function(){for(var e in this.map){var t=this.$widget[0].querySelectorAll("."+e);this["$"+e]=t.length?angular.element(t):null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var n=this["fill"+e.charAt(0).toUpperCase()+e.slice(1)](),e=t.val();t.html("");for(var r=0;r<n.length;r++)t.append('<option value="'+n[r][0]+'">'+n[r][1]+"</option>");t.val(e)}},fillCommon:function(e){var t,n=[];return"name"===this.options.firstItem?(t=(t="function"==typeof(t=moment.relativeTime||moment.langData()._relativeTime)[e]?t[e](1,!0,e,!1):t[e]).split(" ").reverse()[0],n.push(["",t])):"empty"===this.options.firstItem&&n.push(["",""]),n},fillDay:function(){var e,t,n,r,i=this.fillCommon("d"),a=-1!==this.options.template.indexOf("DD"),o=31;for(this.options.smartDays&&this.$month&&this.$year&&(n=parseInt(this.$month.val(),10),r=parseInt(this.$year.val(),10),isNaN(n)||isNaN(r)||(o=moment([r,n]).daysInMonth())),t=1;t<=o;t++)e=a?this.leadZero(t):t,i.push([t,e]);return i},fillMonth:function(){for(var e,t=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),r=-1!==this.options.template.indexOf("MMM"),i=-1!==this.options.template.indexOf("MM"),a=0;a<=11;a++)e=n?moment().date(1).month(a).format("MMMM"):r?moment().date(1).month(a).format("MMM"):i?this.leadZero(a+1):a+1,t.push([a,e]);return t},fillYear:function(){for(var e,t=[],n=-1!==this.options.template.indexOf("YYYY"),r=this.options.maxYear;r>=this.options.minYear;r--)e=n?r:(r+"").substring(2),t[this.options.yearDescending?"push":"unshift"]([r,e]);return this.fillCommon("y").concat(t)},fillHour:function(){for(var e,t=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),r=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),i=n?12:23,a=n?1:0;a<=i;a++)e=r?this.leadZero(a):a,t.push([a,e]);return t},fillMinute:function(){for(var e,t=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm"),r=0;r<=59;r+=this.options.minuteStep)e=n?this.leadZero(r):r,t.push([r,e]);return t},fillSecond:function(){for(var e,t=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss"),r=0;r<=59;r+=this.options.secondStep)e=n?this.leadZero(r):r,t.push([r,e]);return t},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");return this.options.template.indexOf("A"),[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(e){var t,r={},i=this,a=!1;return angular.forEach(this.map,function(e,t){var n;if("ampm"!==t)return n="day"===t?1:0,r[t]=i["$"+t]?parseInt(i["$"+t].val(),10):n,isNaN(r[t])?!(a=!0):void 0}),a?"":(this.$ampm&&(r.hour=12===r.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?r.hour:r.hour+12),t=moment([r.year,r.month,r.day,r.hour,r.minute,r.second]),this.highlight(t),null===(e=void 0===e?this.options.format:e)?t.isValid()?t:null:t.isValid()?t.format(e):"")},setValue:function(e){function n(e,r){var i={};return angular.forEach(e.children("option"),function(e,t){var n,e=angular.element(e).attr("value");""!==e&&(n=Math.abs(e-r),void 0===i.distance||n<i.distance)&&(i={value:e,distance:n})}),i.value}var r,i,a;e&&(r="string"==typeof e?moment(e,this.options.format,!0):moment(e),i=this,a={},r.isValid())&&(angular.forEach(this.map,function(e,t){"ampm"!==t&&(a[t]=r[e[1]]())}),this.$ampm&&(12<=a.hour?(a.ampm="pm",12<a.hour&&(a.hour-=12)):(a.ampm="am",0===a.hour&&(a.hour=12))),angular.forEach(a,function(e,t){i["$"+t]&&("minute"===t&&1<i.options.minuteStep&&i.options.roundTime&&(e=n(i["$"+t],e)),"second"===t&&1<i.options.secondStep&&i.options.roundTime&&(e=n(i["$"+t],e)),i["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(r.format(this.options.format)).triggerHandler("change"))},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(e,t){return new n(e,t)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove",clear:"icon-trash"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove",clear:"glyphicon glyphicon-trash"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}}}),angular.module("ui.sortable",[]).constant("sortableConfig",{itemClass:"as-sortable-item",handleClass:"as-sortable-item-handle",placeHolderClass:"as-sortable-placeholder",dragClass:"as-sortable-drag",hiddenClass:"as-sortable-hidden"}),angular.module("ui.sortable").factory("$helper",["$document","$window",function(r,i){return{height:function(e){return e.prop("offsetHeight")},width:function(e){return e.prop("offsetWidth")},offset:function(e,t){var n=e[0].getBoundingClientRect();return t=t||r[0].documentElement,{width:n.width||e.prop("offsetWidth"),height:n.height||e.prop("offsetHeight"),top:n.top+(i.pageYOffset||t.scrollTop-t.offsetTop),left:n.left+(i.pageXOffset||t.scrollLeft-t.offsetLeft)}},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},isTouchInvalid:function(e){var t=!1;return t=void 0!==e.touches&&1<e.touches.length||void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&1<e.originalEvent.touches.length?!0:t},positionStarted:function(e,t,n){var r={};return r.offsetX=e.pageX-this.offset(t,n).left,r.offsetY=e.pageY-this.offset(t,n).top,r.startX=r.lastX=e.pageX,r.startY=r.lastY=e.pageY,r.nowX=r.nowY=r.distX=r.distY=r.dirAx=0,r.dirX=r.dirY=r.lastDirX=r.lastDirY=r.distAxX=r.distAxY=0,r},calculatePosition:function(e,t){e.lastX=e.nowX,e.lastY=e.nowY,e.nowX=t.pageX,e.nowY=t.pageY,e.distX=e.nowX-e.lastX,e.distY=e.nowY-e.lastY,e.lastDirX=e.dirX,e.lastDirY=e.dirY,e.dirX=0===e.distX?0:0<e.distX?1:-1,e.dirY=0===e.distY?0:0<e.distY?1:-1;t=Math.abs(e.distX)>Math.abs(e.distY)?1:0;e.dirAx!==t?(e.distAxX=0,e.distAxY=0):(e.distAxX+=Math.abs(e.distX),0!==e.dirX&&e.dirX!==e.lastDirX&&(e.distAxX=0),e.distAxY+=Math.abs(e.distY),0!==e.dirY&&e.dirY!==e.lastDirY&&(e.distAxY=0)),e.dirAx=t},movePosition:function(e,t,n,r,i,a){i="relative"===i;t.x=e.pageX-n.offsetX,t.y=e.pageY-n.offsetY,r&&(r=this.offset(r,a),i&&(t.x-=r.left,t.y-=r.top,r.left=0,r.top=0),t.x<r.left?t.x=r.left:t.x>=r.width+r.left-this.offset(t).width&&(t.x=r.width+r.left-this.offset(t).width),t.y<r.top?t.y=r.top:t.y>=r.height+r.top-this.offset(t).height&&(t.y=r.height+r.top-this.offset(t).height)),t.css({left:t.x+"px",top:t.y+"px"}),this.calculatePosition(n,e)},dragItem:function(e){return{index:e.index(),parent:e.sortableScope,source:e,sourceInfo:{index:e.index(),itemScope:e.itemScope,sortableScope:e.sortableScope},moveTo:function(e,t){this.parent=e,this.isSameParent()&&this.source.index()<t&&--t,this.index=t},isSameParent:function(){return this.parent.element===this.sourceInfo.sortableScope.element},isOrderChanged:function(){return this.index!==this.sourceInfo.index},eventArgs:function(){return{source:this.sourceInfo,dest:{index:this.index,sortableScope:this.parent}}},apply:function(){this.sourceInfo.sortableScope.removeItem(this.sourceInfo.index),this.parent.insertItem(this.index,this.source.modelValue)}}},noDrag:function(e){return void 0!==e.attr("no-drag")||void 0!==e.attr("data-no-drag")}}}]),(()=>{var e=angular.module("ui.sortable");e.controller("ui.sortable.sortableController",["$scope",function(r){(this.scope=r).modelValue=null,r.callbacks=null,r.type="sortable",r.options={},r.isDisabled=!1,r.insertItem=function(e,t){r.safeApply(function(){r.modelValue.splice(e,0,t)})},r.removeItem=function(e){var t=null;return-1<e&&r.safeApply(function(){t=r.modelValue.splice(e,1)[0]}),t},r.isEmpty=function(){return r.modelValue&&0===r.modelValue.length},r.accept=function(e,t,n){return r.callbacks.accept(e,t,n)},r.safeApply=function(e){var t=this.$root.$$phase;"$apply"===t||"$digest"===t?e&&"function"==typeof e&&e():this.$apply(e)}}]),e.directive("asSortable",function(){return{require:"ngModel",restrict:"A",scope:!0,controller:"ui.sortable.sortableController",link:function(n,e,t,r){var i,a=r;a&&(a.$render=function(){a.$modelValue&&angular.isArray(a.$modelValue)||a.$setViewValue([]),n.modelValue=a.$modelValue},n.element=e,(i={accept:null,orderChanged:null,itemMoved:null,dragStart:null,dragCancel:null,dragEnd:null}).accept=function(){return!0},i.orderChanged=function(){},i.itemMoved=function(){},i.dragStart=function(){},i.dragCancel=function(){},i.dragEnd=function(){},n.$watch(t.asSortable,function(e){angular.forEach(e,function(e,t){i[t]?"function"==typeof e&&(i[t]=e):n.options[t]=e}),n.callbacks=i},!0),angular.isDefined(t.isDisabled))&&n.$watch(t.isDisabled,function(e){angular.isUndefined(e)||(n.isDisabled=e)},!0)}}})})(),(()=>{var e=angular.module("ui.sortable");e.controller("ui.sortable.sortableItemHandleController",["$scope",function(e){(this.scope=e).itemScope=null,e.type="handle"}]),e.directive("asSortableItemHandle",["sortableConfig","$helper","$window","$document",function(L,O,D,z){return{require:"^asSortableItem",scope:!0,restrict:"A",controller:"ui.sortable.sortableItemHandleController",link:function(r,i,e,t){function a(e,t){e[0].parentNode.insertBefore(l[0],e[0]),d.moveTo(t.sortableScope,t.index())}function o(e,t){e.after(l),d.moveTo(t.sortableScope,t.index()+1)}function n(){c.replaceWith(r.itemScope.element),l.remove(),s.remove(),s=null,S=!1,f.css("cursor","")}var s,l,c,u,d,f,h,p,m,g,v,b,y,A,w,C,x,T,k,M,S,_=!1,E=D.hasOwnProperty("ontouchstart");L.handleClass&&i.addClass(L.handleClass),r.itemScope=t.scope,r.$watch("sortableScope.isDisabled",function(e){_!==e&&((_=e)?T:x)()}),p=function(t){var n,r=function(){angular.element(z).unbind("mousemove",e),angular.element(z).unbind("touchmove",e),i.unbind("mouseup",r),i.unbind("touchend",r),i.unbind("touchcancel",r)},e=function(e){e.preventDefault();e=O.eventObj(e);n=n||{clientX:e.clientX,clientY:e.clientY},10<Math.abs(e.clientX-n.clientX)+Math.abs(e.clientY-n.clientY)&&(r(),g(t))};angular.element(z).bind("mousemove",e),angular.element(z).bind("touchmove",e),i.bind("mouseup",r),i.bind("touchend",r),i.bind("touchcancel",r)},g=function(e){var t;!(E||2!==e.button&&3!==e.which)||E&&O.isTouchInvalid(e)||!S&&A(e)&&(S=!0,e.preventDefault(),e=O.eventObj(e),m=0<angular.element(z[0].querySelector(r.sortableScope.options.scrollableContainer)).length?z[0].querySelector(r.sortableScope.options.scrollableContainer):z[0].documentElement,(f=angular.element(0<angular.element(z[0].querySelector(r.sortableScope.options.containment)).length?z[0].querySelector(r.sortableScope.options.containment):z[0].body)).css("cursor","move"),h=r.sortableScope.options.containerPositioning||"absolute",d=O.dragItem(r),t=r.itemScope.element.prop("tagName"),(s=angular.element(z[0].createElement(r.sortableScope.element.prop("tagName"))).addClass(r.sortableScope.element.attr("class")).addClass(L.dragClass)).css("width",O.width(r.itemScope.element)+"px"),s.css("height",O.height(r.itemScope.element)+"px"),(l=angular.element(z[0].createElement(t)).addClass(L.placeHolderClass).addClass(r.sortableScope.options.additionalPlaceholderClass)).css("width",O.width(r.itemScope.element)+"px"),l.css("height",O.height(r.itemScope.element)+"px"),c=angular.element(z[0].createElement(t)),L.hiddenClass&&c.addClass(L.hiddenClass),u=O.positionStarted(e,r.itemScope.element,m),r.itemScope.element.after(l),r.itemScope.element.after(c),s.append(r.itemScope.element),f.append(s),O.movePosition(e,s,u,f,h,m),r.sortableScope.$apply(function(){r.callbacks.dragStart(d.eventArgs())}),k())},A=function(e){for(var t=angular.element(e.target),n=t.scope(),r=!1;!r&&void 0!==n;)n.type&&"handle"===n.type?r=!0:n=n.$parent;for(;r&&t[0]!==i[0];)O.noDrag(t)&&(r=!1),t=t.parent();return r},v=function(e){var t,n;E&&O.isTouchInvalid(e)||!S||!s||(e.preventDefault(),e=O.eventObj(e),O.movePosition(e,s,u,f,h,m),n=e.pageX-z[0].documentElement.scrollLeft,t=e.pageY-(D.pageYOffset||z[0].documentElement.scrollTop),s.addClass(L.hiddenClass),z[0].elementFromPoint(n,t),n=angular.element(z[0].elementFromPoint(n,t)),s.removeClass(L.hiddenClass),(t=n.scope())&&t.type&&("item"!==(t="handle"===t.type?t.itemScope:t).type&&"sortable"!==t.type||("item"===t.type&&(n=t.element,t.sortableScope.accept(r,t.sortableScope,t))&&(u.dirAx&&r.itemScope.sortableScope.$id===t.sortableScope.$id?(u.distAxX=0,u.distX<0?a(n,t):0<u.distX&&o(n,t)):(w(e,n)?a:o)(n,t)),"sortable"===t.type&&t.accept(r,t)&&n[0].parentNode!==t.element[0]&&!C(n)&&(n[0].appendChild(l[0]),d.moveTo(t,t.modelValue.length)))))},C=function(e){for(var t,n=e.children(),r=0;r<n.length;r+=1)if(angular.element(n[r]).hasClass(L.placeHolderClass)){t=!0;break}return t},w=function(e,t){var n=O.offset(t);return O.offset(l).top>n.top?O.offset(s).top<n.top+O.height(t)/2:e.pageY<n.top},b=function(e){S&&(e.preventDefault(),s&&(n(),d.apply(),r.sortableScope.$apply(function(){d.isSameParent()?d.isOrderChanged()&&r.callbacks.orderChanged(d.eventArgs()):r.callbacks.itemMoved(d.eventArgs())}),r.sortableScope.$apply(function(){r.callbacks.dragEnd(d.eventArgs())}),d=null),M())},y=function(e){S&&(e.preventDefault(),s&&(n(),r.sortableScope.$apply(function(){r.callbacks.dragCancel(d.eventArgs())}),d=null),M())},T=function(){i.unbind("touchstart",p),i.unbind("mousedown",p)},(x=function(){i.bind("touchstart",p),i.bind("mousedown",p)})(),angular.element(z[0].body).bind("keydown",function(e){27===e.keyCode&&y(e)}),k=function(){angular.element(z).bind("touchmove",v),angular.element(z).bind("touchend",b),angular.element(z).bind("touchcancel",y),angular.element(z).bind("mousemove",v),angular.element(z).bind("mouseup",b)},M=function(){angular.element(z).unbind("touchend",b),angular.element(z).unbind("touchcancel",y),angular.element(z).unbind("touchmove",v),angular.element(z).unbind("mouseup",b),angular.element(z).unbind("mousemove",v)}}}}])})(),(()=>{var e=angular.module("ui.sortable");e.controller("ui.sortable.sortableItemController",["$scope",function(e){(this.scope=e).sortableScope=null,e.modelValue=null,e.type="item",e.index=function(){return e.sortableScope.modelValue.indexOf(e.modelValue)},e.itemData=function(){return e.sortableScope.modelValue[e.$index]}}]),e.directive("asSortableItem",["sortableConfig",function(i){return{require:"^asSortable",restrict:"A",controller:"ui.sortable.sortableItemController",link:function(e,t,n,r){i.itemClass&&t.addClass(i.itemClass),e.sortableScope=r.scope,e.modelValue=r.scope.modelValue[e.$index],e.element=t}}}])})(),new function(){function b(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function d(e){return e.nodeName.toLowerCase()}function y(e,t){e=e&&e.exec(t);return e&&0==e.index}function c(e,t){var n={};for(r in e)n[r]=e[r];if(t)for(var r in t)n[r]=t[r];return n}function o(e){var i=[];return function e(t,n){for(var r=t.firstChild;r;r=r.nextSibling)3==r.nodeType?n+=r.nodeValue.length:"br"==d(r)?n+=1:1==r.nodeType&&(i.push({event:"start",offset:n,node:r}),n=e(r,n),i.push({event:"stop",offset:n,node:r}));return n}(e,0),i}function s(e,t,n){var r=0,i="",a=[];function o(){return e.length&&t.length?e[0].offset!=t[0].offset?e[0].offset<t[0].offset?e:t:"start"==t[0].event?e:t:e.length?e:t}function s(e){i+="<"+d(e)+Array.prototype.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+b(e.value)+'"'}).join("")+">"}function l(e){i+="</"+d(e)+">"}function c(e){("start"==e.event?s:l)(e.node)}for(;e.length||t.length;){var u=o();if(i+=b(n.substr(r,u[0].offset-r)),r=u[0].offset,u==e){for(a.reverse().forEach(l);c(u.splice(0,1)[0]),(u=o())==e&&u.length&&u[0].offset==r;);a.reverse().forEach(s)}else"start"==u[0].event?a.push(u[0].node):a.pop(),c(u.splice(0,1)[0])}return i+b(n.substr(r))}function A(o){function s(e){return e&&e.source||e}function l(e,t){return RegExp(s(e),"m"+(o.cI?"i":"")+(t?"g":""))}!function t(n,e){var r,i;function a(t,e){(e=o.cI?e.toLowerCase():e).split(" ").forEach(function(e){e=e.split("|"),r[e[0]]=[t,e[1]?Number(e[1]):1]})}n.compiled||(n.compiled=!0,n.k=n.k||n.bK,n.k&&(r={},"string"==typeof n.k?a("keyword",n.k):Object.keys(n.k).forEach(function(e){a(e,n.k[e])}),n.k=r),n.lR=l(n.l||/\b[A-Za-z0-9_]+\b/,!0),e&&(n.bK&&(n.b=n.bK.split(" ").join("|")),n.b||(n.b=/\B|\b/),n.bR=l(n.b),n.e||n.eW||(n.e=/\B|\b/),n.e&&(n.eR=l(n.e)),n.tE=s(n.e)||"",n.eW)&&e.tE&&(n.tE+=(n.e?"|":"")+e.tE),n.i&&(n.iR=l(n.i)),void 0===n.r&&(n.r=1),n.c||(n.c=[]),i=[],n.c.forEach(function(t){t.v?t.v.forEach(function(e){i.push(c(t,e))}):i.push("self"==t?n:t)}),n.c=i,n.c.forEach(function(e){t(e,n)}),n.starts&&t(n.starts,e),e=n.c.map(function(e){return e.bK?"\\.?\\b("+e.b+")\\b\\.?":e.b}).concat([n.tE]).concat([n.i]).map(s).filter(Boolean),n.t=e.length?l(e.join("|"),!0):{exec:function(e){return null}},n.continuation={})}(o)}function w(e,t,i,n){function o(e,t,n,r){r='<span class="'+(r?"":x.classPrefix);return(r+=e+'">')+t+(n?"":"</span>")}function r(){var e=b(h);if(!u.k)return e;for(var t,n="",r=0,i=(u.lR.lastIndex=0,u.lR.exec(e));i;){n+=e.substr(r,i.index-r);a=u,t=i,t=c.cI?t[0].toLowerCase():t[0];var a=a.k.hasOwnProperty(t)&&a.k[t];a?(p+=a[1],n+=o(a[0],i[0])):n+=i[0],r=u.lR.lastIndex,i=u.lR.exec(e)}return n+e.substr(r)}function a(){return void 0!==u.sL?u.sL&&!T[u.sL]?b(h):(e=u.sL?w(u.sL,h,!0,u.continuation.top):C(h),0<u.r&&(p+=e.r),"continuous"==u.subLanguageMode&&(u.continuation.top=e.top),o(e.language,e.value,!1,!0)):r();var e}function s(e,t){var n=e.cN?o(e.cN,"",!0):"";h=e.rB?(d+=n,""):e.eB?(d+=b(t)+n,""):(d+=n,t),u=Object.create(e,{parent:{value:u}})}function l(e,t){if(h+=e,void 0===t)return d+=a(),0;e=((e,t)=>{for(var n=0;n<t.c.length;n++)if(y(t.c[n].bR,e))return t.c[n]})(t,u);if(e)return d+=a(),s(e,t),e.rB?0:t.length;var n,r=function e(t,n){return y(t.eR,n)?t:t.eW?e(t.parent,n):void 0}(u,t);if(r){var e=u;for(e.rE||e.eE||(h+=t),d+=a();u.cN&&(d+="</span>"),p+=u.r,(u=u.parent)!=r.parent;);return e.eE&&(d+=b(t)),h="",r.starts&&s(r.starts,""),e.rE?0:t.length}if(e=t,n=u,!i&&y(n.iR,e))throw new Error('Illegal lexeme "'+t+'" for mode "'+(u.cN||"<unnamed>")+'"');return h+=t,t.length||1}var c=k(e);if(!c)throw new Error('Unknown language: "'+e+'"');A(c);for(var u=n||c,d="",f=u;f!=c;f=f.parent)f.cN&&(d=o(f.cN,d,!0));var h="",p=0;try{for(var m,g,v=0;;){if(u.t.lastIndex=v,!(m=u.t.exec(t)))break;g=l(t.substr(v,m.index-v),m[0]),v=m.index+g}l(t.substr(v));for(f=u;f.parent;f=f.parent)f.cN&&(d+="</span>");return{r:p,value:d,language:e,top:u}}catch(e){if(-1!=e.message.indexOf("Illegal"))return{r:0,value:b(t)};throw e}}function C(n,e){e=e||x.languages||Object.keys(T);var r={r:0,value:b(n)},i=r;return e.forEach(function(e){var t;k(e)&&((t=w(e,n,!1)).language=e,t.r>i.r&&(i=t),t.r>r.r)&&(i=r,r=t)}),i.language&&(r.second_best=i),r}function l(e){return x.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t,n,r){return t.replace(/\t/g,x.tabReplace)})),e=x.useBR?e.replace(/\n/g,"<br>"):e}function t(e){var t,n,r,i=function t(e){return Array.prototype.map.call(e.childNodes,function(e){return 3==e.nodeType?x.useBR?e.nodeValue.replace(/\n/g,""):e.nodeValue:"br"==d(e)?"\n":t(e)}).join("")}(e),a=((a=e).className+" "+(a.parentNode?a.parentNode.className:"")).split(/\s+/).map(function(e){return e.replace(/^language-/,"")}).filter(function(e){return k(e)||"no-highlight"==e})[0];"no-highlight"!=a&&(t=a?w(a,i,!0):C(i),(n=o(e)).length&&((r=document.createElementNS("http://www.w3.org/1999/xhtml","pre")).innerHTML=t.value,t.value=s(n,o(r),i)),t.value=l(t.value),e.innerHTML=t.value,e.className+=" hljs "+(!a&&t.language||""),e.result={language:t.language,re:t.r},t.second_best)&&(e.second_best={language:t.second_best.language,re:t.second_best.r})}var x={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};function n(){var e;n.called||(n.called=!0,e=document.querySelectorAll("pre code"),Array.prototype.forEach.call(e,t))}var T={},r={};function k(e){return T[e]||T[r[e]]}this.highlight=w,this.highlightAuto=C,this.fixMarkup=l,this.highlightBlock=t,this.configure=function(e){x=c(x,e)},this.initHighlighting=n,this.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",n,!1),addEventListener("load",n,!1)},this.registerLanguage=function(t,e){(e=T[t]=e(this)).aliases&&e.aliases.forEach(function(e){r[e]=t})},this.getLanguage=k,this.inherit=c,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.CLCM={cN:"comment",b:"//",e:"$"},this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"},this.HCM={cN:"comment",b:"#",e:"$"},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}});hljs.registerLanguage("json",function(e){var t={literal:"true false null"},n=[e.QSM,e.CNM],r={cN:"value",e:",",eW:!0,eE:!0,c:n,k:t},i={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[e.BE],i:"\\n",starts:r}],i:"\\S"},e={b:"\\[",e:"\\]",c:[e.inherit(r,{cN:null})],i:"\\S"};return n.splice(n.length,0,i,e),{c:n,k:t,i:"\\S"}}),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){function p(e,n){if(!(this instanceof p))return new p(e,n);this.options=n=n||{},hr(fi,n,!1),X(n);var t,a,o,r=n.value,i=("string"==typeof r&&(r=new d(r,n.mode)),this.doc=r,this.display=new _(e,r));q(i.wrapper.CodeMirror=this),Y(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Gr&&N(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new lr},Ir&&setTimeout(pr(y,this,!0),20),o=(a=this).display,R(o.scroller,"mousedown",$(a,yt)),R(o.scroller,"dblclick",Ir?$(a,function(e){var t;ar(a,e)||!(t=bt(a,e))||wt(a,e)||vt(a.display,e)||(j(e),e=en(a,t),ye(a.doc,e.anchor,e.head))}):function(e){ar(a,e)||j(e)}),R(o.lineSpace,"selectstart",function(e){vt(o,e)||j(e)}),Zr||R(o.scroller,"contextmenu",function(e){$t(a,e)}),R(o.scroller,"scroll",function(){o.scroller.clientHeight&&(xt(a,o.scroller.scrollTop),Tt(a,o.scroller.scrollLeft,!0),M(a,"scroll",a))}),R(o.scrollbarV,"scroll",function(){o.scroller.clientHeight&&xt(a,o.scrollbarV.scrollTop)}),R(o.scrollbarH,"scroll",function(){o.scroller.clientHeight&&Tt(a,o.scrollbarH.scrollLeft)}),R(o.scroller,"mousewheel",function(e){kt(a,e)}),R(o.scroller,"DOMMouseScroll",function(e){kt(a,e)}),R(o.scrollbarH,"mousedown",s),R(o.scrollbarV,"mousedown",s),R(o.wrapper,"scroll",function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),R(o.input,"keyup",$(a,Lt)),R(o.input,"input",function(){B&&!I&&a.display.inputHasSelection&&(a.display.inputHasSelection=null),ft(a)}),R(o.input,"keydown",$(a,Et)),R(o.input,"keypress",$(a,Ot)),R(o.input,"focus",pr(Dt,a)),R(o.input,"blur",pr(zt,a)),a.options.dragDrop&&(R(o.scroller,"dragstart",function(e){var t,n;t=a,e=e,B&&(!t.state.draggingText||+new Date-oi<100)?Wi(e):ar(t,e)||vt(t.display,e)||(e.dataTransfer.setData("Text",t.getSelection()),!e.dataTransfer.setDragImage)||jr||((n=k("img",null,null,"position: fixed; left: 0; top: 0;")).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n))}),R(o.scroller,"dragenter",l),R(o.scroller,"dragover",l),R(o.scroller,"drop",$(a,Ct))),R(o.scroller,"paste",function(e){vt(o,e)||(a.state.pasteIncoming=!0,N(a),ft(a))}),R(o.input,"paste",function(){var e,t;!W||a.state.fakedLastChar||new Date-a.state.lastMiddleDown<200||(e=o.input.selectionStart,t=o.input.selectionEnd,o.input.value+="$",o.input.selectionStart=e,o.input.selectionEnd=t,a.state.fakedLastChar=!0),a.state.pasteIncoming=!0,ft(a)}),R(o.input,"cut",c),R(o.input,"copy",c),Rr&&R(o.sizer,"mouseup",function(){Ar()==o.input&&o.input.blur(),N(a)}),ta||(R(window,"resize",function(){null==t&&(t=setTimeout(function(){Zi=t=null,kr(gt)},100))}),R(window,"blur",function(){kr(zt)}),ta=!0);function s(){a.state.focused&&setTimeout(pr(N,a),0)}function l(e){ar(a,e)||Wi(e)}function c(e){if(a.somethingSelected())o.inaccurateSelection&&(o.prevInput="",o.inaccurateSelection=!1,o.input.value=a.getSelection(),Gi(o.input));else{for(var t="",n=[],r=0;r<a.doc.sel.ranges.length;r++){var i=a.doc.sel.ranges[r].head.line,i={anchor:H(i,0),head:H(i+1,0)};n.push(i),t+=a.getRange(i.anchor,i.head)}"cut"==e.type?a.setSelections(n,null,Ri):(o.prevInput="",o.input.value=t,Gi(o.input))}"cut"==e.type&&(a.state.cutIncoming=!0)}var u=this;rt(this,function(){for(var e in u.curOp.forceUpdate=!0,Hn(u,r),n.autofocus&&!Gr||Ar()==i.input?setTimeout(pr(Dt,u),20):zt(u),hi)hi.hasOwnProperty(e)&&hi[e](u,n[e],pi);for(var t=0;t<bi.length;++t)bi[t](u)})}function _(e,t){var n=this,r=n.input=k("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");W?r.style.width="1000px":r.setAttribute("wrap","off"),qr&&(r.style.border="1px solid black"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false"),n.inputDiv=k("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=k("div",[k("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=k("div",[k("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=k("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=k("div",null,"CodeMirror-gutter-filler"),n.lineDiv=k("div",null,"CodeMirror-code"),n.selectionDiv=k("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=k("div",null,"CodeMirror-cursors"),n.measure=k("div",null,"CodeMirror-measure"),n.lineMeasure=k("div",null,"CodeMirror-measure"),n.lineSpace=k("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=k("div",[k("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=k("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=k("div",null,null,"position: absolute; height: "+S+"px; width: 1px;"),n.gutters=k("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=k("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=k("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Br&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),qr&&(r.style.width="0px"),W||(n.scroller.draggable=!0),Rr&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),Br&&(n.scrollbarH.style.minHeight=n.scrollbarV.style.minWidth="18px"),e.appendChild?e.appendChild(n.wrapper):e(n.wrapper),n.viewFrom=n.viewTo=t.first,n.view=[],n.externalMeasured=null,n.viewOffset=0,n.lastSizeC=0,n.updateLineNumbers=null,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new lr,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function i(e){e.doc.mode=p.getMode(e.options,e.doc.modeOption),a(e)}function a(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Oe(e,100),e.state.modeGen++,e.curOp&&b(e)}function E(r){var i=Qe(r.display),a=r.options.lineWrapping,o=a&&Math.max(5,r.display.scroller.clientWidth/et(r.display)-3);return function(e){if(wn(r.doc,e))return 0;var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;n++)e.widgets[n].height&&(t+=e.widgets[n].height);return a?t+(Math.ceil(e.text.length/o)||1)*i:t+i}}function o(e){var t=e.doc,n=E(e);t.iter(function(e){var t=n(e);t!=e.height&&w(e,t)})}function s(e){var t=xi[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function Y(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Re(e)}function l(e){q(e),b(e),setTimeout(function(){ee(e)},20)}function q(e){var t=e.display.gutters,n=e.options.gutters;br(t);for(var r=0;r<n.length;++r){var i=n[r],a=t.appendChild(k("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&((e.display.lineGutter=a).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",G(e)}function G(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px",e.display.scrollbarH.style.left=e.options.fixedGutter?t+"px":0}function V(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=gn(r);){r=(i=t.find(0,!0)).from.line;n+=i.from.ch-i.to.ch}for(r=e;t=vn(r);)var i=t.find(0,!0),n=(n-=r.text.length-i.from.ch)+((r=i.to.line).text.length-i.to.ch);return n}function K(e){var n=e.display,e=e.doc;n.maxLine=P(e,e.first),n.maxLineLength=V(n.maxLine),n.maxLineChanged=!0,e.iter(function(e){var t=V(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)})}function X(e){var t=g(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function J(e){var t=e.display.scroller;return{clientHeight:t.clientHeight,barHeight:e.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,barWidth:e.display.scrollbarH.clientWidth,docHeight:Math.round(e.doc.height+Ne(e.display))}}function Z(t,e){e=e||J(t);var n=t.display,r=e.docHeight+S,i=e.scrollWidth>e.clientWidth,a=r>e.clientHeight;a?(n.scrollbarV.style.display="block",n.scrollbarV.style.bottom=i?Mr(n.measure)+"px":"0",n.scrollbarV.firstChild.style.height=Math.max(0,r-e.clientHeight+(e.barHeight||n.scrollbarV.clientHeight))+"px"):(n.scrollbarV.style.display="",n.scrollbarV.firstChild.style.height="0"),i?(n.scrollbarH.style.display="block",n.scrollbarH.style.right=a?Mr(n.measure)+"px":"0",n.scrollbarH.firstChild.style.width=e.scrollWidth-e.clientWidth+(e.barWidth||n.scrollbarH.clientWidth)+"px"):(n.scrollbarH.style.display="",n.scrollbarH.firstChild.style.width="0"),i&&a?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=n.scrollbarFiller.style.width=Mr(n.measure)+"px"):n.scrollbarFiller.style.display="",i&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=Mr(n.measure)+"px",n.gutterFiller.style.width=n.gutters.offsetWidth+"px"):n.gutterFiller.style.display="",!t.state.checkedOverlayScrollbar&&0<e.clientHeight&&(0===Mr(n.measure)&&(n.scrollbarV.style.minWidth=n.scrollbarH.style.minHeight=Vr&&!Ur?"12px":"18px",R(n.scrollbarV,"mousedown",r=function(e){nr(e)!=n.scrollbarV&&nr(e)!=n.scrollbarH&&$(t,yt)(e)}),R(n.scrollbarH,"mousedown",r)),t.state.checkedOverlayScrollbar=!0)}function Q(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop,r=Math.floor(r-$e(e)),i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,r=Rn(t,r),i=Rn(t,i);if(n&&n.ensure){var a=n.ensure.from.line,n=n.ensure.to.line;if(a<r)return{from:a,to:Rn(t,Un(P(t,a))+e.wrapper.clientHeight)};if(Math.min(n,t.lastLine())>=i)return{from:Rn(t,Un(P(t,n))-e.wrapper.clientHeight),to:n}}return{from:r,to:Math.max(i,r+1)}}function ee(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=c(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=r+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=a);var s=n[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function te(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function c(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ne(e,t,n){for(var r,i,a,o,s,l=e.display.viewFrom,c=e.display.viewTo,u=Q(e.display,e.doc,t),d=!0;;d=!1){var f=e.display.scroller.clientWidth;if(!((e,t,n)=>{var r=e.display,i=e.doc;if(r.wrapper.offsetWidth){if(!(!n&&t.from>=r.viewFrom&&t.to<=r.viewTo&&0==ut(e))){(e=>{var t,n,r,i;return e.options.lineNumbers&&(t=te(e.options,(t=e.doc).first+t.size-1)).length!=(n=e.display).lineNumChars?(r=(i=n.measure.appendChild(k("div",[k("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt"))).firstChild.offsetWidth,i=i.offsetWidth-r,n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(r,n.lineGutter.offsetWidth-i),n.lineNumWidth=n.lineNumInnerWidth+i,n.lineNumChars=n.lineNumInnerWidth?t.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",G(e),1):void 0})(e)&&st(e);var a=ie(e),o=i.first+i.size,s=Math.max(t.from-e.options.viewportMargin,i.first),t=Math.min(o,t.to+e.options.viewportMargin),i=(r.viewFrom<s&&s-r.viewFrom<20&&(s=Math.max(i.first,r.viewFrom)),r.viewTo>t&&r.viewTo-t<20&&(t=Math.min(o,r.viewTo)),ei&&(s=yn(e.doc,s),t=An(e.doc,t)),s!=r.viewFrom||t!=r.viewTo||r.lastSizeC!=r.wrapper.clientHeight),o=(((e,t,n)=>{var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=at(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=at(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(lt(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(at(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,lt(e,n)))),r.viewTo=n})(e,s,t),r.viewOffset=Un(P(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px",ut(e));if(i||0!=o||n)return s=Ar(),4<o&&(r.lineDiv.style.display="none"),((n,e,t)=>{function r(e){var t=e.nextSibling;return W&&Vr&&n.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var i=n.display,a=n.options.lineNumbers,o=i.lineDiv,s=o.firstChild,l=i.view,c=i.viewFrom,u=0;u<l.length;u++){var d=l[u];if(!d.hidden)if(d.node){for(;s!=d.node;)s=r(s);var f=a&&null!=e&&e<=c&&d.lineNumber;d.changes&&(-1<g(d.changes,"gutter")&&(f=!1),ae(n,d,c,t)),f&&(br(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(te(n.options,c)))),s=d.node.nextSibling}else{f=((e,t,n,r)=>{var i=se(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),le(t),ce(e,t,n,r),ue(t,r),t.node})(n,d,c,t);o.insertBefore(f,s)}c+=d.size}for(;s;)s=r(s)})(e,r.updateLineNumbers,a),4<o&&(r.lineDiv.style.display=""),s&&Ar()!=s&&s.offsetHeight&&s.focus(),br(r.cursorDiv),br(r.selectionDiv),i&&(r.lastSizeC=r.wrapper.clientHeight,Oe(e,400)),(e=>{for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,a=t.view[r];if(!a.hidden){Br?(o=a.node.offsetTop+a.node.offsetHeight,i=o-n,n=o):(o=a.node.getBoundingClientRect(),i=o.bottom-o.top);var o,s=a.line.height-i;if(i<2&&(i=Qe(t)),(.001<s||s<-.001)&&(w(a.line,i),re(a.line),a.rest))for(var l=0;l<a.rest.length;l++)re(a.rest[l])}}})(e),1}}else st(e)})(e,u,n))break;r=!0,e.display.maxLineChanged&&!e.options.lineWrapping&&(s=h=o=void 0,o=(a=e).display,h=Ie(a,o.maxLine,o.maxLine.text.length).left,o.maxLineChanged=!1,h=Math.max(0,h+3),s=Math.max(0,o.sizer.offsetLeft+h+S-o.scroller.clientWidth),o.sizer.style.minWidth=h+"px",s<a.doc.scrollLeft)&&Tt(a,Math.min(o.scroller.scrollLeft,s),!0);var h=J(e);if(Ee(e),a=h,(o=e).display.sizer.style.minHeight=o.display.heightForcer.style.top=a.docHeight+"px",o.display.gutters.style.height=Math.max(a.docHeight,a.clientHeight-S)+"px",Z(e,h),W&&e.options.lineWrapping&&(s=h,(i=e).display.sizer.offsetWidth+i.display.gutters.offsetWidth<i.display.scroller.clientWidth-1&&(i.display.sizer.style.minHeight=i.display.heightForcer.style.top="0px",i.display.gutters.style.height=s.docHeight+"px")),d&&e.options.lineWrapping&&f!=e.display.scroller.clientWidth)n=!0;else if(n=!1,t&&null!=t.top&&(t={top:Math.min(h.docHeight-S-h.clientHeight,t.top)}),(u=Q(e.display,e.doc,t)).from>=e.display.viewFrom&&u.to<=e.display.viewTo)break}return e.display.updateLineNumbers=null,r&&(C(e,"update",e),e.display.viewFrom!=l||e.display.viewTo!=c)&&C(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),r}function re(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function ie(e){for(var t=e.display,n={},r={},i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a)n[e.options.gutters[a]]=i.offsetLeft,r[e.options.gutters[a]]=i.offsetWidth;return{fixedPos:c(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function ae(e,t,n,r){for(var i,a,o=0;o<t.changes.length;o++){var s=t.changes[o];if("text"==s)c=e,a=void 0,a=(i=t).text.className,c=se(c,i),i.text==i.node&&(i.node=c.pre),i.text.parentNode.replaceChild(c.pre,i.text),i.text=c.pre,c.bgClass!=i.bgClass||c.textClass!=i.textClass?(i.bgClass=c.bgClass,i.textClass=c.textClass,le(i)):a&&(i.text.className=a);else if("gutter"==s)ce(e,t,n,r);else if("class"==s)le(t);else if("widget"==s){l=void 0;c=void 0;d=void 0;u=void 0;var l=t;var c=r;l.alignable&&(l.alignable=null);for(var u=l.node.firstChild;u;u=d){var d=u.nextSibling;"CodeMirror-linewidget"==u.className&&l.node.removeChild(u)}ue(l,c)}}t.changes=null}function oe(e){return e.node==e.text&&(e.node=k("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Br)&&(e.node.style.zIndex=2),e.node}function se(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Dn(e,t)}function le(e){(n=(r=e).bgClass?r.bgClass+" "+(r.line.bgClass||""):r.line.bgClass)&&(n+=" CodeMirror-linebackground"),r.background?n?r.background.className=n:(r.background.parentNode.removeChild(r.background),r.background=null):n&&(t=oe(r),r.background=t.insertBefore(k("div",null,n),t.firstChild)),e.line.wrapClass?oe(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t,n,r=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=r||""}function ce(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=oe(t),o=t.gutter=a.insertBefore(k("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px"),t.text);if(!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(k("div",te(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=i.hasOwnProperty(l)&&i[l];c&&o.appendChild(k("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function ue(e,t){if(u(e.line,e,t,!0),e.rest)for(var n=0;n<e.rest.length;n++)u(e.rest[n],e,t,!1)}function u(e,t,n,r){if(e.widgets)for(var i=oe(t),a=0,o=e.widgets;a<o.length;++a){var s=o[a],l=k("div",[s.node],"CodeMirror-linewidget"),c=(s.handleMouseEvents||(l.ignoreEvents=!0),f=d=u=c=void 0,s),u=l,d=t,f=n;c.noHScroll&&((d.alignable||(d.alignable=[])).push(u),d=f.wrapperWidth,u.style.left=f.fixedPos+"px",c.coverGutter||(d-=f.gutterTotalWidth,u.style.paddingLeft=f.gutterTotalWidth+"px"),u.style.width=d+"px"),c.coverGutter&&(u.style.zIndex=5,u.style.position="relative",c.noHScroll||(u.style.marginLeft=-f.gutterTotalWidth+"px")),r&&s.above?i.insertBefore(l,t.gutter||t.text):i.appendChild(l),C(s,"redraw")}}function de(e){return H(e.line,e.ch)}function fe(e,t){return F(e,t)<0?t:e}function he(e,t){return F(e,t)<0?e:t}function pe(e,t){this.ranges=e,this.primIndex=t}function L(e,t){this.anchor=e,this.head=t}function O(e,t){var n=e[t];e.sort(function(e,t){return F(e.from(),t.from())}),t=g(e,n);for(var r=1;r<e.length;r++){var i,a,o=e[r],s=e[r-1];0<=F(s.to(),o.from())&&(i=he(s.from(),o.from()),a=fe(s.to(),o.to()),o=s.empty()?o.from()==o.head:s.from()==s.head,r<=t&&--t,e.splice(--r,2,new L(o?a:i,o?i:a)))}return new pe(e,t)}function me(e,t){return new pe([new L(e,t||e)],0)}function ge(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function D(e,t){var n;return t.line<e.first?H(e.first,0):(n=e.first+e.size-1)<t.line?H(n,P(e,n).text.length):(e=P(e,(n=t).line).text.length,null==(t=n.ch)||e<t?H(n.line,e):t<0?H(n.line,0):n)}function ve(e,t){return t>=e.first&&t<e.first+e.size}function be(e,t,n,r){return e.cm&&e.cm.display.shift||e.extend?(e=t.anchor,r&&((t=F(n,e)<0)!=F(r,e)<0?(e=n,n=r):t!=F(n,r)<0&&(n=r)),new L(e,n)):new L(r||n,n)}function ye(e,t,n,r){z(e,new pe([be(e,e.sel.primary(),t,n)],0),r)}function Ae(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=be(e,e.sel.ranges[i],t[i],null);z(e,O(r,e.sel.primIndex),n)}function we(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,z(e,O(i,e.sel.primIndex),r)}function Ce(e,t,n,r){z(e,me(t,n),r)}function xe(e,t,n){var r=e.history.done,i=T(r);(i&&i.ranges?(r[r.length-1]=t,Te):z)(e,t,n)}function z(e,t,n){var r,i,a;Te(e,t,n),r=(t=e).sel,e=e.cm?e.cm.curOp.id:NaN,n=n,i=t.history,a=n&&n.origin,e==i.lastOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||((e,t,n,r)=>"*"==(t=t.charAt(0))||"+"==t&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500))(t,a,T(i.done),r))?i.done[i.done.length-1]=r:Kn(r,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastOp=e,n&&!1!==n.clearRedo&&Gn(i.undone)}function Te(e,t,n){(m(e,"beforeSelectionChange")||e.cm&&m(e.cm,"beforeSelectionChange"))&&(r=e,a={ranges:(i=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new L(D(r,e[t].anchor),D(r,e[t].head))}},M(r,"beforeSelectionChange",r,a),r.cm&&M(r.cm,"beforeSelectionChange",r.cm,a),t=a.ranges!=i.ranges?O(a.ranges,a.ranges.length-1):i);var r,i,a=n&&n.bias||(F(t.primary().head,e.sel.primary().head)<0?-1:1);ke(e,Se(e,t,a,!0)),n&&!1===n.scroll||!e.cm||Gt(e.cm)}function ke(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,or(e.cm)),C(e,"cursorActivity",e))}function Me(e){ke(e,Se(e,e.sel,null,!1))}function Se(e,t,n,r){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=_e(e,o.anchor,n,r),l=_e(e,o.head,n,r);!i&&s==o.anchor&&l==o.head||((i=i||t.ranges.slice(0,a))[a]=new L(s,l))}return i?O(i,t.primIndex):t}function _e(e,t,n,r){var i=!1,a=t,o=n||1;e.cantEdit=!1;e:for(;;){var s=P(e,a.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var c=s.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=a.ch:c.from<a.ch))&&(null==c.to||(u.inclusiveRight?c.to>=a.ch:c.to>a.ch))){if(r&&(M(u,"beforeCursorEnter"),u.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(u.atomic){c=u.find(o<0?-1:1);if(0==F(c,a)&&(c.ch+=o,c.ch<0?c=c.line>e.first?D(e,H(c.line-1)):null:c.ch>s.text.length&&(c=c.line<e.first+e.size-1?H(c.line+1,0):null),!c)){if(i)return r?(e.cantEdit=!0,H(e.first,0)):_e(e,t,n,!0);i=!0,c=t,o=-o}a=c;continue e}}}return a}}function Ee(e){for(var t,n,r,i,a,o,s,l,c=e.display,u=e.doc,d=document.createDocumentFragment(),f=document.createDocumentFragment(),h=0;h<u.sel.ranges.length;h++){var p=u.sel.ranges[h],m=p.empty();(m||e.options.showCursorWhenSelecting)&&(r=d,i=void 0,n=Ke(t=e,(n=p).head,"div"),(i=r.appendChild(k("div","","CodeMirror-cursor"))).style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",n.other&&((i=r.appendChild(k("div","","CodeMirror-cursor CodeMirror-secondarycursor"))).style.display="",i.style.left=n.other.left+"px",i.style.top=n.other.top+"px",i.style.height=.85*(n.other.bottom-n.other.top)+"px")),m||((i,e,t)=>{function h(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(k("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?m-e:n)+"px; height: "+(r-t)+"px"))}function n(n,s,l){function c(e,t){return Ve(i,H(n,e),"div",r,t)}var u,d,r=P(o,n),f=r.text.length;return((e,t,n,r)=>{if(!e)return r(t,n,"ltr");for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<n&&o.to>t||t==n&&o.to==t)&&(r(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")})(x(r),s||0,null==l?f:l,function(e,t,n){var r,i,a,o=c(e,"left");e==t?r=i=(a=o).left:(a=c(t-1,"right"),"rtl"==n&&(n=o,o=a,a=n),r=o.left,i=a.right),null==s&&0==e&&(r=p),3<a.top-o.top&&(h(r,o.top,null,o.bottom),r=p,o.bottom<a.top)&&h(r,o.bottom,null,a.top),null==l&&t==f&&(i=m),(!u||o.top<u.top||o.top==u.top&&o.left<u.left)&&(u=o),(!d||a.bottom>d.bottom||a.bottom==d.bottom&&a.right>d.right)&&(d=a),h(r=r<p+1?p:r,a.top,i-r,a.bottom)}),{start:u,end:d}}var r,a=i.display,o=i.doc,s=document.createDocumentFragment(),p=(l=Pe(i.display)).left,m=a.lineSpace.offsetWidth-l.right,a=e.from(),l=e.to();a.line==l.line?n(a.line,a.ch,l.ch):(e=P(o,a.line),r=P(o,l.line),r=A(e)==A(r),a=n(a.line,a.ch,r?e.text.length+1:null).end,e=n(l.line,r?0:null,l.ch).start,r&&(a.top<e.top-2?(h(a.right,a.top,null,a.bottom),h(p,e.top,e.left,e.bottom)):h(a.right,a.top,e.left-a.right,a.bottom)),a.bottom<e.top&&h(p,a.bottom,null,e.top)),t.appendChild(s)})(e,p,f)}e.options.moveInputWithCursor&&(l=Ke(e,u.sel.primary().head,"div"),a=c.wrapper.getBoundingClientRect(),o=c.lineDiv.getBoundingClientRect(),s=Math.max(0,Math.min(c.wrapper.clientHeight-10,l.top+o.top-a.top)),l=Math.max(0,Math.min(c.wrapper.clientWidth-10,l.left+o.left-a.left)),c.inputDiv.style.top=s+"px",c.inputDiv.style.left=l+"px"),yr(c.cursorDiv,d),yr(c.selectionDiv,f)}function Le(e){var t,n;e.state.focused&&(t=e.display,clearInterval(t.blinker),n=!0,t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate)&&(t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate))}function Oe(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,pr(De,e))}function De(a){var o,s,l=a.doc;l.frontier<l.first&&(l.frontier=l.first),l.frontier>=a.display.viewTo||(o=+new Date+a.options.workTime,s=Ai(l.mode,ze(a,l.frontier)),rt(a,function(){l.iter(l.frontier,Math.min(l.first+l.size,a.display.viewTo+500),function(e){if(l.frontier>=a.display.viewFrom){var t=e.styles,n=_n(a,e,s,!0);e.styles=n.styles,n.classes?e.styleClasses=n.classes:e.styleClasses&&(e.styleClasses=null);for(var r=!t||t.length!=e.styles.length,i=0;!r&&i<t.length;++i)r=t[i]!=e.styles[i];r&&ot(a,l.frontier,"text"),e.stateAfter=Ai(l.mode,s)}else Ln(a,e.text,s),e.stateAfter=0==l.frontier%5?Ai(l.mode,s):null;return++l.frontier,+new Date>o?(Oe(a,a.options.workDelay),!0):void 0})}))}function ze(n,r,e){var i,a,o=n.doc,s=n.display;return!o.mode.startState||(i=((e,t,n)=>{for(var r,i,a=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;o<s;--s){if(s<=a.first)return a.first;var l=P(a,s-1);if(l.stateAfter&&(!n||s<=a.frontier))return s;l=U(l.text,null,e.options.tabSize);(null==i||l<r)&&(i=s-1,r=l)}return i})(n,r,e),a=(a=o.first<i&&P(o,i-1).stateAfter)?Ai(o.mode,a):wi(o.mode),o.iter(i,r,function(e){Ln(n,e.text,a);var t=i==r-1||0==i%5||i>=s.viewFrom&&i<s.viewTo;e.stateAfter=t?Ai(o.mode,a):null,++i}),e&&(o.frontier=i),a)}function $e(e){return e.lineSpace.offsetTop}function Ne(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Pe(e){var t;return e.cachedPaddingH||(t=yr(e.measure,k("pre","x")),t=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,t={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)},isNaN(t.left)||isNaN(t.right)||(e.cachedPaddingH=t),t)}function Ie(e,t,n,r){return He(e,We(e,t),n,r)}function Be(e,t){return t>=e.display.viewFrom&&t<e.display.viewTo?e.display.view[lt(e,t)]:(e=e.display.externalMeasured)&&t>=e.lineN&&t<e.lineN+e.size?e:void 0}function We(e,t){var n,r,i=h(t),a=Be(e,i),e=(a&&!a.text?a=null:a&&a.changes&&ae(e,a,i,ie(e)),a||(e=e,r=h(n=A(n=t)),(n=e.display.externalMeasured=new it(e.doc,n,r)).lineN=r,r=n.built=Dn(e,n),n.text=r.pre,yr(e.display.lineMeasure,r.pre),a=n),((e,t,n)=>{if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(r=0;r<e.rest.length;r++)if(h(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}})(a,t,i));return{line:t,view:a,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function He(e,t,n,r){var i,a=(n=t.before?-1:n)+(r||"");if(t.cache.hasOwnProperty(a))i=t.cache[a];else{if(t.rect||(t.rect=t.view.text.getBoundingClientRect()),!t.hasHeights){var o=e,s=t.view,l=t.rect,c=o.options.lineWrapping,o=c&&o.display.scroller.clientWidth;if(!s.measure.heights||c&&s.measure.width!=o){var u=s.measure.heights=[];if(c){s.measure.width=o;for(var d=s.text.firstChild.getClientRects(),f=0;f<d.length-1;f++){var h=d[f],p=d[f+1];2<Math.abs(h.bottom-p.bottom)&&u.push((h.bottom+p.top)/2-l.top)}}u.push(l.bottom-l.top)}t.hasHeights=!0}(i=((e,t,n,r)=>{for(var i,a,o,s,l,c=t.map,u=0;u<c.length;u+=3){var d=c[u],f=c[u+1];if(n<d?(a=0,o=1,s="left"):n<f?o=(a=n-d)+1:(u==c.length-3||n==f&&c[u+3]>n)&&(a=(o=f-d)-1,f<=n)&&(s="right"),null!=a){if(i=c[u+2],d==f&&r==(i.insertLeft?"left":"right")&&(s=r),"left"==r&&0==a)for(;u&&c[u-2]==c[u-3]&&c[u-1].insertLeft;)i=c[2+(u-=3)],s="left";if("right"==r&&a==f-d)for(;u<c.length-3&&c[u+3]==c[u+4]&&!c[u+5].insertLeft;)i=c[(u+=3)+2],s="right";break}}if(3==i.nodeType){for(;a&&vr(t.line.text.charAt(d+a));)--a;for(;d+o<f&&vr(t.line.text.charAt(d+o));)++o;l=I&&0==a&&o==f-d?i.parentNode.getBoundingClientRect():B&&e.options.lineWrapping?(m=Ji(i,a,o).getClientRects()).length?m["right"==r?m.length-1:0]:ii:Ji(i,a,o).getBoundingClientRect()||ii}else 0<a&&(s=r="right"),l=e.options.lineWrapping&&1<(m=i.getClientRects()).length?m["right"==r?m.length-1:0]:i.getBoundingClientRect();!I||a||l&&(l.left||l.right)||(m=i.parentNode.getClientRects()[0],l=m?{left:m.left,right:m.left+et(e.display),top:m.top,bottom:m.bottom}:ii);for(var h=(l.bottom+l.top)/2-t.rect.top,p=t.view.measure.heights,u=0;u<p.length-1&&!(h<p[u]);u++);e=u?p[u-1]:0,h=p[u];var m={left:("right"==s?l.right:l.left)-t.rect.left,right:("left"==s?l.left:l.right)-t.rect.left,top:e,bottom:h};return l.left||l.right||(m.bogus=!0),m})(e,t,n,r)).bogus||(t.cache[a]=i)}return{left:i.left,right:i.right,top:i.top,bottom:i.bottom}}function Fe(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function je(e){e.display.externalMeasure=null,br(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Fe(e.display.view[t])}function Re(e){je(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ue(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ye(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function qe(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i){var a;t.widgets[i].above&&(a=xn(t.widgets[i]),n.top+=a,n.bottom+=a)}var o;return"line"!=r&&(r=r||"local",o=Un(t),"local"==r?o+=$e(e.display):o-=e.display.viewOffset,"page"!=r&&"window"!=r||(o+=(e=e.display.lineSpace.getBoundingClientRect()).top+("window"==r?0:Ye()),e=e.left+("window"==r?0:Ue()),n.left+=e,n.right+=e),n.top+=o,n.bottom+=o),n}function Ge(e,t,n){var r;return"div"==n?t:(r=t.left,t=t.top,"page"==n?(r-=Ue(),t-=Ye()):"local"!=n&&n||(r+=(n=e.display.sizer.getBoundingClientRect()).left,t+=n.top),{left:r-(n=e.display.lineSpace.getBoundingClientRect()).left,top:t-n.top})}function Ve(e,t,n,r,i){return qe(e,r=r||P(e.doc,t.line),Ie(e,r,t.ch,i),n)}function Ke(n,e,r,i,a){function o(e,t){e=He(n,a,e,t?"right":"left");return t?e.left=e.right:e.right=e.left,qe(n,i,e,r)}function t(e,t){var n=l[t],r=n.level%2;return e==Sr(n)&&t&&n.level<l[t-1].level?(e=_r(n=l[--t])-(n.level%2?0:1),r=!0):e==_r(n)&&t<l.length-1&&n.level<l[t+1].level&&(e=Sr(n=l[++t])-n.level%2,r=!1),r&&e==n.to&&e>n.from?o(e-1):o(e,r)}i=i||P(n.doc,e.line),a=a||We(n,i);var s,l=x(i),e=e.ch;return l?(s=t(e,Dr(l,e)),null!=sa&&(s.other=t(e,sa)),s):o(e)}function Xe(e,t){var n=0,t=D(e.doc,t),t=(e.options.lineWrapping||(n=et(e.display)*t.ch),P(e.doc,t.line)),e=Un(t)+$e(e.display);return{left:n,right:n,top:e,bottom:e+t.height}}function Je(e,t,n,r){e=H(e,t);return e.xRel=r,n&&(e.outside=!0),e}function Ze(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Je(r.first,0,!0,-1);var i=Rn(r,n),a=r.first+r.size-1;if(a<i)return Je(r.first+r.size-1,P(r,a).text.length,!0,1);t<0&&(t=0);for(var o=P(r,i);;){var s=((t,n,r,e,i)=>{function a(e){e=Ke(t,H(r,e),"line",n,c);return s=!0,o>e.bottom?e.left-l:o<e.top?e.left+l:(s=!1,e.left)}var o=i-Un(n),s=!1,l=2*t.display.wrapper.clientWidth,c=We(t,n),u=x(n),d=n.text.length,f=Er(n),h=Lr(n),p=a(f),m=s,g=a(h),v=s;if(g<e)return Je(r,h,v,1);for(;;){if(u?h==f||h==$r(n,f,1):h-f<=1){for(var b=e<p||e-p<=g-e?f:h,y=e-(b==f?p:g);vr(n.text.charAt(b));)++b;return Je(r,b,b==f?m:v,y<-1?-1:1<y?1:0)}var A=Math.ceil(d/2),w=f+A;if(u){w=f;for(var C=0;C<A;++C)w=$r(n,w,1)}y=a(w);e<y?(h=w,g=y,(v=s)&&(g+=1e3),d=A):(f=w,p=y,m=s,d-=A)}})(e,o,i,t,n),l=vn(o),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&0<s.xRel))return s;i=h(o=c.to.line)}}function Qe(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==ti){ti=k("pre");for(var t=0;t<49;++t)ti.appendChild(document.createTextNode("x")),ti.appendChild(k("br"));ti.appendChild(document.createTextNode("x"))}yr(e.measure,ti);var n=ti.offsetHeight/50;return 3<n&&(e.cachedTextHeight=n),br(e.measure),n||1}function et(e){var t,n;return null!=e.cachedCharWidth?e.cachedCharWidth:(n=k("span","xxxxxxxxxx"),t=k("pre",[n]),yr(e.measure,t),2<(n=((t=n.getBoundingClientRect()).right-t.left)/10)&&(e.cachedCharWidth=n),n||10)}function tt(e){e.curOp={viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++ai},Fi++||(Ii=[])}function nt(e){var t,n,r,i,a=e.curOp,o=e.doc,s=e.display,l=(e.curOp=null,a.updateMaxLine&&K(e),(a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<s.viewFrom||a.scrollToPos.to.line>=s.viewTo)||s.maxLineChanged&&e.options.lineWrapping)&&(t=ne(e,{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate),e.display.scroller.offsetHeight)&&(e.doc.scrollTop=e.display.scroller.scrollTop),!t&&a.selectionChanged&&Ee(e),t||a.startHeight==e.doc.height||Z(e),null==s.wheelStartX||null==a.scrollTop&&null==a.scrollLeft&&!a.scrollToPos||(s.wheelStartX=s.wheelStartY=null),null!=a.scrollTop&&s.scroller.scrollTop!=a.scrollTop&&(t=Math.max(0,Math.min(s.scroller.scrollHeight-s.scroller.clientHeight,a.scrollTop)),s.scroller.scrollTop=s.scrollbarV.scrollTop=o.scrollTop=t),null!=a.scrollLeft&&s.scroller.scrollLeft!=a.scrollLeft&&(t=Math.max(0,Math.min(s.scroller.scrollWidth-s.scroller.clientWidth,a.scrollLeft)),s.scroller.scrollLeft=s.scrollbarH.scrollLeft=o.scrollLeft=t,ee(e)),a.scrollToPos&&(s=((e,t,n,r)=>{for(null==r&&(r=0);;){var i=!1,a=Ke(e,t),o=n&&n!=t?Ke(e,n):a,o=Yt(e,Math.min(a.left,o.left),Math.min(a.top,o.top)-r,Math.max(a.left,o.left),Math.max(a.bottom,o.bottom)+r),s=e.doc.scrollTop,l=e.doc.scrollLeft;if(null!=o.scrollTop&&(xt(e,o.scrollTop),1<Math.abs(e.doc.scrollTop-s))&&(i=!0),!(i=null!=o.scrollLeft&&(Tt(e,o.scrollLeft),1<Math.abs(e.doc.scrollLeft-l))?!0:i))return a}})(e,D(e.doc,a.scrollToPos.from),D(e.doc,a.scrollToPos.to),a.scrollToPos.margin),a.scrollToPos.isCursor)&&e.state.focused&&(o=s,s=(t=e).display,n=s.sizer.getBoundingClientRect(),r=null,o.top+n.top<0?r=!0:o.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null==r||Yr||(n=k("div","",null,"position: absolute; top: "+(o.top-s.viewOffset-$e(t.display))+"px; height: "+(o.bottom-o.top+S)+"px; left: "+o.left+"px; width: 2px;"),t.display.lineSpace.appendChild(n),n.scrollIntoView(r),t.display.lineSpace.removeChild(n))),a.selectionChanged&&Le(e),e.state.focused&&a.updateInput&&y(e,a.typing),a.maybeHiddenMarkers),c=a.maybeUnhiddenMarkers;if(l)for(var u=0;u<l.length;++u)l[u].lines.length||M(l[u],"hide");if(c)for(u=0;u<c.length;++u)c[u].lines.length&&M(c[u],"unhide");if(--Fi||(i=Ii,Ii=null),a.changeObjs&&M(e,"changes",e,a.changeObjs),i)for(u=0;u<i.length;++u)i[u]();if(a.cursorActivityHandlers)for(u=0;u<a.cursorActivityHandlers.length;u++)a.cursorActivityHandlers[u](e)}function rt(e,t){if(e.curOp)return t();tt(e);try{return t()}finally{nt(e)}}function $(e,t){return function(){if(e.curOp)return t.apply(e,arguments);tt(e);try{return t.apply(e,arguments)}finally{nt(e)}}}function e(e){return function(){if(this.curOp)return e.apply(this,arguments);tt(this);try{return e.apply(this,arguments)}finally{nt(this)}}}function t(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);tt(e);try{return t.apply(this,arguments)}finally{nt(e)}}}function it(e,t,n){this.line=t,this.rest=(e=>{for(var t,n;t=vn(e);)e=t.find(1,!0).line,(n=n||[]).push(e);return n})(t),this.size=this.rest?h(T(this.rest))-n+1:1,this.node=this.text=null,this.hidden=wn(e,t)}function at(e,t,n){for(var r=[],i=t;i<n;i=o){var a=new it(e.doc,P(e.doc,i),i),o=i+a.size;r.push(a)}return r}function b(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size);var i,a=e.display,o=((r=r||0)&&n<a.viewTo&&(null==a.updateLineNumbers||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo?ei&&yn(e.doc,t)<a.viewTo&&st(e):n<=a.viewFrom?ei&&An(e.doc,n+r)>a.viewFrom?st(e):(a.viewFrom+=r,a.viewTo+=r):t<=a.viewFrom&&n>=a.viewTo?st(e):t<=a.viewFrom?(o=ct(e,n,n+r,1))?(a.view=a.view.slice(o.index),a.viewFrom=o.lineN,a.viewTo+=r):st(e):n>=a.viewTo?(o=ct(e,t,t,-1))?(a.view=a.view.slice(0,o.index),a.viewTo=o.lineN):st(e):(o=ct(e,t,t,-1),i=ct(e,n,n+r,1),o&&i?(a.view=a.view.slice(0,o.index).concat(at(e,o.lineN,i.lineN)).concat(a.view.slice(i.index)),a.viewTo+=r):st(e)),a.externalMeasured);o&&(n<o.lineN?o.lineN+=r:t<o.lineN+o.size&&(a.externalMeasured=null))}function ot(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),t<r.viewFrom||t>=r.viewTo||null!=(i=r.view[lt(e,t)]).node&&-1==g(r=i.changes||(i.changes=[]),n)&&r.push(n)}function st(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function lt(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function ct(e,t,n,r){var i,a=lt(e,t),o=e.display.view;if(ei&&n!=e.doc.first+e.doc.size){for(var s=0,l=e.display.viewFrom;s<a;s++)l+=o[s].size;if(l!=t){if(0<r){if(a==o.length-1)return null;i=l+o[a].size-t,a++}else i=l-t;t+=i,n+=i}for(;yn(e.doc,n)!=n;){if(a==(r<0?0:o.length-1))return null;n+=r*o[a-(r<0?1:0)].size,a+=r}}return{index:a,lineN:n}}function ut(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function dt(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){ht(e),e.state.focused&&dt(e)})}function ft(t){var n=!1;t.display.pollingFast=!0,t.display.poll.set(20,function e(){ht(t)||n?(t.display.pollingFast=!1,dt(t)):(n=!0,t.display.poll.set(60,e))})}function ht(e){var t=e.display.input,n=e.display.prevInput,r=e.doc;if(!e.state.focused||ia(t)&&!n||mt(e)||e.options.disableInput)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(B&&!I&&e.display.inputHasSelection===i)return y(e),!1;var a=!e.curOp;a&&tt(e),e.display.shift=!1,8203==i.charCodeAt(0)&&r.sel==e.display.selForContextMenu&&(n=n||"");for(var o=0,s=Math.min(n.length,i.length);o<s&&n.charCodeAt(o)==i.charCodeAt(o);)++o;for(var l=i.slice(o),c=ra(l),u=e.state.pasteIncoming&&1<c.length&&r.sel.ranges.length==c.length,d=r.sel.ranges.length-1;0<=d;d--){var f=r.sel.ranges[d],h=f.from(),p=f.to(),m=(o<n.length?h=H(h.line,h.ch-(n.length-o)):e.state.overwrite&&f.empty()&&!e.state.pasteIncoming&&(p=H(p.line,Math.min(P(r,p.line).text.length,p.ch+T(c).length))),e.curOp.updateInput),h={from:h,to:p,text:u?[c[d]]:c,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(Wt(e.doc,h),C(e,"inputRead",e,h),l&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&f.head.ch<100&&(!d||r.sel.ranges[d-1].head.line!=f.head.line)){var g=e.getModeAt(f.head);if(g.electricChars){for(var v=0;v<g.electricChars.length;v++)if(-1<l.indexOf(g.electricChars.charAt(v))){Kt(e,f.head.line,"smart");break}}else g.electricInput&&(p=di(h),g.electricInput.test(P(r,p.line).text.slice(0,p.ch)))&&Kt(e,f.head.line,"smart")}}return Gt(e),e.curOp.updateInput=m,e.curOp.typing=!0,1e3<i.length||-1<i.indexOf("\n")?t.value=e.display.prevInput="":e.display.prevInput=i,a&&nt(e),!(e.state.pasteIncoming=e.state.cutIncoming=!1)}function y(e,t){var n,r,i=e.doc;e.somethingSelected()?(e.display.prevInput="",i=i.sel.primary(),i=(r=aa&&(100<i.to().line-i.from().line||1e3<(n=e.getSelection()).length))?"-":n||e.getSelection(),e.display.input.value=i,e.state.focused&&Gi(e.display.input),B&&!I&&(e.display.inputHasSelection=i)):t||(e.display.prevInput=e.display.input.value="",B&&!I&&(e.display.inputHasSelection=null)),e.display.inaccurateSelection=r}function N(e){"nocursor"==e.options.readOnly||Gr&&Ar()==e.display.input||e.display.input.focus()}function pt(e){e.state.focused||(N(e),Dt(e))}function mt(e){return e.options.readOnly||e.doc.cantEdit}function gt(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,e.setSize()}function vt(e,t){for(var n=nr(t);n!=e.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==e.sizer&&n!=e.mover)return 1}function bt(e,t,n,r){var i=e.display;if(!n){n=nr(t);if(n==i.scrollbarH||n==i.scrollbarV||n==i.scrollbarFiller||n==i.gutterFiller)return null}var a,n=i.lineSpace.getBoundingClientRect();try{a=t.clientX-n.left,o=t.clientY-n.top}catch(t){return null}var o,i=Ze(e,a,o);return r&&1==i.xRel&&(n=P(e.doc,i.line).text).length==i.ch&&(o=U(n,n.length,e.options.tabSize)-n.length,i=H(i.line,Math.max(0,Math.round((a-Pe(e.display).left)/et(e.display))-o))),i}function yt(e){if(!ar(this,e)){var t=this.display;if(t.shift=e.shiftKey,vt(t,e))W||(t.scroller.draggable=!1,setTimeout(function(){t.scroller.draggable=!0},100));else if(!wt(this,e)){var n=bt(this,e);switch(window.focus(),rr(e)){case 1:if(n){f=this,h=e,p=n,setTimeout(pr(pt,f),0),_=+new Date,ri&&ri.time>_-400&&0==F(ri.pos,p)?m="triple":ni&&ni.time>_-400&&0==F(ni.pos,p)?(m="double",ri={time:_,pos:p}):(m="single",ni={time:_,pos:p}),_=f.doc.sel,E=Vr?h.metaKey:h.ctrlKey;if(f.options.dragDrop&&na&&!mt(f)&&"single"==m&&-1<_.contains(p)&&_.somethingSelected()){var r=f;var i=h;var a=p;var o=E;var s=r.display,l=$(r,function(e){W&&(s.scroller.draggable=!1),r.state.draggingText=!1,Hi(document,"mouseup",l),Hi(s.scroller,"drop",l),Math.abs(i.clientX-e.clientX)+Math.abs(i.clientY-e.clientY)<10&&(j(e),o||ye(r.doc,a),N(r),Ir)&&!I&&setTimeout(function(){document.body.focus(),N(r)},20)});W&&(s.scroller.draggable=!0),r.state.draggingText=l,s.scroller.dragDrop&&s.scroller.dragDrop(),R(document,"mouseup",l),R(s.scroller,"drop",l)}else{var g=f;_=h;var v=p;var b=m;f=E;function y(e){var t=++S,n=bt(g,e,!0,"rect"==b);if(n)if(0!=F(n,k)){pt(g);var r=n;if(0!=F(k,r))if(k=r,"rect"==b){for(var i=[],a=g.options.tabSize,o=U(P(w,v.line).text,v.ch,a),s=U(P(w,r.line).text,r.ch,a),l=Math.min(o,s),c=Math.max(o,s),u=Math.min(v.line,r.line),d=Math.min(g.lastLine(),Math.max(v.line,r.line));u<=d;u++){var f=P(w,u).text,h=cr(f,l,a);l==c?i.push(new L(H(u,h),H(u,h))):f.length>h&&i.push(new L(H(u,h),H(u,cr(f,c,a))))}i.length||i.push(new L(v,v)),z(w,O(T.ranges.slice(0,x).concat(i),x),{origin:"*mouse",scroll:!1}),g.scrollIntoView(r)}else{var o=C,s=o.anchor,p=r;"single"!=b&&(r="double"==b?en(g,r):new L(H(r.line,0),D(w,H(r.line+1,0))),s=0<F(r.anchor,s)?(p=r.head,he(o.from(),r.anchor)):(p=r.anchor,fe(o.to(),r.head))),(i=T.ranges.slice(0))[x]=new L(D(w,s),p),z(w,O(i,x),Ui)}o=Q(A,w);(n.line>=o.to||n.line<o.from)&&setTimeout($(g,function(){S==t&&y(e)}),150)}else{var m=e.clientY<M.top?-20:e.clientY>M.bottom?20:0;m&&setTimeout($(g,function(){S==t&&(A.scroller.scrollTop+=m,y(e))}),50)}}function c(e){S=1/0,j(e),N(g),Hi(document,"mousemove",u),Hi(document,"mouseup",d),w.history.lastSelOrigin=null}var A=g.display,w=g.doc;j(_);var C,x,T=w.sel,k=(C=f&&!_.shiftKey?-1<(x=w.sel.contains(v))?w.sel.ranges[x]:new L(v,v):w.sel.primary(),_.altKey?(b="rect",f||(C=new L(v,v)),v=bt(g,_,!0,!0),x=-1):C="double"==b?(_=en(g,v),g.display.shift||w.extend?be(w,C,_.anchor,_.head):_):"triple"==b?(_=new L(H(v.line,0),D(w,H(v.line+1,0))),g.display.shift||w.extend?be(w,C,_.anchor,_.head):_):be(w,C,v),f?-1<x?we(w,x,C,Ui):(x=w.sel.ranges.length,z(w,O(w.sel.ranges.concat([C]),x),{scroll:!1,origin:"*mouse"})):(z(w,new pe([C],x=0),Ui),T=w.sel),v),M=A.wrapper.getBoundingClientRect(),S=0,u=$(g,function(e){((B&&!Wr?e.buttons:rr(e))?y:c)(e)}),d=$(g,c);R(document,"mousemove",u),R(document,"mouseup",d)}}else nr(e)==t.scroller&&j(e);break;case 2:W&&(this.state.lastMiddleDown=+new Date),n&&ye(this.doc,n),setTimeout(pr(N,this),20),j(e);break;case 3:Zr&&$t(this,e)}}}var f,h,p,m,_,E}function At(e,t,n,r,i){try{var a=t.clientX,o=t.clientY}catch(t){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&j(t);var s=e.display,r=s.lineDiv.getBoundingClientRect();if(o>r.bottom||!m(e,n))return tr(t);o-=r.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=a)return i(e,n,e,Rn(e.doc,o),e.options.gutters[l],t),tr(t)}}function wt(e,t){return At(e,t,"gutterClick",!0,C)}function Ct(e){var r=this;if(!ar(r,e)&&!vt(r.display,e)){j(e),B&&(oi=+new Date);var t,i=bt(r,e,!0),n=e.dataTransfer.files;if(i&&!mt(r))if(n&&n.length&&window.FileReader&&window.File)for(var a=n.length,o=Array(a),s=0,l=0;l<a;++l)((e,t)=>{var n=new FileReader;n.onload=$(r,function(){var e;o[t]=n.result,++s==a&&(e={from:i=D(r.doc,i),to:i,text:ra(o.join("\n")),origin:"paste"},Wt(r.doc,e),xe(r.doc,me(i,di(e))))}),n.readAsText(e)})(n[l],l);else if(r.state.draggingText&&-1<r.doc.sel.contains(i))r.state.draggingText(e),setTimeout(pr(N,r),20);else try{if(o=e.dataTransfer.getData("Text")){if(r.state.draggingText&&!(Vr?e.metaKey:e.ctrlKey)&&(t=r.listSelections()),Te(r.doc,me(i,i)),t)for(l=0;l<t.length;++l)Ut(r.doc,"",t[l].anchor,t[l].head,"drag");r.replaceSelection(o,"around","paste"),N(r)}}catch(e){}}}function xt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Pr||ne(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),Pr&&ne(e),Oe(e,100))}function Tt(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,ee(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function kt(e,t){var n,r,i,a=t.wheelDeltaX,o=t.wheelDeltaY,s=(null==a&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(a=t.detail),null==o&&t.detail&&t.axis==t.VERTICAL_AXIS?o=t.detail:null==o&&(o=t.wheelDelta),e.display),l=s.scroller;if(a&&l.scrollWidth>l.clientWidth||o&&l.scrollHeight>l.clientHeight){if(o&&Vr&&W)e:for(var c=t.target,u=s.view;c!=l;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(a&&!Pr&&!f&&null!=v)return o&&xt(e,Math.max(0,Math.min(l.scrollTop+o*v,l.scrollHeight-l.clientHeight))),Tt(e,Math.max(0,Math.min(l.scrollLeft+a*v,l.scrollWidth-l.clientWidth))),j(t),s.wheelStartX=null;o&&null!=v&&(n=o*v,i=(r=e.doc.scrollTop)+s.wrapper.clientHeight,n<0?r=Math.max(0,r+n-50):i=Math.min(e.doc.height,i+n+50),ne(e,{top:r,bottom:i})),si<20&&(null==s.wheelStartX?(s.wheelStartX=l.scrollLeft,s.wheelStartY=l.scrollTop,s.wheelDX=a,s.wheelDY=o,setTimeout(function(){var e,t;null!=s.wheelStartX&&(e=l.scrollLeft-s.wheelStartX,t=(t=l.scrollTop-s.wheelStartY)&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX,s.wheelStartX=s.wheelStartY=null,t)&&(v=(v*si+t)/(si+1),++si)},200)):(s.wheelDX+=a,s.wheelDY+=o))}}function Mt(e,t,n){if("string"==typeof t&&!(t=Ci[t]))return!1;e.display.pollingFast&&ht(e)&&(e.display.pollingFast=!1);var r=e.display.shift,i=!1;try{mt(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=ji}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function St(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function _t(t,e){var n,r=tn(t.options.keyMap),i=r.auto,a=(clearTimeout(li),i&&!ki(e)&&(li=setTimeout(function(){tn(t.options.keyMap)==r&&(t.options.keyMap=i.call?i.call(null,t):i,s(t))},50)),Mi(e,!0));return!!a&&(n=St(t),(n=e.shiftKey?Ti("Shift-"+a,n,function(e){return Mt(t,e,!0)})||Ti(a,n,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?Mt(t,e):void 0}):Ti(a,n,function(e){return Mt(t,e)}))&&(j(e),Le(t),C(t,"keyHandled",t,a,e)),n)}function Et(e){var t,n,r;function i(e){18!=e.keyCode&&e.altKey||(Cr(r,"CodeMirror-crosshair"),Hi(document,"keyup",i),Hi(document,"mouseover",i))}pt(this),ar(this,e)||(Ir&&27==e.keyCode&&(e.returnValue=!1),t=e.keyCode,this.display.shift=16==t||e.shiftKey,n=_t(this,e),f&&(ui=n?t:null,!n)&&88==t&&!aa&&(Vr?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut"),18!=t)||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||(xr(r=this.display.lineDiv,"CodeMirror-crosshair"),R(document,"keyup",i),R(document,"mouseover",i))}function Lt(e){ar(this,e)||16==e.keyCode&&(this.doc.sel.shift=!1)}function Ot(e){var t,n,r;ar(this,e)||(r=e.keyCode,n=e.charCode,f&&r==ui?(ui=null,j(e)):(f&&(!e.which||e.which<10)||Rr)&&_t(this,e)||(r=String.fromCharCode(null==n?r:n),n=e,(r=Ti("'"+(e=r)+"'",St(t=this),function(e){return Mt(t,e,!0)}))&&(j(n),Le(t),C(t,"keyHandled",t,"'"+e+"'",n)),r)||(B&&!I&&(this.display.inputHasSelection=null),ft(this)))}function Dt(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(M(e,"focus",e),e.state.focused=!0,xr(e.display.wrapper,"CodeMirror-focused"),e.curOp)||e.display.selForContextMenu==e.doc.sel||(y(e),W&&setTimeout(pr(y,e,!0),0)),dt(e),Le(e))}function zt(e){e.state.focused&&(M(e,"blur",e),e.state.focused=!1,Cr(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function $t(n,e){function r(){var e,t;null!=i.input.selectionStart&&(e=n.somethingSelected(),t=i.input.value=""+(e?i.input.value:""),i.prevInput=e?"":"",i.input.selectionStart=1,i.input.selectionEnd=t.length,i.selForContextMenu=n.doc.sel)}function t(){var e,t;i.inputDiv.style.position="relative",i.input.style.cssText=o,I&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=a),dt(n),null!=i.input.selectionStart&&(B&&!I||r(),e=0,t=function(){i.selForContextMenu==n.doc.sel&&0==i.input.selectionStart?$(n,Ci.selectAll)(n):e++<10?i.detectingSelectAll=setTimeout(t,500):y(n)},i.detectingSelectAll=setTimeout(t,200))}var i,a,o,s,l,c;ar(n,e,"contextmenu")||vt(i=n.display,e)||(c=e,m(l=n,"gutterContextMenu")&&At(l,c,"gutterContextMenu",!1,M))||(l=bt(n,e),a=i.scroller.scrollTop,l&&!f&&(n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(l)&&$(n,z)(n.doc,me(l),Ri),o=i.input.style.cssText,i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(B?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",N(n),y(n),n.somethingSelected()||(i.input.value=i.prevInput=" "),i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),B&&!I&&r(),Zr?(Wi(e),s=function(){Hi(window,"mouseup",s),setTimeout(t,20)},R(window,"mouseup",s)):setTimeout(t,50)))}function Nt(e,t){var n,r;return F(e,t.from)<0?e:F(e,t.to)<=0?di(t):(n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch,e.line==t.to.line&&(r+=di(t).ch-t.to.ch),H(n,r))}function Pt(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new L(Nt(i.anchor,t),Nt(i.head,t)))}return O(n,e.sel.primIndex)}function It(e,t,n){return e.line==t.line?H(n.line,e.ch-t.ch+n.ch):H(n.line+(e.line-t.line),e.ch)}function Bt(i,e,t){e={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return t&&(e.update=function(e,t,n,r){e&&(this.from=D(i,e)),t&&(this.to=D(i,t)),n&&(this.text=n),void 0!==r&&(this.origin=r)}),M(i,"beforeChange",i,e),i.cm&&M(i.cm,"beforeChange",i.cm,e),e.canceled?null:{from:e.from,to:e.to,text:e.text,origin:e.origin}}function Wt(e,t,n){if(e.cm){if(!e.cm.curOp)return $(e.cm,Wt)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(m(e,"beforeChange")||e.cm&&m(e.cm,"beforeChange"))||(t=Bt(e,t,!0))){var r=Qr&&!n&&((e,t,n)=>{var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=g(r,n)||(r=r||[]).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],a=0;a<r.length;++a)for(var o=r[a],s=o.find(0),l=0;l<i.length;++l){var c,u,d,f=i[l];F(f.to,s.from)<0||0<F(f.from,s.to)||(c=[l,1],u=F(f.from,s.from),d=F(f.to,s.to),(u<0||!o.inclusiveLeft&&!u)&&c.push({from:f.from,to:s.from}),(0<d||!o.inclusiveRight&&!d)&&c.push({from:s.to,to:f.to}),i.splice.apply(i,c),l+=c.length-1)}return i})(e,t.from,t.to);if(r)for(var i=r.length-1;0<=i;--i)Ht(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Ht(e,t)}}function Ht(e,n){var t,r;1==n.text.length&&""==n.text[0]&&0==F(n.from,n.to)||(t=Pt(e,n),Vn(e,n,t,e.cm?e.cm.curOp.id:NaN),Rt(e,n,t,sn(e,n)),r=[],Wn(e,function(e,t){t||-1!=g(r,e.history)||(er(e.history,n),r.push(e.history)),Rt(e,n,null,sn(e,n))}))}function Ft(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,a=e.sel,o="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<o.length&&(r=o[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=o.length){for(i.lastOrigin=i.lastSelOrigin=null;(r=o.pop()).ranges;){if(Kn(r,s),n&&!r.equals(e.sel))return z(e,r,{clearRedo:!1});a=r}var c=[];Kn(a,s),s.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=m(e,"beforeChange")||e.cm&&m(e.cm,"beforeChange"),l=r.changes.length-1;0<=l;--l){var d=r.changes[l];if(d.origin=t,u&&!Bt(e,d,!1))return o.length=0;c.push(qn(e,d));var f=l?Pt(e,d):T(o),h=(Rt(e,d,f,cn(e,d)),!l&&e.cm&&e.cm.scrollIntoView(d),[]);Wn(e,function(e,t){t||-1!=g(h,e.history)||(er(e.history,d),h.push(e.history)),Rt(e,d,null,cn(e,d))})}}}}function jt(e,t){if(0!=t&&(e.first+=t,e.sel=new pe(dr(e.sel.ranges,function(e){return new L(H(e.anchor.line+t,e.anchor.ch),H(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){b(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)ot(e.cm,r,"gutter")}}function Rt(e,t,n,r){if(e.cm&&!e.cm.curOp)return $(e.cm,Rt)(e,t,n,r);if(t.to.line<e.first)jt(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){t.from.line<e.first&&(jt(e,i=t.text.length-1-(e.first-t.from.line)),t={from:H(e.first,0),to:H(t.to.line+i,t.to.ch),text:[T(t.text)],origin:t.origin});var i=e.lastLine();if((t=t.to.line>i?{from:t.from,to:H(i,P(e,i).text.length),text:[t.text[0]],origin:t.origin}:t).removed=Fn(e,t.from,t.to),n=n||Pt(e,t),e.cm){i=e.cm;var a=t;var o=r;var s=i.doc,l=i.display,c=a.from,u=a.to,d=!1,f=c.line,o=(i.options.lineWrapping||(f=h(A(P(s,c.line))),s.iter(f,u.line+1,function(e){return e==l.maxLine?d=!0:void 0})),-1<s.sel.contains(a.from,a.to)&&or(i),Pn(s,a,o,E(i)),i.options.lineWrapping||(s.iter(f,c.line+a.text.length,function(e){var t=V(e);t>l.maxLineLength&&(l.maxLine=e,l.maxLineLength=t,l.maxLineChanged=!0,d=!1)}),d&&(i.curOp.updateMaxLine=!0)),s.frontier=Math.min(s.frontier,c.line),Oe(i,400),a.text.length-(u.line-c.line)-1),f=(c.line!=u.line||1!=a.text.length||Nn(i.doc,a)?b(i,c.line,u.line+1,o):ot(i,c.line,"text"),m(i,"changes"));((s=m(i,"change"))||f)&&(o={from:c,to:u,text:a.text,removed:a.removed,origin:a.origin},s&&C(i,"change",i,o),f)&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(o),i.display.selForContextMenu=null}else Pn(e,t,r);Te(e,n,Ri)}}function Ut(e,t,n,r,i){var a;F(r=r||n,n)<0&&(a=r,r=n,n=a),Wt(e,{from:n,to:r,text:t="string"==typeof t?ra(t):t,origin:i})}function Yt(e,t,n,r,i){var a=e.display,o=Qe(e.display),s=(e.curOp&&null!=e.curOp.scrollTop?e.curOp:a.scroller).scrollTop,l=a.scroller.clientHeight-S,c={},u=e.doc.height+Ne(a),d=u-o<i,n=((n=n<0?0:n)<s?c.scrollTop=n<o?0:n:s+l<i&&(o=Math.min(n,(d?u:i)-l))!=s&&(c.scrollTop=o),(e.curOp&&null!=e.curOp.scrollLeft?e.curOp:a.scroller).scrollLeft),d=a.scroller.clientWidth-S,u=(t+=a.gutters.offsetWidth,r+=a.gutters.offsetWidth,a.gutters.offsetWidth),i=t<u+10;return t<n+u||i?(i&&(t=0),c.scrollLeft=Math.max(0,t-10-u)):d+n-3<r&&(c.scrollLeft=r+10-d),c}function qt(e,t,n){null==t&&null==n||Vt(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc:e.curOp).scrollLeft+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc:e.curOp).scrollTop+n)}function Gt(e){Vt(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?H(t.line,t.ch-1):t,r=H(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Vt(e){var t,n,r=e.curOp.scrollToPos;r&&(e.curOp.scrollToPos=null,n=Xe(e,r.from),t=Xe(e,r.to),n=Yt(e,Math.min(n.left,t.left),Math.min(n.top,t.top)-r.margin,Math.max(n.right,t.right),Math.max(n.bottom,t.bottom)+r.margin),e.scrollTo(n.scrollLeft,n.scrollTop))}function Kt(e,t,n,r){var i,a=e.doc,o=("smart"==(n=null==n?"add":n)&&(e.doc.mode.indent?i=ze(e,t):n="prev"),e.options.tabSize),s=P(a,t),l=U(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(u=e.doc.mode.indent(i,s.text.slice(c.length),s.text))==ji){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>a.first?U(P(a,t-1).text,null,o):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n);var u=Math.max(0,u),d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(u/o);h;--h)f+=o,d+="\t";if(f<u&&(d+=ur(u-f)),d!=c)Ut(e.doc,d,H(t,0),H(t,c.length),"+input");else for(h=0;h<a.sel.ranges.length;h++){var p=a.sel.ranges[h];if(p.head.line==t&&p.head.ch<c.length){we(a,h,new L(f=H(t,c.length),f));break}}s.stateAfter=null}function Xt(e,t,n,r){var i=t,a=t,o=e.doc;return"number"==typeof t?a=P(o,ge(o,t)):i=h(t),null==i?null:(r(a,i)&&ot(e,i,n),a)}function Jt(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var a=e(n[i]);r.length&&F(a.from,T(r).to)<=0;){var o=r.pop();if(F(o.from,a.from)<0){a.from=o.from;break}}r.push(a)}rt(t,function(){for(var e=r.length-1;0<=e;e--)Ut(t.doc,"",r[e].from,r[e].to,"+delete");Gt(t)})}function Zt(n,e,r,t,i){function a(e){var t=(i?$r:Nr)(c,s,r,!0);if(null==t){if(e||!((e=o+r)<n.first||e>=n.first+n.size?u=!1:c=P(n,o=e)))return u=!1;s=i?(r<0?Lr:Er)(c):r<0?c.text.length:0}else s=t;return 1}var o=e.line,s=e.ch,l=r,c=P(n,o),u=!0;if("char"==t)a();else if("column"==t)a(!0);else if("word"==t||"group"==t)for(var d=null,f="group"==t,h=n.cm&&n.cm.getHelper(e,"wordChars"),p=!0;!(r<0)||a(!p);p=!1){var m=c.text.charAt(s)||"\n",m=mr(m,h)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(f&&!p&&(m=m||"s"),d&&d!=m){r<0&&(r=1,a());break}if(m&&(d=m),0<r&&!a(!p))break}t=_e(n,H(o,s),l,!0);return u||(t.hitSide=!0),t}function Qt(e,t,n,r){var i,a,o=e.doc,s=t.left;for("page"==r?(i=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=t.top+n*(i-(n<0?1.5:.5)*Qe(e.display))):"line"==r&&(a=0<n?t.bottom+3:t.top-3);;){var l=Ze(e,s,a);if(!l.outside)break;if(n<0?a<=0:a>=o.height){l.hitSide=!0;break}a+=5*n}return l}function en(e,t){var n=P(e.doc,t.line).text,r=t.ch,i=t.ch;if(n){var a=e.getHelper(t,"wordChars");(t.xRel<0||i==n.length)&&r?--r:++i;for(var e=n.charAt(r),o=mr(e,a)?function(e){return mr(e,a)}:/\s/.test(e)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!mr(e)};0<r&&o(n.charAt(r-1));)--r;for(;i<n.length&&o(n.charAt(i));)++i}return new L(H(t.line,r),H(t.line,i))}function n(e,t,r,n){p.defaults[e]=t,r&&(hi[e]=n?function(e,t,n){n!=pi&&r(e,t,n)}:r)}function tn(e){return"string"==typeof e?xi[e]:e}function nn(t,n,r,e,i){if(e&&e.shared)return h=t,a=n,o=r,l=i,(s=hr(s=e)).shared=!1,c=[nn(h,a,o,s,l)],u=c[0],d=s.widgetNode,Wn(h,function(e){d&&(s.widgetNode=d.cloneNode(!0)),c.push(nn(e,D(e,a),D(e,o),s,l));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;u=T(c)}),new Li(c,u);var a,o,s,l,c,u,d;if(t.cm&&!t.cm.curOp)return $(t.cm,nn)(t,n,r,e,i);var f=new _i(t,i),h=F(n,r);if(e&&hr(e,f,!1),!(0<h||0==h&&!1!==f.clearWhenEmpty)){if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=k("span",[f.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||(f.widgetNode.ignoreEvents=!0),e.insertLeft)&&(f.widgetNode.insertLeft=!0),f.collapsed){if(bn(t,n.line,n,r,f)||n.line!=r.line&&bn(t,r.line,n,r,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");ei=!0}f.addToHistory&&Vn(t,{from:n,to:r,origin:"markText"},t.sel,NaN);var p,m=n.line,g=t.cm;if(t.iter(m,r.line+1,function(e){var t;g&&f.collapsed&&!g.options.lineWrapping&&A(e)==g.display.maxLine&&(p=!0),f.collapsed&&m!=n.line&&w(e,0),e=e,t=new an(f,m==n.line?n.ch:null,m==r.line?r.ch:null),e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e),++m}),f.collapsed&&t.iter(n.line,r.line+1,function(e){wn(t,e)&&w(e,0)}),f.clearOnEnter&&R(f,"beforeCursorEnter",function(){f.clear()}),f.readOnly&&(Qr=!0,t.history.done.length||t.history.undone.length)&&t.clearHistory(),f.collapsed&&(f.id=++Ei,f.atomic=!0),g){if(p&&(g.curOp.updateMaxLine=!0),f.collapsed)b(g,n.line,r.line+1);else if(f.className||f.title||f.startStyle||f.endStyle)for(var v=n.line;v<=r.line;v++)ot(g,v,"text");f.atomic&&Me(g.doc),C(g,"markerAdded",g,f)}}return f}function rn(e){return e.findMarks(H(e.first,0),e.clipPos(H(e.lastLine())),function(e){return e.parent})}function an(e,t,n){this.marker=e,this.from=t,this.to=n}function on(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function sn(e,t){var n=ve(e,t.from.line)&&P(e,t.from.line).markedSpans,e=ve(e,t.to.line)&&P(e,t.to.line).markedSpans;if(!n&&!e)return null;var r,i,a=t.from.ch,o=t.to.ch,s=0==F(t.from,t.to),l=((e,t,n)=>{if(e)for(var r,i=0;i<e.length;++i){var a,o=e[i],s=o.marker;!(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t))&&(o.from!=t||"bookmark"!=s.type||n&&o.marker.insertLeft)||(a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t),(r=r||[]).push(new an(s,o.from,a?null:o.to)))}return r})(n,a,s),c=((e,t,n)=>{if(e)for(var r,i=0;i<e.length;++i){var a,o=e[i],s=o.marker;!(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t))&&(o.from!=t||"bookmark"!=s.type||n&&!o.marker.insertLeft)||(a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t),(r=r||[]).push(new an(s,a?null:o.from-t,null==o.to?null:o.to-t)))}return r})(e,o,s),u=1==t.text.length,d=T(t.text).length+(u?a:0);if(l)for(var f=0;f<l.length;++f)null==(r=l[f]).to&&((i=on(c,r.marker))?u&&(r.to=null==i.to?null:i.to+d):r.to=a);if(c)for(f=0;f<c.length;++f)null!=(r=c[f]).to&&(r.to+=d),null==r.from?(i=on(l,r.marker))||(r.from=d,u&&(l=l||[]).push(r)):(r.from+=d,u&&(l=l||[]).push(r));l=l&&ln(l),c&&c!=l&&(c=ln(c));var h=[l];if(!u){var p,m=t.text.length-2;if(0<m&&l)for(f=0;f<l.length;++f)null==l[f].to&&(p=p||[]).push(new an(l[f].marker,null,null));for(f=0;f<m;++f)h.push(p);h.push(c)}return h}function ln(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function cn(e,t){var n=((e,t)=>{var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push((e=>{if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t=t||e.slice(0,n):t&&t.push(e[n]);return t?t.length?t:null:e})(n[r]));return i})(e,t),r=sn(e,t);if(!n)return r;if(r)for(var i=0;i<n.length;++i){var a=n[i],o=r[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],c=0;c<a.length;++c)if(a[c].marker==l.marker)continue e;a.push(l)}else o&&(n[i]=o)}return n}function un(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function dn(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function fn(e){return e.inclusiveLeft?-1:0}function hn(e){return e.inclusiveRight?1:0}function pn(e,t){var n,r,i=e.lines.length-t.lines.length;return 0!=i?i:(i=e.find(),n=t.find(),(r=F(i.from,n.from)||fn(e)-fn(t))?-r:F(i.to,n.to)||hn(e)-hn(t)||t.id-e.id)}function mn(e,t){var n,r=ei&&e.markedSpans;if(r)for(var i,a=0;a<r.length;++a)(i=r[a]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||pn(n,i.marker)<0)&&(n=i.marker);return n}function gn(e){return mn(e,!0)}function vn(e){return mn(e,!1)}function bn(e,t,n,r,i){var e=P(e,t),a=ei&&e.markedSpans;if(a)for(var o=0;o<a.length;++o){var s=a[o];if(s.marker.collapsed){var l=s.marker.find(0),c=F(l.from,n)||fn(s.marker)-fn(i),u=F(l.to,r)||hn(s.marker)-hn(i);if(!(0<=c&&u<=0||c<=0&&0<=u)&&(c<=0&&0<(F(l.to,n)||hn(s.marker)-fn(i))||0<=c&&(F(l.from,r)||fn(s.marker)-hn(i))<0))return 1}}}function A(e){for(var t;t=gn(e);)e=t.find(-1,!0).line;return e}function yn(e,t){var e=P(e,t),n=A(e);return e==n?t:h(n)}function An(e,t){if(t>e.lastLine())return t;var n,r=P(e,t);if(!wn(e,r))return t;for(;n=vn(r);)r=n.find(1,!0).line;return h(r)+1}function wn(e,t){var n=ei&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&function e(t,n,r){{var i;if(null==r.to)return i=r.marker.find(1,!0),e(t,i.line,on(i.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==n.text.length)return!0;for(var a,o=0;o<n.markedSpans.length;++o)if(a=n.markedSpans[o],a.marker.collapsed&&!a.marker.widgetNode&&a.from==r.to&&(null==a.to||a.to!=r.from)&&(a.marker.inclusiveLeft||r.marker.inclusiveRight)&&e(t,n,a))return!0}(e,t,r))return!0}}function Cn(e,t,n){Un(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&qt(e,null,n)}function xn(e){return null!=e.height?e.height:(((e,t)=>{if(e.contains)return e.contains(t);for(;t=t.parentNode;)if(t==e)return 1})(document.body,e.node)||yr(e.cm.display.measure,k("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function Tn(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function kn(e,t){return e.blankLine?e.blankLine(t):e.innerMode&&(e=p.innerMode(e,t)).mode.blankLine?e.mode.blankLine(e.state):void 0}function Mn(e,t,n){for(var r=0;r<10;r++){var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}function Sn(e,t,n,r,i,a,o){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l=0,c=null,u=new Si(t,e.options.tabSize);for(""==t&&Tn(kn(n,r),a);!u.eol();){var d,f=u.pos>e.options.maxHighlightLength?(s=!1,o&&Ln(e,t,r,u.pos),u.pos=t.length,null):Tn(Mn(n,u,r),a);e.options.addModeClass&&(d=p.innerMode(n,r).mode.name)&&(f="m-"+(f?d+" "+f:d)),s&&c==f||(l<u.start&&i(u.start,c),l=u.start,c=f),u.start=u.pos}for(;l<u.pos;){var h=Math.min(u.pos,l+5e4);i(h,c),l=h}}function _n(e,t,n,r){var a=[e.state.modeGen],i={};Sn(e,t.text,e.doc.mode,n,function(e,t){a.push(e,t)},i,r);for(var o=0;o<e.state.overlays.length;++o){var s=e.state.overlays[o],l=1,c=0;Sn(e,t.text,s.mode,!0,function(e,t){for(var n=l;c<e;){var r=a[l];e<r&&a.splice(l,1,e,a[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)a.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;n<l;n+=2){var i=a[n+1];a[n+1]=(i?i+" ":"")+"cm-overlay "+t}},i)}return{styles:a,classes:i.bgClass||i.textClass?i:null}}function En(e,t){return t.styles&&t.styles[0]==e.state.modeGen||(e=_n(e,t,t.stateAfter=ze(e,h(t))),t.styles=e.styles,e.classes?t.styleClasses=e.classes:t.styleClasses&&(t.styleClasses=null)),t.styles}function Ln(e,t,n,r){var i=e.doc.mode,a=new Si(t,e.options.tabSize);for(a.start=a.pos=r||0,""==t&&kn(i,n);!a.eol()&&a.pos<=e.options.maxHighlightLength;)Mn(i,a,n),a.start=a.pos}function On(e,t){return!e||/^\s*$/.test(e)?null:(t=t.addModeClass?$i:zi)[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function Dn(e,t){var n=k("span",null,null,W?"padding-right: .1px":null),r={pre:k("pre",[n]),content:n,col:0,pos:0,cm:e};t.measure={};for(var i,a=0;a<=(t.rest?t.rest.length:0);a++){var o,s=a?t.rest[a-1]:t.line;r.pos=0,r.addToken=zn,(B||W)&&e.getOption("lineWrapping")&&(r.addToken=(o=>{function s(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"";return t+" "}return function(e,t,n,r,i,a){o(e,t.replace(/ {3,}/g,s),n,r,i,a)}})(r.addToken)),o=e.display.measure,i=void 0,(null!=ea?ea:(o=yr(o,document.createTextNode("AA")),(i=Ji(o,0,1).getBoundingClientRect()).left!=i.right&&(o=Ji(o,1,2).getBoundingClientRect(),ea=o.right-i.right<3)))&&(o=x(s))&&(r.addToken=((u,d)=>function(e,t,n,r,i,a){n=n?n+" cm-force-border":"cm-force-border";for(var o=e.pos,s=o+t.length;;){for(var l=0;l<d.length;l++){var c=d[l];if(c.to>o&&c.from<=o)break}if(c.to>=s)return u(e,t,n,r,i,a);u(e,t.slice(0,c.to-o),n,r,null,a),r=null,t=t.slice(c.to-o),o=c.to}})(r.addToken,o)),r.map=[],((e,t,n)=>{var r=e.markedSpans,i=e.text,a=0;if(r)for(var o,s,l,c,u,d,f=i.length,h=0,p=1,m="",g=0;;){if(g==h){s=l=c=u="",d=null,g=1/0;for(var v=[],b=0;b<r.length;++b){var y=r[b],A=y.marker;y.from<=h&&(null==y.to||y.to>h)?(null!=y.to&&g>y.to&&(g=y.to,l=""),A.className&&(s+=" "+A.className),A.startStyle&&y.from==h&&(c+=" "+A.startStyle),A.endStyle&&y.to==g&&(l+=" "+A.endStyle),A.title&&!u&&(u=A.title),A.collapsed&&(!d||pn(d.marker,A)<0)&&(d=y)):y.from>h&&g>y.from&&(g=y.from),"bookmark"==A.type&&y.from==h&&A.widgetNode&&v.push(A)}if(d&&(d.from||0)==h&&($n(t,(null==d.to?f+1:d.to)-h,d.marker,null==d.from),null==d.to))return;if(!d&&v.length)for(b=0;b<v.length;++b)$n(t,0,v[b])}if(f<=h)break;for(var w=Math.min(f,g);;){if(m){var C,x=h+m.length;if(d||(C=w<x?m.slice(0,w-h):m,t.addToken(t,C,o?o+s:s,c,h+C.length==g?l:"",u)),w<=x){m=m.slice(w-h),h=w;break}h=x,c=""}m=i.slice(a,a=n[p++]),o=On(n[p++],t.cm.options)}}else for(p=1;p<n.length;p+=2)t.addToken(t,i.slice(a,a=n[p]),On(n[p+1],t.cm.options))})(s,r,En(e,s)),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=Tr(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass)&&(r.textClass=Tr(s.styleClasses.textClass,r.textClass||"")),0==r.map.length&&r.map.push(0,0,r.content.appendChild((e=>{var t;return(Qi=null==Qi&&(t=k("span",""),yr(e,k("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight)?t.offsetWidth<=1&&2<t.offsetHeight&&!Br:Qi)?k("span",""):k("span","",null,"display: inline-block; width: 1px; margin-right: -1px")})(e.display.measure))),0==a?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return M(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Tr(r.pre.className,r.textClass||"")),r}function zn(e,t,n,r,i,a){if(t){var o=e.cm.options.specialChars,s=!1;if(o.test(t))for(var l=document.createDocumentFragment(),c=0;;){o.lastIndex=c;var u,d=o.exec(t),f=d?d.index-c:t.length-c;if(f&&(u=document.createTextNode(t.slice(c,c+f)),I?l.appendChild(k("span",[u])):l.appendChild(u),e.map.push(e.pos,e.pos+f,u),e.col+=f,e.pos+=f),!d)break;c+=1+f,"\t"==d[0]?(f=e.cm.options.tabSize,u=l.appendChild(k("span",ur(f=f-e.col%f),"cm-tab")),e.col+=f):(u=e.cm.options.specialCharPlaceholder(d[0]),I?l.appendChild(k("span",[u])):l.appendChild(u),e.col+=1),e.map.push(e.pos,e.pos+1,u),e.pos++}else{e.col+=t.length;l=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,l),I&&(s=!0),e.pos+=t.length}if(n||r||i||s)return s=n||"",r&&(s+=r),i&&(s+=i),n=k("span",[l],s),a&&(n.title=a),e.content.appendChild(n);e.content.appendChild(l)}}function $n(e,t,n,r){r=!r&&n.widgetNode;r&&(e.map.push(e.pos,e.pos+t,r),e.content.appendChild(r)),e.pos+=t}function Nn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==T(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Pn(e,a,t,o){function n(e){return t?t[e]:null}function r(e,t,n){var r,i;t=t,n=n,i=o,(r=e).text=t,r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null),null!=r.order&&(r.order=null),un(r),dn(r,n),(t=i?i(r):1)!=r.height&&w(r,t),C(e,"change",e,a)}var i=a.from,s=a.to,l=a.text,c=P(e,i.line),u=P(e,s.line),d=T(l),f=n(l.length-1),h=s.line-i.line;if(Nn(e,a)){for(var p=0,m=[];p<l.length-1;++p)m.push(new Di(l[p],n(p),o));r(u,u.text,f),h&&e.remove(i.line,h),m.length&&e.insert(i.line,m)}else if(c==u)if(1==l.length)r(c,c.text.slice(0,i.ch)+d+c.text.slice(s.ch),f);else{for(m=[],p=1;p<l.length-1;++p)m.push(new Di(l[p],n(p),o));m.push(new Di(d+c.text.slice(s.ch),f,o)),r(c,c.text.slice(0,i.ch)+l[0],n(0)),e.insert(i.line+1,m)}else if(1==l.length)r(c,c.text.slice(0,i.ch)+l[0]+u.text.slice(s.ch),n(0)),e.remove(i.line+1,h);else{r(c,c.text.slice(0,i.ch)+l[0],n(0)),r(u,d+u.text.slice(s.ch),f);for(p=1,m=[];p<l.length-1;++p)m.push(new Di(l[p],n(p),o));1<h&&e.remove(i.line+1,h-1),e.insert(i.line+1,m)}C(e,"change",e,a)}function In(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Bn(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Wn(e,s,l){!function e(t,n,r){if(t.linked)for(var i=0;i<t.linked.length;++i){var a,o=t.linked[i];o.doc!=n&&(a=r&&o.sharedHist,l&&!a||(s(o.doc,a),e(o.doc,t,a)))}}(e,null,!0)}function Hn(e,t){if(t.cm)throw new Error("This document is already in use.");o((e.doc=t).cm=e),i(e),e.options.lineWrapping||K(e),e.options.mode=t.modeOption,b(e)}function P(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],a=i.chunkSize();if(t<a){n=i;break}t-=a}return n.lines[t]}function Fn(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){e=e.text;i==n.line&&(e=e.slice(0,n.ch)),i==t.line&&(e=e.slice(t.ch)),r.push(e),++i}),r}function jn(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function w(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function h(e){if(null==e.parent)return null;for(var t=e.parent,n=g(t.lines,e),r=t.parent;r;r=(t=r).parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Rn(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],a=i.height;if(t<a){e=i;continue e}t-=a,n+=i.chunkSize()}return n}while(!e.lines);for(r=0;r<e.lines.length;++r){var o=e.lines[r].height;if(t<o)break;t-=o}return n+r}function Un(e){for(var t=0,n=(e=A(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var a=n.parent;a;a=(n=a).parent)for(r=0;r<a.children.length;++r){var o=a.children[r];if(o==n)break;t+=o.height}return t}function x(e){var t=e.order;return t=null==t?e.order=ha(e.text):t}function Yn(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function qn(e,t){var n={from:de(t.from),to:di(t),text:Fn(e,t.from,t.to)};return Xn(e,n,t.from.line,t.to.line+1),Wn(e,function(e){Xn(e,n,t.from.line,t.to.line+1)},!0),n}function Gn(e){for(;e.length;){if(!T(e).ranges)break;e.pop()}}function Vn(e,t,n,r){var i=e.history;i.undone.length=0;var a,o=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=(a=i).lastOp==r?(Gn(a.done),T(a.done)):a.done.length&&!T(a.done).ranges?T(a.done):1<a.done.length&&!a.done[a.done.length-2].ranges?(a.done.pop(),T(a.done)):void 0)){var s=T(a.changes);0==F(t.from,t.to)&&0==F(t.from,s.to)?s.to=di(t):a.changes.push(qn(e,t))}else{var l=T(i.done);for(l&&l.ranges||Kn(e.sel,i.done),a={changes:[qn(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||M(e,"historyAdded")}function Kn(e,t){var n=T(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Xn(t,n,e,r){var i=n["spans_"+t.id],a=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,r),function(e){e.markedSpans&&((i=i||(n["spans_"+t.id]={}))[a]=e.markedSpans),++a})}function Jn(e,t,n){for(var r=0,i=[];r<e.length;++r){var a=e[r];if(a.ranges)i.push(n?pe.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];i.push({changes:s});for(var l=0;l<o.length;++l){var c,u=o[l];if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&-1<g(t,Number(c[1]))&&(T(s)[d]=u[d],delete u[d])}}}return i}function Zn(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Qn(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||((a=e[i]=a.deepCopy()).copied=!0);for(var s=0;s<a.ranges.length;s++)Zn(a.ranges[s].anchor,t,n,r),Zn(a.ranges[s].head,t,n,r)}else{for(s=0;s<a.changes.length;++s){var l=a.changes[s];if(n<l.from.line)l.from=H(l.from.line+r,l.from.ch),l.to=H(l.to.line+r,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function er(e,t){var n=t.from.line,r=t.to.line,t=t.text.length-(r-n)-1;Qn(e.done,n,r,t),Qn(e.undone,n,r,t)}function tr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function nr(e){return e.target||e.srcElement}function rr(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),t=Vr&&e.ctrlKey&&1==t?3:t}function C(e,t){var n=e._handlers&&e._handlers[t];if(n){var r=Array.prototype.slice.call(arguments,2);Ii||(++Fi,Ii=[],setTimeout(ir,0));for(var i=0;i<n.length;++i)Ii.push((e=>function(){e.apply(null,r)})(n[i]))}}function ir(){--Fi;var e=Ii;Ii=null;for(var t=0;t<e.length;++t)e[t]()}function ar(e,t,n){return M(e,n||t.type,e,t),tr(t)||t.codemirrorIgnore}function or(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==g(n,t[r])&&n.push(t[r])}function m(e,t){e=e._handlers&&e._handlers[t];return e&&0<e.length}function sr(e){e.prototype.on=function(e,t){R(this,e,t)},e.prototype.off=function(e,t){Hi(this,e,t)}}function lr(){this.id=null}function cr(e,t,n){for(var r=0,i=0;;){var a=e.indexOf("\t",r),o=(a=-1==a?e.length:a)-r;if(a==e.length||t<=i+o)return r+Math.min(o,t-i);if(i+=a-r,r=a+1,t<=(i+=n-i%n))return r}}function ur(e){for(;qi.length<=e;)qi.push(T(qi)+" ");return qi[e]}function T(e){return e[e.length-1]}function g(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function dr(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function fr(e,t){var n,e=Object.create?Object.create(e):((n=function(){}).prototype=e,new n);return t&&hr(t,e),e}function hr(e,t,n){for(var r in t=t||{},e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function pr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function mr(e,t){return t?!!(-1<t.source.indexOf("\\w")&&Ki(e))||t.test(e):Ki(e)}function gr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return;return 1}function vr(e){return 768<=e.charCodeAt(0)&&Xi.test(e)}function k(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function br(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function yr(e,t){return br(e).appendChild(t)}function Ar(){return document.activeElement}function wr(e){return new RegExp("\\b"+e+"\\b\\s*")}function Cr(e,t){t=wr(t);t.test(e.className)&&(e.className=e.className.replace(t,""))}function xr(e,t){wr(t).test(e.className)||(e.className+=" "+t)}function Tr(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!wr(n[r]).test(t)&&(t+=" "+n[r]);return t}function kr(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Mr(e){return null!=Zi?Zi:(yr(e,e=k("div",null,null,"width: 50px; height: 50px; overflow-x: scroll")),(Zi=e.offsetWidth?e.offsetHeight-e.clientHeight:Zi)||0)}function Sr(e){return e.level%2?e.to:e.from}function _r(e){return e.level%2?e.from:e.to}function Er(e){e=x(e);return e?Sr(e[0]):0}function Lr(e){var t=x(e);return t?_r(T(t)):e.text.length}function Or(e,t){var e=P(e.doc,t),n=A(e),e=(n!=e&&(t=h(n)),x(n)),e=e?(e[0].level%2?Lr:Er)(n):0;return H(t,e)}function Dr(e,t){sa=null;for(var n,r,i,a,o=0;o<e.length;++o){var s=e[o];if(s.from<t&&s.to>t)return o;if(s.from==t||s.to==t){if(null!=n)return r=e,i=s.level,a=e[n].level,r=r[0].level,i==r||a!=r&&i<a?(s.from!=s.to&&(sa=n),o):(s.from!=s.to&&(sa=o),n);n=o}}return n}function zr(e,t,n,r){if(!r)return t+n;for(;0<(t+=n)&&vr(e.text.charAt(t)););return t}function $r(e,t,n,r){var i=x(e);if(!i)return Nr(e,t,n,r);for(var a=Dr(i,t),o=i[a],s=zr(e,t,o.level%2?-n:n,r);;){if(s>o.from&&s<o.to)return s;if(s==o.from||s==o.to)return Dr(i,s)==a?s:0<n==(o=i[a+=n]).level%2?o.to:o.from;if(!(o=i[a+=n]))return null;s=0<n==o.level%2?zr(e,o.to,-1,r):zr(e,o.from,1,r)}}function Nr(e,t,n,r){var i=t+n;if(r)for(;0<i&&vr(e.text.charAt(i));)i+=n;return i<0||i>e.text.length?null:i}var Pr=/gecko\/\d/i.test(navigator.userAgent),Ir=/MSIE \d/.test(navigator.userAgent),Br=Ir&&(null==document.documentMode||document.documentMode<8),I=Ir&&(null==document.documentMode||document.documentMode<9),Wr=Ir&&(null==document.documentMode||document.documentMode<10),Hr=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),B=Ir||Hr,W=/WebKit\//.test(navigator.userAgent),Hr=W&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Fr=/Chrome\//.test(navigator.userAgent),f=/Opera\//.test(navigator.userAgent),jr=/Apple Computer/.test(navigator.vendor),Rr=/KHTML\//.test(navigator.userAgent),Ur=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Yr=/PhantomJS/.test(navigator.userAgent),qr=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Gr=qr||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Vr=qr||/Mac/.test(navigator.platform),Kr=/win/i.test(navigator.platform),Xr=f&&navigator.userAgent.match(/Version\/(\d*\.\d*)/),Jr=((Xr=Xr&&Number(Xr[1]))&&15<=Xr&&(W=!(f=!1)),Vr&&(Hr||f&&(null==Xr||Xr<12.11))),Zr=Pr||B&&!I,Qr=!1,ei=!1,H=p.Pos=function(e,t){return this instanceof H?(this.line=e,void(this.ch=t)):new H(e,t)},F=p.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};pe.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e!=this){if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=F(n.anchor,r.anchor)||0!=F(n.head,r.head))return!1}}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new L(de(this.ranges[t].anchor),de(this.ranges[t].head));return new pe(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t=t||e;for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(0<=F(t,r.from())&&F(e,r.to())<=0)return n}return-1}},L.prototype={from:function(){return he(this.anchor,this.head)},to:function(){return fe(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var ti,ni,ri,ii={left:0,right:0,top:0,bottom:0},ai=0,oi=0,si=0,v=null;B?v=-.53:Pr?v=15:Fr?v=-.7:jr&&(v=-1/3);var li,ci,ui=null,di=p.changeEnd=function(e){return e.text?H(e.from.line+e.text.length-1,T(e.text).length+(1==e.text.length?e.from.ch:0)):e.to},fi=(p.prototype={constructor:p,focus:function(){window.focus(),N(this),ft(this)},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,!hi.hasOwnProperty(e))||$(this,hi[e])(this,t,r)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||"string"!=typeof t[n]&&t[n].name==e)return t.splice(n,1),!0},addOverlay:e(function(e,t){var n=e.token?e:p.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,b(this)}),removeOverlay:e(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void b(this)}}),indentLine:e(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ve(this.doc,e)&&Kt(this,e,t,n)}),indentSelection:e(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Kt(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex)&&Gt(this);else for(var a=Math.max(n,i.from().line),i=i.to(),n=Math.min(this.lastLine(),i.line-(i.ch?0:1))+1,o=a;o<n;++o)Kt(this,o,e)}}),getTokenAt:function(e,t){for(var n=this.doc,r=ze(this,(e=D(n,e)).line,t),i=this.doc.mode,t=P(n,e.line),a=new Si(t.text,this.options.tabSize);a.pos<e.ch&&!a.eol();){a.start=a.pos;var o=Mn(i,a,r)}return{start:a.start,end:a.pos,string:a.current(),type:o||null,state:r}},getTokenTypeAt:function(e){e=D(this.doc,e);var t,n=En(this,P(this.doc,e.line)),r=0,i=(n.length-1)/2,a=e.ch;if(0==a)t=n[2];else for(;;){var o=r+i>>1;if((o?n[2*o-1]:0)>=a)i=o;else{if(!(n[2*o+1]<a)){t=n[2*o+2];break}r=1+o}}e=t?t.indexOf("cm-overlay "):-1;return e<0?t:0==e?null:t.slice(0,e-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?p.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!yi.hasOwnProperty(t))return yi;var r=yi[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var o=r[i[t][a]];o&&n.push(o)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(a=0;a<r._global.length;a++){var s=r._global[a];s.pred(i,this)&&-1==g(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return ze(this,(e=ge(n,null==e?n.first+n.size-1:e))+1,t)},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Ke(this,null==e?n.head:"object"==typeof e?D(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Ve(this,D(this.doc,e),t||"page")},coordsChar:function(e,t){return Ze(this,(e=Ge(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Ge(this,{top:e,left:0},t||"page").top,Rn(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,r=this.doc.first+this.doc.size-1,r=(e<this.doc.first?e=this.doc.first:r<e&&(e=r,n=!0),P(this.doc,e));return qe(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-Un(r):0)},defaultTextHeight:function(){return Qe(this.display)},defaultCharWidth:function(){return et(this.display)},setGutterMarker:e(function(e,n,r){return Xt(this,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[n]=r)&&gr(t)&&(e.gutterMarkers=null),1})}),clearGutter:e(function(t){var n=this,e=n.doc,r=e.first;e.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&(e.gutterMarkers[t]=null,ot(n,r,"gutter"),gr(e.gutterMarkers))&&(e.gutterMarkers=null),++r})}),addLineClass:e(function(e,n,r){return Xt(this,e,"class",function(e){var t="text"==n?"textClass":"background"==n?"bgClass":"wrapClass";if(e[t]){if(new RegExp("(?:^|\\s)"+r+"(?:$|\\s)").test(e[t]))return;e[t]+=" "+r}else e[t]=r;return 1})}),removeLineClass:e(function(e,a,o){return Xt(this,e,"class",function(e){var t="text"==a?"textClass":"background"==a?"bgClass":"wrapClass",n=e[t];if(n){if(null==o)e[t]=null;else{var r=n.match(new RegExp("(?:^|\\s+)"+o+"(?:$|\\s+)"));if(!r)return;var i=r.index+r[0].length;e[t]=n.slice(0,r.index)+(r.index&&i!=n.length?" ":"")+n.slice(i)||null}return 1}})}),addLineWidget:e(function(e,t,n){return e=e,(i=new Oi(r=this,t,n)).noHScroll&&(r.display.alignWidgets=!0),Xt(r,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);return null==i.insertAt?t.push(i):t.splice(Math.min(t.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,wn(r.doc,e)||(t=Un(e)<r.doc.scrollTop,w(e,e.height+xn(i)),t&&qt(r,null,i.height),r.curOp.forceUpdate=!0),1}),i;var r,i}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;if(!(e=P(this.doc,e)))return null}else if(null==(t=h(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var a,o,s=this.display,l=(e=Ke(this,D(this.doc,e))).bottom,c=e.left;t.style.position="absolute",s.sizer.appendChild(t),"over"==r?l=e.top:"above"!=r&&"near"!=r||(a=Math.max(s.wrapper.clientHeight,this.doc.height),o=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth),("above"==r||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),c+t.offsetWidth>o&&(c=o-t.offsetWidth)),t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(c=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),n&&(r=this,a=l,o=(e=c)+t.offsetWidth,null!=(e=Yt(r,e,a,o,l+t.offsetHeight)).scrollTop&&xt(r,e.scrollTop),null!=e.scrollLeft)&&Tt(r,e.scrollLeft)},triggerOnKeyDown:e(Et),triggerOnKeyPress:e(Ot),triggerOnKeyUp:e(Lt),execCommand:function(e){return Ci.hasOwnProperty(e)?Ci[e](this):void 0},findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var a=0,o=D(this.doc,e);a<t&&!(o=Zt(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:e(function(t,n){var r=this;r.extendSelectionsBy(function(e){return r.display.shift||r.doc.extend||e.empty()?Zt(r.doc,e.head,t,n,r.options.rtlMoveVisually):t<0?e.from():e.to()},Yi)}),deleteH:e(function(n,r){var e=this.doc.sel,i=this.doc;e.somethingSelected()?i.replaceSelection("",null,"+delete"):Jt(this,function(e){var t=Zt(i,e.head,n,r,!1);return n<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,n,r){var i=1,a=r;t<0&&(i=-1,t=-t);for(var o=0,s=D(this.doc,e);o<t;++o){var l=Ke(this,s,"div");if(null==a?a=l.left:l.left=a,(s=Qt(this,l,i,n)).hitSide)break}return s},moveV:e(function(r,i){var a=this,o=this.doc,s=[],l=!a.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(e){var t,n;return l?r<0?e.from():e.to():(t=Ke(a,e.head,"div"),null!=e.goalColumn&&(t.left=e.goalColumn),s.push(t.left),n=Qt(a,t,r,i),"page"==i&&e==o.sel.primary()&&qt(a,null,Ve(a,n,"div").top-t.top),n)},Yi),s.length)for(var e=0;e<o.sel.ranges.length;e++)o.sel.ranges[e].goalColumn=s[e]}),toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?xr:Cr)(this.display.cursorDiv,"CodeMirror-overwrite"),M(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return Ar()==this.display.input},scrollTo:e(function(e,t){null==e&&null==t||Vt(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-S,width:e.scrollWidth-S,clientHeight:e.clientHeight-S,clientWidth:e.clientWidth-S}},scrollIntoView:e(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:H(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(Vt(this),this.curOp.scrollToPos=e):(t=Yt(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin),this.scrollTo(t.scrollLeft,t.scrollTop))}),setSize:e(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&je(this),this.curOp.forceUpdate=!0,M(this,"refresh",this)}),operation:function(e){return rt(this,e)},refresh:e(function(){var e=this.display.cachedTextHeight;b(this),this.curOp.forceUpdate=!0,Re(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),G(this),(null==e||.5<Math.abs(e-Qe(this.display)))&&o(this),M(this,"refresh",this)}),swapDoc:e(function(e){var t=this.doc;return t.cm=null,Hn(this,e),Re(this),y(this),this.scrollTo(e.scrollLeft,e.scrollTop),C(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},sr(p),p.defaults={}),hi=p.optionHandlers={},pi=p.Init={toString:function(){return"CodeMirror.Init"}},mi=(n("value","",function(e,t){e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),n("indentUnit",2,i,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){a(e),Re(e),b(e)},!0),n("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),e.refresh()},!0),n("specialCharPlaceholder",function(e){var t=k("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t},function(e){e.refresh()},!0),n("electricChars",!0),n("rtlMoveVisually",!Kr),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){Y(e),l(e)},!0),n("keyMap","default",s),n("extraKeys",null),n("lineWrapping",!1,function(e){e.options.lineWrapping?(xr(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth=""):(Cr(e.display.wrapper,"CodeMirror-wrap"),K(e)),o(e),b(e),Re(e),setTimeout(function(){Z(e)},100)},!0),n("gutters",[],function(e){X(e.options),l(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?c(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,Z,!0),n("lineNumbers",!1,function(e){X(e.options),l(e)},!0),n("firstLineNumber",1,l,!0),n("lineNumberFormatter",function(e){return e},l,!0),n("showCursorWhenSelecting",!1,Ee,!0),n("resetSelectionOnContextMenu",!0),n("readOnly",!1,function(e,t){"nocursor"==t?(zt(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||y(e))}),n("disableInput",!1,function(e,t){t||y(e)},!0),n("dragDrop",!0),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,a,!0),n("addModeClass",!1,a,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){e.refresh()},!0),n("maxHighlightLength",1e4,a,!0),n("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),n("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),n("autofocus",null),p.modes={}),gi=p.mimeModes={},vi=(p.defineMode=function(e,t){if(p.defaults.mode||"null"==e||(p.defaults.mode=e),2<arguments.length){t.dependencies=[];for(var n=2;n<arguments.length;++n)t.dependencies.push(arguments[n])}mi[e]=t},p.defineMIME=function(e,t){gi[e]=t},p.resolveMode=function(e){if("string"==typeof e&&gi.hasOwnProperty(e))e=gi[e];else if(e&&"string"==typeof e.name&&gi.hasOwnProperty(e.name)){var t=gi[e.name];(e=fr(t="string"==typeof t?{name:t}:t,e)).name=t.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return p.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},p.getMode=function(e,t){var t=p.resolveMode(t),n=mi[t.name];if(!n)return p.getMode(e,"text/plain");var r=n(e,t);if(vi.hasOwnProperty(t.name)){var i=vi[t.name];for(a in i)i.hasOwnProperty(a)&&(r.hasOwnProperty(a)&&(r["_"+a]=r[a]),r[a]=i[a])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r},p.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),p.defineMIME("text/plain","null"),p.modeExtensions={}),bi=(p.extendMode=function(e,t){hr(t,vi.hasOwnProperty(e)?vi[e]:vi[e]={})},p.defineExtension=function(e,t){p.prototype[e]=t},p.defineDocExtension=function(e,t){d.prototype[e]=t},p.defineOption=n,[]),yi=(p.defineInitHook=function(e){bi.push(e)},p.helpers={}),Ai=(p.registerHelper=function(e,t,n){yi.hasOwnProperty(e)||(yi[e]=p[e]={_global:[]}),yi[e][t]=n},p.registerGlobalHelper=function(e,t,n,r){p.registerHelper(e,t,r),yi[e]._global.push({pred:n,val:r})},p.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n,r={};for(n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}),wi=p.startState=function(e,t,n){return!e.startState||e.startState(t,n)},Ci=(p.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}},p.commands={selectAll:function(e){e.setSelection(H(e.firstLine(),0),H(e.lastLine()),Ri)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ri)},killLine:function(n){Jt(n,function(e){var t;return e.empty()?(t=P(n.doc,e.head.line).text.length,e.head.ch==t&&e.head.line<n.lastLine()?{from:e.head,to:H(e.head.line+1,0)}:{from:e.head,to:H(e.head.line,t)}):{from:e.from(),to:e.to()}})},deleteLine:function(t){Jt(t,function(e){return{from:H(e.from().line,0),to:D(t.doc,H(e.to().line+1,0))}})},delLineLeft:function(e){Jt(e,function(e){return{from:H(e.from().line,0),to:e.from()}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(H(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(H(e.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return Or(t,e.head.line)},Yi)},goLineStartSmart:function(i){i.extendSelectionsBy(function(e){var t=Or(i,e.head.line),n=i.getLineHandle(t.line),r=x(n);return r&&0!=r[0].level?t:(r=Math.max(0,n.text.search(/\S/)),n=e.head.line==t.line&&e.head.ch<=r&&e.head.ch,H(t.line,n?0:r))},Yi)},goLineEnd:function(a){a.extendSelectionsBy(function(e){for(var t,n=a,r=e.head.line,i=P(n.doc,r);t=vn(i);)i=t.find(1,!0).line,r=null;return n=(n=x(i))?(n[0].level%2?Er:Lr)(i):i.text.length,H(null==r?h(i):r,n)},Yi)},goLineRight:function(t){t.extendSelectionsBy(function(e){e=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div")},Yi)},goLineLeft:function(t){t.extendSelectionsBy(function(e){e=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:e},"div")},Yi)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var a=n[i].from(),a=U(e.getLine(a.line),a.ch,r);t.push(new Array(r-a%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(o){rt(o,function(){for(var e=o.listSelections(),t=[],n=0;n<e.length;n++){var r,i=e[n].head,a=P(o.doc,i.line).text;a&&(0<(i=i.ch==a.length?new H(i.line,i.ch-1):i).ch?(i=new H(i.line,i.ch+1),o.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),H(i.line,i.ch-2),i,"+transpose")):i.line>o.doc.first&&(r=P(o.doc,i.line-1).text)&&o.replaceRange(a.charAt(0)+"\n"+r.charAt(r.length-1),H(i.line-1,r.length-1),H(i.line,1),"+transpose")),t.push(new L(i,i))}o.setSelections(t)})},newlineAndIndent:function(r){rt(r,function(){for(var e=r.listSelections().length,t=0;t<e;t++){var n=r.listSelections()[t];r.replaceRange("\n",n.anchor,n.head,"+input"),r.indentLine(n.from().line+1,null,!0),Gt(r)}})},toggleOverwrite:function(e){e.toggleOverwrite()}}),xi=p.keyMap={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"}},Ti=(xi.default=Vr?xi.macDefault:xi.pcDefault,p.lookupKey=function(o,e,s){for(var t=0;t<e.length;++t){var n=function e(t){var n=(t=tn(t))[o];if(!1===n)return"stop";if(null!=n&&s(n))return!0;if(t.nofallthrough)return"stop";var r=t.fallthrough;if(null!=r){if("[object Array]"!=Object.prototype.toString.call(r))return e(r);for(var i=0;i<r.length;++i){var a=e(r[i]);if(a)return a}}return!1}(e[t]);if(n)return"stop"!=n}}),ki=p.isModifierKey=function(e){e=oa[e.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},Mi=p.keyName=function(e,t){var n;return!(f&&34==e.keyCode&&e.char||null==(n=oa[e.keyCode])||e.altGraphKey)&&(e.altKey&&(n="Alt-"+n),(Jr?e.metaKey:e.ctrlKey)&&(n="Ctrl-"+n),(Jr?e.ctrlKey:e.metaKey)&&(n="Cmd-"+n),n=!t&&e.shiftKey?"Shift-"+n:n)},Si=(p.fromTextArea=function(t,e){function n(){t.value=s.getValue()}var r;if((e=e||{}).value=t.value,!e.tabindex&&t.tabindex&&(e.tabindex=t.tabindex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus&&(r=Ar(),e.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body),t.form&&(R(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var i=t.form,a=i.submit;try{var o=i.submit=function(){n(),i.submit=a,i.submit(),i.submit=o}}catch(e){}}t.style.display="none";var s=p(function(e){t.parentNode.insertBefore(e,t.nextSibling)},e);return s.save=n,s.getTextArea=function(){return t},s.toTextArea=function(){n(),t.parentNode.removeChild(s.getWrapperElement()),t.style.display="",t.form&&(Hi(t.form,"submit",n),"function"==typeof t.form.submit)&&(t.form.submit=a)},s},p.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0}),_i=(Si.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);return("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){e=this.string.indexOf(e,this.pos);return-1<e?(this.pos=e,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=U(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return U(this.string,null,this.tabSize)-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){var r;return"string"!=typeof e?(r=this.string.slice(this.pos).match(e))&&0<r.index?null:(r&&!1!==t&&(this.pos+=r[0].length),r):(r=function(e){return n?e.toLowerCase():e})(this.string.substr(this.pos,e.length))==r(e)?(!1!==t&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}},p.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e}),Ei=(sr(_i),_i.prototype.clear=function(){if(!this.explicitlyCleared){var e,t=this.doc.cm,n=t&&!t.curOp;n&&tt(t),m(this,"clear")&&(e=this.find())&&C(this,"clear",e.from,e.to);for(var r=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=on(o.markedSpans,this);t&&!this.collapsed?ot(t,h(o),"text"):t&&(null!=s.to&&(i=h(o)),null!=s.from)&&(r=h(o)),o.markedSpans=((e,t)=>{for(var n,r=0;r<e.length;++r)e[r]!=t&&(n=n||[]).push(e[r]);return n})(o.markedSpans,s),null==s.from&&this.collapsed&&!wn(this.doc,o)&&t&&w(o,Qe(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(a=0;a<this.lines.length;++a){var l=A(this.lines[a]),c=V(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&b(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t)&&Me(t.doc),t&&C(t,"markerCleared",t,this),n&&nt(t),this.parent&&this.parent.clear()}},_i.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var a=this.lines[i],o=on(a.markedSpans,this);if(null!=o.from&&(n=H(t?a:h(a),o.from),-1==e))return n;if(null!=o.to&&(r=H(t?a:h(a),o.to),1==e))return r}return n&&{from:n,to:r}},_i.prototype.changed=function(){var n=this.find(-1,!0),r=this,i=this.doc.cm;n&&i&&rt(i,function(){var e=n.line,t=h(n.line),t=Be(i,t);t&&(Fe(t),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!wn(r.doc,e)&&null!=r.height&&(t=r.height,r.height=null,t=xn(r)-t)&&w(e,e.height+t)})},_i.prototype.attachLine=function(e){var t;this.lines.length||!this.doc.cm||(t=this.doc.cm.curOp).maybeHiddenMarkers&&-1!=g(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this),this.lines.push(e)},_i.prototype.detachLine=function(e){this.lines.splice(g(this.lines,e),1),!this.lines.length&&this.doc.cm&&((e=this.doc.cm.curOp).maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)},0),Li=p.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this},Oi=(sr(Li),Li.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();C(this,"clear")}},Li.prototype.find=function(e,t){return this.primary.find(e,t)},p.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t}),Di=(sr(Oi),Oi.prototype.clear=function(){var e=this.cm,t=this.line.widgets,n=this.line,r=h(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var a=xn(this);rt(e,function(){Cn(e,n,-a),ot(e,r,"widget"),w(n,Math.max(0,n.height-a))})}},Oi.prototype.changed=function(){var e=this.height,t=this.cm,n=this.line,r=(this.height=null,xn(this)-e);r&&rt(t,function(){t.curOp.forceUpdate=!0,Cn(t,n,r),w(n,n.height+r)})},p.Line=function(e,t,n){this.text=e,dn(this,t),this.height=n?n(this):1}),zi=(sr(Di),Di.prototype.lineNo=function(){return h(this)},{}),$i={},Ni=(In.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n,r=e,i=e+t;r<i;++r){var a=this.lines[r];this.height-=a.height,(n=a).parent=null,un(n),C(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},Bn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n,r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(e<a){var o=Math.min(t,a-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,a==o&&(this.children.splice(r--,1),i.parent=null),0==(t-=o))break;e=0}else e-=a}this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof In))&&(this.collapse(n=[]),this.children=[new In(n)],this.children[0].parent=this)},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(e<=a){if(i.insertInner(e,t,n),i.lines&&50<i.lines.length){for(;50<i.lines.length;){var o=new In(i.lines.splice(i.lines.length-25,25));i.height-=o.height,this.children.splice(r+1,0,o),o.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t,n=new Bn(e.children.splice(e.children.length-5,5))}while(e.parent?(e.size-=n.size,e.height-=n.height,t=g(e.parent.children,e),e.parent.children.splice(t+1,0,n)):(((t=new Bn(e.children)).parent=e).children=[t,n],e=t),n.parent=e.parent,10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(e<a){var o=Math.min(t,a-e);if(i.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=a}}},0),d=p.Doc=function(e,t,n){if(!(this instanceof d))return new d(e,t,n);null==n&&(n=0),Bn.call(this,[new In([new Di("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;n=H(n,0);this.sel=me(n),this.history=new Yn(null),this.id=++Ni,this.modeOption=t,Pn(this,{from:n,to:n,text:e="string"==typeof e?ra(e):e}),z(this,me(n),Ri)},Pi=(d.prototype=fr(Bn.prototype,{constructor:d,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=jn(this,this.first,this.first+this.size);return!1===e?t:t.join(e||"\n")},setValue:t(function(e){var t=H(this.first,0),n=this.first+this.size-1;Wt(this,{from:t,to:H(n,P(this,n).text.length),text:ra(e),origin:"setValue"},!0),z(this,me(t))}),replaceRange:function(e,t,n,r){Ut(this,e,t=D(this,t),n=n?D(this,n):t,r)},getRange:function(e,t,n){e=Fn(this,D(this,e),D(this,t));return!1===n?e:e.join(n||"\n")},getLine:function(e){e=this.getLineHandle(e);return e&&e.text},getLineHandle:function(e){return ve(this,e)?P(this,e):void 0},getLineNumber:h,getLineHandleVisualStart:function(e){return A(e="number"==typeof e?P(this,e):e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return D(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:t(function(e,t,n){Ce(this,D(this,"number"==typeof e?H(e,t||0):e),null,n)}),setSelection:t(function(e,t,n){Ce(this,D(this,e),D(this,t||e),n)}),extendSelection:t(function(e,t,n){ye(this,D(this,e),t&&D(this,t),n)}),extendSelections:t(function(e,t){Ae(this,((e,t)=>{for(var n=[],r=0;r<t.length;r++)n[r]=D(e,t[r]);return n})(this,e))}),extendSelectionsBy:t(function(e,t){Ae(this,dr(this.sel.ranges,e),t)}),setSelections:t(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new L(D(this,e[r].anchor),D(this,e[r].head));z(this,O(i,t=null==t?Math.min(e.length-1,this.sel.primIndex):t),n)}}),addSelection:t(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new L(D(this,e),D(this,t||e))),z(this,O(r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n=0;n<t.length;n++)var r=Fn(this,t[n].from(),t[n].to()),i=i?i.concat(r):r;return!1===e?i:i.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Fn(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:t(function(e,t,n){for(var r=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];r[a]={from:o.from(),to:o.to(),text:ra(e[a]),origin:n}}for(t=t&&"end"!=t&&((e,t,n)=>{for(var r=[],i=c=H(e.first,0),a=0;a<t.length;a++){var o=t[a],s=It(o.from,c,i),l=It(di(o),c,i),c=o.to,i=l;"around"==n?(o=e.sel.ranges[a],o=F(o.head,o.anchor)<0,r[a]=new L(o?l:s,o?s:l)):r[a]=new L(s,s)}return new pe(r,e.sel.primIndex)})(this,r,t),a=r.length-1;0<=a;a--)Wt(this,r[a]);t?xe(this,t):this.cm&&Gt(this.cm)}),undo:t(function(){Ft(this,"undo")}),redo:t(function(){Ft(this,"redo")}),undoSelection:t(function(){Ft(this,"undo",!0)}),redoSelection:t(function(){Ft(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Yn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Jn(this.history.done),undone:Jn(this.history.undone)}},setHistory:function(e){var t=this.history=new Yn(this.history.maxGeneration);t.done=Jn(e.done.slice(0),null,!0),t.undone=Jn(e.undone.slice(0),null,!0)},markText:function(e,t,n){return nn(this,D(this,e),D(this,t),n,"range")},setBookmark:function(e,t){t={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return nn(this,e=D(this,e),e,t,"bookmark")},findMarksAt:function(e){var t=[],n=P(this,(e=D(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(i,a,o){i=D(this,i),a=D(this,a);var s=[],l=i.line;return this.iter(i.line,a.line+1,function(e){var t=e.markedSpans;if(t)for(var n=0;n<t.length;n++){var r=t[n];l==i.line&&i.ch>r.to||null==r.from&&l!=i.line||l==a.line&&r.from>a.ch||o&&!o(r.marker)||s.push(r.marker.parent||r.marker)}++l}),s},getAllMarks:function(){var r=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var n=0;n<t.length;++n)null!=t[n].from&&r.push(t[n].marker)}),r},posFromIndex:function(t){var n,r=this.first;return this.iter(function(e){e=e.text.length+1;return t<e?(n=t,!0):(t-=e,void++r)}),D(this,H(r,n))},indexFromPos:function(e){var t=(e=D(this,e)).ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new d(jn(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){for(var t=this.first,n=this.first+this.size,n=(null!=(e=e||{}).from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to),new d(jn(this,t,n),e.mode||this.modeOption,t)),r=(e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],n),i=rn(this),a=0;a<i.length;a++){var o=i[a],s=o.find(),l=r.clipPos(s.from),s=r.clipPos(s.to);F(l,s)&&(l=nn(r,l,s,o.primary,o.primary.type),o.markers.push(l),l.parent=o)}return n},unlinkDoc:function(e){if(e instanceof p&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),(e=>{for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Wn(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var a=n.markers[i];-1==g(r,a.doc)&&(a.parent=null,n.markers.splice(i--,1))}}})(rn(this));break}var n;e.history==this.history&&(n=[e.id],Wn(e,function(e){n.push(e.id)},!0),e.history=new Yn(null),e.history.done=Jn(this.history.done,n),e.history.undone=Jn(this.history.undone,n))},iterLinkedDocs:function(e){Wn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),d.prototype.eachLine=d.prototype.iter,"iter insert remove copy getEditor".split(" "));for(ci in d.prototype)d.prototype.hasOwnProperty(ci)&&g(Pi,ci)<0&&(p.prototype[ci]=(e=>function(){return e.apply(this.doc,arguments)})(d.prototype[ci]));sr(d);var Ii,j=p.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Bi=p.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Wi=p.e_stop=function(e){j(e),Bi(e)},R=p.on=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):((e=e._handlers||(e._handlers={}))[t]||(e[t]=[])).push(n)},Hi=p.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(r)for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},M=p.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Fi=0,S=30,ji=p.Pass={toString:function(){return"CodeMirror.Pass"}},Ri={scroll:!1},Ui={origin:"*mouse"},Yi={origin:"+move"},U=(lr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)},p.countColumn=function(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var a=r||0,o=i||0;;){var s=e.indexOf("\t",a);if(s<0||t<=s)return o+(t-a);o=(o+=s-a)+(n-o%n),a=s+1}}),qi=[""],Gi=function(e){e.select()};qr?Gi=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:B&&(Gi=function(e){try{e.select()}catch(e){}}),[].indexOf&&(g=function(e,t){return e.indexOf(t)}),[].map&&(dr=function(e,t){return e.map(t)});var Vi=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ki=p.isWordChar=function(e){return/\w/.test(e)||""<e&&(e.toUpperCase()!=e.toLowerCase()||Vi.test(e))},Xi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Ji=document.createRange?function(e,t,n){var r=document.createRange();return r.setEnd(e,n),r.setStart(e,t),r}:function(e,t,n){var r=document.body.createTextRange();return r.moveToElementText(e.parentNode),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};Ir&&(Ar=function(){try{return document.activeElement}catch(e){return document.body}});var Zi,Qi,ea,ta=!1,na=!I&&("draggable"in(Hr=k("div"))||"dragDrop"in Hr),ra=p.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t),a=(-1==i&&(i=e.length),e.slice(t,"\r"==e.charAt(i-1)?i-1:i)),o=a.indexOf("\r");-1!=o?(n.push(a.slice(0,o)),t+=o+1):(n.push(a),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ia=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},aa="oncopy"in(Xr=k("div"))||(Xr.setAttribute("oncopy","return;"),"function"==typeof Xr.oncopy),oa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};p.keyNames=oa;for(var r=0;r<10;r++)oa[r+48]=oa[r+96]=String(r);for(r=65;r<=90;r++)oa[r]=String.fromCharCode(r);for(r=1;r<=12;r++)oa[r+111]=oa[r+63235]="F"+r;la=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,ca=/[stwN]/,ua=/[LRr]/,da=/[Lb1n]/,fa=/[1n]/;var sa,la,ca,ua,da,fa,ha=function(e){if(!la.test(e))return!1;for(var t,n=e.length,r=[],i=0;i<n;++i)r.push(u=(t=e.charCodeAt(i))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L");for(var i=0,a="L";i<n;++i)"m"==(u=r[i])?r[i]=a:a=u;for(var i=0,o="L";i<n;++i)"1"==(u=r[i])&&"r"==o?r[i]="n":ua.test(u)&&"r"==(o=u)&&(r[i]="R");for(i=1,a=r[0];i<n-1;++i)"+"==(u=r[i])&&"1"==a&&"1"==r[i+1]?r[i]="1":","!=u||a!=r[i+1]||"1"!=a&&"n"!=a||(r[i]=a),a=u;for(i=0;i<n;++i)if(","==(u=r[i]))r[i]="N";else if("%"==u){for(var s=i+1;s<n&&"%"==r[s];++s);for(var l=i&&"!"==r[i-1]||s<n&&"1"==r[s]?"1":"N",c=i;c<s;++c)r[c]=l;i=s-1}for(i=0,o="L";i<n;++i){var u=r[i];"L"==o&&"1"==u?r[i]="L":ua.test(u)&&(o=u)}for(i=0;i<n;++i)if(ca.test(r[i])){for(s=i+1;s<n&&ca.test(r[s]);++s);for(l="L"==(i?r[i-1]:"L")||"L"==(s<n?r[s]:"L")?"L":"R",c=i;c<s;++c)r[c]=l;i=s-1}for(var d,f=[],i=0;i<n;)if(da.test(r[i])){var h=i;for(++i;i<n&&da.test(r[i]);++i);f.push(new pa(0,h,i))}else{var p=i,m=f.length;for(++i;i<n&&"L"!=r[i];++i);for(c=p;c<i;)if(fa.test(r[c])){p<c&&f.splice(m,0,new pa(1,p,c));var g=c;for(++c;c<i&&fa.test(r[c]);++c);f.splice(m,0,new pa(2,g,c)),p=c}else++c;p<i&&f.splice(m,0,new pa(1,p,i))}return 1==f[0].level&&(d=e.match(/^\s+/))&&(f[0].from=d[0].length,f.unshift(new pa(0,0,d[0].length))),1==T(f).level&&(d=e.match(/\s+$/))&&(T(f).to-=d[0].length,f.push(new pa(0,n-d[0].length,n))),f[0].level!=T(f).level&&f.push(new pa(f[0].level,n,n)),f};function pa(e,t,n){this.level=e,this.from=t,this.to=n}return p.version="4.2.0",p}),(e=>{"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(T){function e(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function r(e,t){return e.skipTo("--\x3e")?(e.match("--\x3e"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}T.defineMode("css",function(e,t){function i(e,t){return f=t,e}function a(i){return function(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==i&&!r){")"==i&&e.backUp(1);break}r=!r&&"\\"==n}return n!=i&&(r||")"==i)||(t.tokenize=null),f="string"}}function o(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:a(")"),f="(",null}function r(e,t,n){this.type=e,this.indent=t,this.prev=n}function s(e,t,n){return e.context=new r(n,t.indentation()+p,e.context),n}function l(e){return e.context=e.context.prev,e.context.type}function c(e,t,n){return x[n.context.type](e,t,n)}function u(e,t,n,r){for(var i=r||1;0<i;i--)n.context=n.context.prev;return c(e,t,n)}function d(e){e=e.current().toLowerCase();h=A.hasOwnProperty(e)?"atom":n.hasOwnProperty(e)?"keyword":"variable"}t.propertyKeywords||(t=T.resolveMode("text/css"));var f,h,p=e.indentUnit,m=t.tokenHooks,g=t.mediaTypes||{},v=t.mediaFeatures||{},b=t.propertyKeywords||{},y=t.nonStandardPropertyKeywords||{},n=t.colorKeywords||{},A=t.valueKeywords||{},w=t.fontProperties||{},C=t.allowNested,x={top:function(e,t,n){if("{"==e)return s(n,t,"block");if("}"==e&&n.context.prev)return l(n);if("@media"==e)return s(n,t,"media");if("@font-face"==e)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return s(n,t,"at");if("hash"==e)h="builtin";else if("word"==e)h="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return s(n,t,"interpolation");if(":"==e)return"pseudo";if(C&&"("==e)return s(n,t,"parens")}return n.context.type},block:function(e,t,n){var r;return"word"==e?(r=t.current().toLowerCase(),b.hasOwnProperty(r)?(h="property","maybeprop"):y.hasOwnProperty(r)?(h="string-2","maybeprop"):C?(h=t.match(/^\s*:/,!1)?"property":"tag","block"):(h+=" error","maybeprop")):"meta"==e?"block":C||"hash"!=e&&"qualifier"!=e?x.top(e,t,n):(h="error","block")},maybeprop:function(e,t,n){return":"==e?s(n,t,"prop"):c(e,t,n)},prop:function(e,t,n){if(";"==e)return l(n);if("{"==e&&C)return s(n,t,"propBlock");if("}"==e||"{"==e)return u(e,t,n);if("("==e)return s(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return s(n,t,"interpolation")}else h+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?l(n):"word"==e?(h="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?u(e,t,n):")"==e?l(n):"("==e?s(n,t,"parens"):("word"==e&&d(t),"parens")},pseudo:function(e,t,n){return"word"==e?(h="variable-3",n.context.type):c(e,t,n)},media:function(e,t,n){return"("==e?s(n,t,"media_parens"):"}"==e?u(e,t,n):"{"==e?l(n)&&s(n,t,C?"block":"top"):("word"==e&&(e=t.current().toLowerCase(),h="only"==e||"not"==e||"and"==e?"keyword":g.hasOwnProperty(e)?"attribute":v.hasOwnProperty(e)?"property":"error"),n.context.type)},media_parens:function(e,t,n){return")"==e?l(n):"{"==e||"}"==e?u(e,t,n,2):x.media(e,t,n)},font_face_before:function(e,t,n){return"{"==e?s(n,t,"font_face"):c(e,t,n)},font_face:function(e,t,n){return"}"==e?l(n):"word"==e?(h=w.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},keyframes:function(e,t,n){return"word"==e?(h="variable","keyframes"):"{"==e?s(n,t,"top"):c(e,t,n)},at:function(e,t,n){return";"==e?l(n):"{"==e||"}"==e?u(e,t,n):("word"==e?h="tag":"hash"==e&&(h="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?l(n):"{"==e||";"==e?u(e,t,n):("variable"!=e&&(h="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:"top",context:new r("top",e||0,null)}},token:function(e,t){var n;return!t.tokenize&&e.eatSpace()?null:((n=(t.tokenize||function(e,t){var n=e.next();if(m[n]){var r=m[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?(f="compare",null):'"'==n||"'"==n?(t.tokenize=a(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),f="hash","atom"):"!"==n?(e.match(/^\s*\w*/),f="important","keyword"):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),f="unit","number"):"-"!==n?/[,+>*\/]/.test(n)?(f="select-op",null):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?f="qualifier":/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=o,f="word","property"):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),f="word","property"):f=null:/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),f="unit","number"):e.match(/^\w+-/)?f="meta":void 0})(e,t))&&"object"==typeof n&&(f=n[1],n=n[0]),h=n,t.state=x[t.state](f,e,t),h)},indent:function(e,t){var e=e.context,t=t&&t.charAt(0),n=e.indent;return!(e="prop"!=e.type||"}"!=t&&")"!=t?e:e.prev).prev||("}"!=t||"block"!=e.type&&"top"!=e.type&&"interpolation"!=e.type&&"font_face"!=e.type)&&(")"!=t||"parens"!=e.type&&"media_parens"!=e.type)&&("{"!=t||"at"!=e.type&&"media"!=e.type)||(n=e.indent-p,e=e.prev),n},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var t=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=e(t),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],o=e(a),s=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],l=e(s),c=e(["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"]),u=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],d=e(u),f=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],h=e(f),p=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),t=t.concat(a).concat(s).concat(c).concat(u).concat(f);T.registerHelper("hintWords","css",t),T.defineMIME("text/css",{mediaTypes:i,mediaFeatures:o,propertyKeywords:l,nonStandardPropertyKeywords:c,colorKeywords:d,valueKeywords:h,fontProperties:p,tokenHooks:{"<":function(e,t){return!!e.match("!--")&&(t.tokenize=r)(e,t)},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n)(e,t)}},name:"css"}),T.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:o,propertyKeywords:l,nonStandardPropertyKeywords:c,colorKeywords:d,valueKeywords:h,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n)(e,t):["operator","operator"]},":":function(e){return!!e.match(/\s*{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),T.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:o,propertyKeywords:l,nonStandardPropertyKeywords:c,colorKeywords:d,valueKeywords:h,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n)(e,t):["operator","operator"]},"@":function(e){return!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),(e=>{"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)})(function(f){f.defineMode("htmlmixed",function(e,t){function n(e,t){var n=t.htmlState.tagName,r=c.token(e,t.htmlState);if("script"==n&&/\btag\b/.test(r)&&">"==e.current()){var i=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);(i=i?i[1]:"")&&/[\"\']/.test(i.charAt(0))&&(i=i.slice(1,i.length-1));for(var a=0;a<d.length;++a){var o=d[a];if("string"==typeof o.matches?i==o.matches:o.matches.test(i)){o.mode&&(t.token=s,t.localMode=o.mode,t.localState=o.mode.startState&&o.mode.startState(c.indent(t.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(r)&&">"==e.current()&&(t.token=l,t.localMode=u,t.localState=u.startState(c.indent(t.htmlState,"")));return r}function r(e,t,n){var r=e.current(),i=r.search(t);return-1<i?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function s(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=n,t.localState=t.localMode=null,n(e,t)):r(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function l(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=n,t.localState=t.localMode=null,n(e,t)):r(e,/<\/\s*style\s*>/,u.token(e,t.localState))}var c=f.getMode(e,{name:"xml",htmlMode:!0,multilineTagIndentFactor:t.multilineTagIndentFactor,multilineTagIndentPastTag:t.multilineTagIndentPastTag}),u=f.getMode(e,"css"),d=[],i=t&&t.scriptTypes;if(d.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:f.getMode(e,"javascript")}),i)for(var a=0;a<i.length;++a){var o=i[a];d.push({matches:o.matches,mode:o.mode&&f.getMode(e,o.mode)})}return d.push({matches:/./,mode:f.getMode(e,"text/plain")}),{startState:function(){return{token:n,localMode:null,localState:null,htmlState:c.startState()}},copyState:function(e){var t;return e.localState&&(t=f.copyState(e.localMode,e.localState)),{token:e.token,localMode:e.localMode,localState:t,htmlState:f.copyState(c,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return!e.localMode||/^\s*<\//.test(t)?c.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t):f.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||c}}}},"xml","javascript","css"),f.defineMIME("text/html","htmlmixed")}),(e=>{"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(xe){xe.defineMode("javascript",function(e,l){function a(e,t,n){return D=e,z=n,t}function c(e,t){var i,n=e.next();if('"'==n||"'"==n)return t.tokenize=(i=n,function(e,t){var n,r=!1;if(N&&"@"==e.peek()&&e.match(ye))return t.tokenize=c,a("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=i||r);)r=!r&&"\\"==n;return r||(t.tokenize=c),a("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return a("number","number");if("."==n&&e.match(".."))return a("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return a(n);if("="==n&&e.eat(">"))return a("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),a("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),a("number","number");if("/"==n)return e.eat("*")?(t.tokenize=u)(e,t):e.eat("/")?(e.skipToEnd(),a("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?((e=>{for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}})(e),e.eatWhile(/[gimy]/),a("regexp","string-2")):(e.eatWhile(be),a("operator","operator",e.current()));if("`"==n)return(t.tokenize=B)(e,t);if("#"==n)return e.skipToEnd(),a("error","error");if(be.test(n))return e.eatWhile(be),a("operator","operator",e.current());e.eatWhile(/[\w\$_]/);n=e.current(),e=ve.propertyIsEnumerable(n)&&ve[n];return e&&"."!=t.lastType?a(e.type,e.style,n):a("variable","variable",n)}function u(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=c;break}r="*"==n}return a("comment","comment")}function B(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=c;break}r=!r&&"\\"==n}return a("quasi","string-2",e.current())}function r(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){for(var r=0,i=!1,a=n-1;0<=a;--a){var o=e.string.charAt(a),s=Ae.indexOf(o);if(0<=s&&s<3){if(!r){++a;break}if(0==--r)break}else if(3<=s&&s<6)++r;else if(/[$\w]/.test(o))i=!0;else if(i&&!r){++a;break}}i&&!r&&(t.fatArrowAt=a)}}function W(e,t,n,r,i,a){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=a,null!=r&&(this.align=r)}function H(e,t,n,r,i){var a=e.cc;for(I.state=e,I.stream=i,I.marked=null,I.cc=a,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((a.length?a.pop():P?v:g)(n,r)){for(;a.length&&a[a.length-1].lex;)a.pop()();return I.marked||("variable"==n&&((e,t)=>{for(var n=e.localVars;n;n=n.next)if(n.name==t)return 1;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return 1})(e,r)?"variable-2":t)}}function o(){for(var e=arguments.length-1;0<=e;e--)I.cc.push(arguments[e])}function s(){return o.apply(null,arguments),!0}function n(n){function e(e){for(var t=e;t;t=t.next)if(t.name==n)return 1}var t=I.state;t.context?(I.marked="def",e(t.localVars)||(t.localVars={name:n,next:t.localVars})):e(t.globalVars)||l.globalVars&&(t.globalVars={name:n,next:t.globalVars})}function d(){I.state.context={prev:I.state.context,vars:I.state.localVars},I.state.localVars=Ce}function f(){I.state.localVars=I.state.context.vars,I.state.context=I.state.context.prev}function h(n,r){function e(){var e=I.state,t=e.indented;"stat"==e.lexical.type&&(t=e.lexical.indented),e.lexical=new W(t,I.stream.column(),n,null,e.lexical,r)}return e.lex=!0,e}function p(){var e=I.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function m(n){return function e(t){return t==n?s():";"==n?o():s(e)}}function g(e,t){return"var"==e?s(h("vardef",t.length),M,m(";"),p):"keyword a"==e?s(h("form"),v,g,p):"keyword b"==e?s(h("form"),g,p):"{"==e?s(h("}"),k,p):";"==e?s():"if"==e?("else"==I.state.lexical.info&&I.state.cc[I.state.cc.length-1]==p&&I.state.cc.pop()(),s(h("form"),v,g,p,Q)):"function"==e?s(L):"for"==e?s(h("form"),ee,g,p):"variable"==e?s(h("stat"),Y):"switch"==e?s(h("form"),v,h("}","switch"),m("{"),k,p,p):"case"==e?s(v,m(":")):"default"==e?s(m(":")):"catch"==e?s(h("form"),d,m("("),ie,m(")"),g,p,f):"module"==e?s(h("form"),d,le,f,p):"class"==e?s(h("form"),ae,se,p):"export"==e?s(h("form"),ce,p):"import"==e?s(h("form"),ue,p):o(h("stat"),v,m(";"),p)}function v(e){return t(e,!1)}function b(e){return t(e,!0)}function t(e,t){if(I.state.fatArrowAt==I.stream.start){var n=t?U:R;if("("==e)return s(d,h(")"),x(S,")"),p,m("=>"),n,f);if("variable"==e)return o(d,S,m("=>"),n,f)}n=t?w:A;return we.hasOwnProperty(e)?s(n):"function"==e?s(L,n):"keyword c"==e?s(t?F:y):"("==e?s(h(")"),y,O,m(")"),p,n):"operator"==e||"spread"==e?s(t?b:v):"["==e?s(h("]"),he,p,n):"{"==e?T(G,"}",null,n):"quasi"==e?o(C,n):s()}function y(e){return e.match(/[;\}\)\],]/)?o():o(v)}function F(e){return e.match(/[;\}\)\],]/)?o():o(b)}function A(e,t){return","==e?s(v):w(e,t,!1)}function w(e,t,n){var r=0==n?A:w,i=0==n?v:b;return"=>"==t?s(d,n?U:R,f):"operator"==e?/\+\+|--/.test(t)?s(r):"?"==t?s(v,m(":"),i):s(i):"quasi"==e?o(C,r):";"!=e?"("==e?T(b,")","call",r):"."==e?s(q,r):"["==e?s(h("]"),y,m("]"),p,r):void 0:void 0}function C(e,t){return"quasi"!=e?o():"${"!=t.slice(t.length-2)?s(C):s(v,j)}function j(e){return"}"==e?(I.marked="string-2",I.state.tokenize=B,s(C)):void 0}function R(e){return r(I.stream,I.state),o("{"==e?g:v)}function U(e){return r(I.stream,I.state),o("{"==e?g:b)}function Y(e){return":"==e?s(p,g):o(A,m(";"),p)}function q(e){return"variable"==e?(I.marked="property",s()):void 0}function G(e,t){if("variable"==e){if(I.marked="property","get"==t||"set"==t)return s(V)}else if("number"==e||"string"==e)I.marked=N?"property":e+" property";else if("["==e)return s(v,m("]"),i);return we.hasOwnProperty(e)?s(i):void 0}function V(e){return"variable"!=e?o(i):(I.marked="property",s(L))}function i(e){return":"==e?s(b):"("==e?o(L):void 0}function x(n,r){function i(e){var t;return","==e?("call"==(t=I.state.lexical).info&&(t.pos=(t.pos||0)+1),s(n,i)):e==r?s():s(m(r))}return function(e){return e==r?s():o(n,i)}}function T(e,t,n){for(var r=3;r<arguments.length;r++)I.cc.push(arguments[r]);return s(h(t,n),x(e,t),p)}function k(e){return"}"==e?s():o(g,k)}function K(e){return ge&&":"==e?s(X):void 0}function X(e){return"variable"==e?(I.marked="variable-3",s()):void 0}function M(){return o(S,K,_,Z)}function S(e,t){return"variable"==e?(n(t),s()):"["==e?T(S,"]"):"{"==e?T(J,"}"):void 0}function J(e,t){return"variable"!=e||I.stream.match(/^\s*:/,!1)?("variable"==e&&(I.marked="property"),s(m(":"),S,_)):(n(t),s(_))}function _(e,t){return"="==t?s(b):void 0}function Z(e){return","==e?s(M):void 0}function Q(e,t){return"keyword b"==e&&"else"==t?s(h("form","else"),g,p):void 0}function ee(e){return"("==e?s(h(")"),te,m(")"),p):void 0}function te(e){return"var"==e?s(M,m(";"),E):";"==e?s(E):"variable"==e?s(ne):o(v,m(";"),E)}function ne(e,t){return"in"==t||"of"==t?(I.marked="keyword",s(v)):s(A,E)}function E(e,t){return";"==e?s(re):"in"==t||"of"==t?(I.marked="keyword",s(v)):o(v,m(";"),re)}function re(e){")"!=e&&s(v)}function L(e,t){return"*"==t?(I.marked="keyword",s(L)):"variable"==e?(n(t),s(L)):"("==e?s(d,h(")"),x(ie,")"),p,g,f):void 0}function ie(e){return"spread"==e?s(ie):o(S,K)}function ae(e,t){return"variable"==e?(n(t),s(oe)):void 0}function oe(e,t){return"extends"==t?s(v):void 0}function se(e){return"{"==e?T(G,"}"):void 0}function le(e,t){return"string"==e?s(g):"variable"==e?(n(t),s(fe)):void 0}function ce(e,t){return"*"==t?(I.marked="keyword",s(fe,m(";"))):"default"==t?(I.marked="keyword",s(v,m(";"))):o(g)}function ue(e){return"string"==e?s():o(de,fe)}function de(e,t){return"{"==e?T(de,"}"):("variable"==e&&n(t),s())}function fe(e,t){return"from"==t?(I.marked="keyword",s(v)):void 0}function he(e){return"]"==e?s():o(b,pe)}function pe(e){return"for"==e?o(O,m("]")):(","==e?s:o)(x(b,"]"))}function O(e){return"for"==e?s(ee,O):"if"==e?s(v,O):void 0}var D,z,$=e.indentUnit,me=l.statementIndent,N=l.jsonld,P=l.json||N,ge=l.typescript,ve=(()=>{function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},o={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:r,delete:r,throw:r,debugger:r,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),module:e("module"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r};if(ge){var s,t={type:"variable",style:"variable-3"},l={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:t,number:t,bool:t,any:t};for(s in l)o[s]=l[s]}return o})(),be=/[+\-*&%=<>!?|~^]/,ye=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ae="([{}])",we={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},I={state:null,column:null,marked:null,cc:null},Ce={name:"this",next:{name:"arguments"}};return p.lex=!0,{startState:function(e){e={tokenize:c,lastType:"sof",cc:[],lexical:new W((e||0)-$,0,"block",!1),localVars:l.localVars,context:l.localVars&&{vars:l.localVars},indented:0};return l.globalVars&&"object"==typeof l.globalVars&&(e.globalVars=l.globalVars),e},token:function(e,t){var n;return e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),r(e,t)),t.tokenize!=u&&e.eatSpace()?null:(n=t.tokenize(e,t),"comment"==D?n:(t.lastType="operator"!=D||"++"!=z&&"--"!=z?D:"incdec",H(t,n,D,z,e)))},indent:function(e,t){if(e.tokenize==u)return xe.Pass;if(e.tokenize!=c)return 0;var n=t&&t.charAt(0),r=e.lexical;if(!/^\s*else\b/.test(t))for(var i=e.cc.length-1;0<=i;--i){var a=e.cc[i];if(a==p)r=r.prev;else if(a!=Q)break}"stat"==r.type&&"}"==n&&(r=r.prev);var o=(r=me&&")"==r.type&&"stat"==r.prev.type?r.prev:r).type,s=n==o;return"vardef"==o?r.indented+("operator"==e.lastType||","==e.lastType?r.info+1:0):"form"==o&&"{"==n?r.indented:"form"==o?r.indented+$:"stat"==o?r.indented+("operator"==e.lastType||","==e.lastType?me||$:0):"switch"!=r.info||s||0==l.doubleIndentSwitch?r.align?r.column+(s?0:1):r.indented+(s?0:$):r.indented+(/^(?:case|default)\b/.test(t)?$:2*$)},electricChars:":{}",blockCommentStart:P?null:"/*",blockCommentEnd:P?null:"*/",lineComment:P?null:"//",fold:"brace",helperType:P?"json":"javascript",jsonldMode:N,jsonMode:P}}),xe.registerHelper("wordChars","javascript",/[\\w$]/),xe.defineMIME("text/javascript","javascript"),xe.defineMIME("text/ecmascript","javascript"),xe.defineMIME("application/javascript","javascript"),xe.defineMIME("application/ecmascript","javascript"),xe.defineMIME("application/json",{name:"javascript",json:!0}),xe.defineMIME("application/x-json",{name:"javascript",json:!0}),xe.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),xe.defineMIME("text/typescript",{name:"javascript",typescript:!0}),xe.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),(e=>{"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(k){k.defineMode("xml",function(e,t){function o(t,n){function e(e){return(n.tokenize=e)(t,n)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?e(i("atom","]]>")):null:t.match("--")?e(i("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function r(i){return function(e,t){for(var n;null!=(n=e.next());){if("<"==n)return t.tokenize=r(i+1),t.tokenize(e,t);if(">"==n){if(1!=i)return t.tokenize=r(i-1),t.tokenize(e,t);t.tokenize=o;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),n.tokenize=i("meta","?>"),"meta"):(w=t.eat("/")?"closeTag":"openTag",n.tokenize=s,"tag bracket"):"&"==r?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function s(e,t){var n,r,i=e.next();return">"==i||"/"==i&&e.eat(">")?(t.tokenize=o,w=">"==i?"endTag":"selfcloseTag","tag bracket"):"="==i?(w="equals",null):"<"==i?(t.tokenize=o,t.state=c,t.tagName=t.tagStart=null,(n=t.tokenize(e,t))?n+" tag error":"tag error"):/[\'\"]/.test(i)?(t.tokenize=(r=i,a.isInAttribute=!0,a),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");function a(e,t){for(;!e.eol();)if(e.next()==r){t.tokenize=s;break}return"string"}}function i(n,r){return function(e,t){for(;!e.eol();){if(e.match(r)){t.tokenize=o;break}e.next()}return n}}function a(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(x.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function r(e){e.context&&(e.context=e.context.prev)}function l(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!x.contextGrabbers.hasOwnProperty(n)||!x.contextGrabbers[n].hasOwnProperty(t))return;r(e)}}function c(e,t,n){return"openTag"==e?(n.tagStart=t.column(),u):"closeTag"==e?d:c}function u(e,t,n){return"word"==e?(n.tagName=t.current(),C="tag",p):(C="error",u)}function d(e,t,n){return"word"==e?(e=t.current(),n.context&&n.context.tagName!=e&&x.implicitlyClosed.hasOwnProperty(n.context.tagName)&&r(n),n.context&&n.context.tagName==e?(C="tag",f):(C="tag error",h)):(C="error",h)}function f(e,t,n){return"endTag"!=e?(C="error",f):(r(n),c)}function h(e,t,n){return C="error",f(e,0,n)}function p(e,t,n){var r,i;return"word"==e?(C="attribute",m):"endTag"==e||"selfcloseTag"==e?(r=n.tagName,i=n.tagStart,n.tagName=n.tagStart=null,"selfcloseTag"==e||x.autoSelfClosers.hasOwnProperty(r)?l(n,r):(l(n,r),n.context=new a(n,r,i==n.indented)),c):(C="error",p)}function m(e,t,n){return"equals"==e?g:(x.allowMissing||(C="error"),p(e,0,n))}function g(e,t,n){return"string"==e?v:"word"==e&&x.allowUnquoted?(C="string",p):(C="error",p(e,0,n))}function v(e,t,n){return"string"==e?v:p(e,0,n)}var b=e.indentUnit,y=t.multilineTagIndentFactor||1,A=t.multilineTagIndentPastTag;null==A&&(A=!0);var w,C,x=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},T=t.alignCDATA;return{startState:function(){return{tokenize:o,state:c,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;w=null;var n=t.tokenize(e,t);return n=(n||w)&&"comment"!=n&&(C=null,t.state=t.state(w||n,e,t),C)?"error"==C?n+" error":C:n},indent:function(e,t,n){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+b;if(r&&r.noIndent)return k.Pass;if(e.tokenize!=s&&e.tokenize!=o)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName)return A?e.tagStart+e.tagName.length+2:e.tagStart+b*y;if(T&&/<!\[CDATA\[/.test(t))return 0;var i=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(i&&i[1])for(;r;){if(r.tagName==i[2]){r=r.prev;break}if(!x.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(i)for(;r;){var a=x.contextGrabbers[r.tagName];if(!a||!a.hasOwnProperty(i[2]))break;r=r.prev}for(;r&&!r.startOfLine;)r=r.prev;return r?r.indent+b:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:t.htmlMode?"html":"xml",helperType:t.htmlMode?"html":"xml"}}),k.defineMIME("text/xml","xml"),k.defineMIME("application/xml","xml"),k.mimeModes.hasOwnProperty("text/html")||k.defineMIME("text/html",{name:"xml",htmlMode:!0})}),(e=>{"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(i){function e(e){for(var t in d)d.hasOwnProperty(t)&&(e.attrs[t]=d[t])}var t,n="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),r=["_blank","_self","_top","_parent"],a=["ascii","utf-8","utf-16","latin1","latin1"],o=["get","post","put","delete"],s=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],l=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"],c={attrs:{}},u={a:{attrs:{href:null,ping:null,type:null,media:l,target:r,hreflang:n}},abbr:c,acronym:c,address:c,applet:c,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:l,hreflang:n,type:null,shape:["default","rect","circle","poly"]}},article:c,aside:c,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:c,base:{attrs:{href:null,target:r}},basefont:c,bdi:c,bdo:c,big:c,blockquote:{attrs:{cite:null}},body:c,br:c,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:s,formmethod:o,formnovalidate:["","novalidate"],formtarget:r,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:c,center:c,cite:c,code:c,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:c,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:c,dir:c,div:c,dl:c,dt:c,em:c,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:c,figure:c,font:c,footer:c,form:{attrs:{action:null,name:null,"accept-charset":a,autocomplete:["on","off"],enctype:s,method:o,novalidate:["","novalidate"],target:r}},frame:c,frameset:c,h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:c,hgroup:c,hr:c,html:{attrs:{manifest:null},children:["head","body"]},i:c,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:s,formmethod:o,formnovalidate:["","novalidate"],formtarget:r,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:c,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:c,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:n,media:l,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:c,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:a,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:c,noframes:c,noscript:c,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:c,param:{attrs:{name:null,value:null}},pre:c,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:c,rt:c,ruby:c,s:c,samp:c,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:a}},section:c,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:c,source:{attrs:{src:null,type:null,media:null}},span:c,strike:c,strong:c,style:{attrs:{type:["text/css"],media:l,scoped:null}},sub:c,summary:c,sup:c,table:c,tbody:c,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:c,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:c,time:{attrs:{datetime:null}},title:c,tr:c,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:n}},tt:c,u:c,ul:c,var:c,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:c},d={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],class:null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};for(t in e(c),u)u.hasOwnProperty(t)&&u[t]!=c&&e(u[t]);i.htmlSchema=u,i.registerHelper("hint","html",function(e,t){var n={schemaInfo:u};if(t)for(var r in t)n[r]=t[r];return i.hint.xml(e,n)})}),(e=>{"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(w){function n(e,t){this.cm=e,this.options=this.buildOptions(t),this.widget=this.onClose=null}function C(e){return"string"==typeof e?e:e.text}function x(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function h(i,e){this.completion=i,this.data=e;var n=this,a=i.cm,o=this.hints=document.createElement("ul");o.className="CodeMirror-hints",this.selectedHint=e.selectedHint||0;for(var t=e.list,r=0;r<t.length;++r){var s=o.appendChild(document.createElement("li")),l=t[r],c="CodeMirror-hint"+(r!=this.selectedHint?"":" "+T);null!=l.className&&(c=l.className+" "+c),s.className=c,l.render?l.render(s,e,l):s.appendChild(document.createTextNode(l.displayText||C(l))),s.hintId=r}var u,d,f=a.cursorCoords(i.options.alignWithWord?e.from:null),h=f.left,p=f.bottom,m=!0,g=(o.style.left=h+"px",o.style.top=p+"px",window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth)),v=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),b=((i.options.container||document.body).appendChild(o),o.getBoundingClientRect()),y=(0<b.bottom-v&&(y=b.bottom-b.top,0<(u=b.top-(f.bottom-f.top))-y?(o.style.top=(p=u-y)+"px",m=!1):v<y&&(o.style.height=v-5+"px",o.style.top=(p=f.bottom-b.top)+"px",u=a.getCursor(),e.from.ch!=u.ch)&&(f=a.cursorCoords(u),o.style.left=(h=f.left)+"px",b=o.getBoundingClientRect())),b.left-g),A=(0<y&&(b.right-b.left>g&&(o.style.width=g-5+"px",y-=b.right-b.left-g),o.style.left=(h=f.left-y)+"px"),a.addKeyMap(this.keyMap=((e,r)=>{function t(e,t){var n="string"!=typeof t?function(e){return t(e,r)}:i.hasOwnProperty(t)?i[t]:t;a[e]=n}var i={Up:function(){r.moveFocus(-1)},Down:function(){r.moveFocus(1)},PageUp:function(){r.moveFocus(1-r.menuSize(),!0)},PageDown:function(){r.moveFocus(r.menuSize()-1,!0)},Home:function(){r.setFocus(0)},End:function(){r.setFocus(r.length-1)},Enter:r.pick,Tab:r.pick,Esc:r.close},n=e.options.customKeys,a=n?{}:i;if(n)for(var o in n)n.hasOwnProperty(o)&&t(o,n[o]);var s=e.options.extraKeys;if(s)for(var o in s)s.hasOwnProperty(o)&&t(o,s[o]);return a})(i,{moveFocus:function(e,t){n.changeActive(n.selectedHint+e,t)},setFocus:function(e){n.changeActive(e)},menuSize:function(){return n.screenAmount()},length:t.length,close:function(){i.close()},pick:function(){n.pick()},data:e})),i.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){d=setTimeout(function(){i.close()},100)}),a.on("focus",this.onFocus=function(){clearTimeout(d)})),a.getScrollInfo());return a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),t=a.getWrapperElement().getBoundingClientRect(),n=p+A.top-e.top,r=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return m||(r+=o.offsetHeight),r<=t.top||r>=t.bottom?i.close():(o.style.top=n+"px",void(o.style.left=h+A.left-e.left+"px"))}),w.on(o,"dblclick",function(e){e=x(o,e.target||e.srcElement);e&&null!=e.hintId&&(n.changeActive(e.hintId),n.pick())}),w.on(o,"click",function(e){e=x(o,e.target||e.srcElement);e&&null!=e.hintId&&(n.changeActive(e.hintId),i.options.completeOnSingleClick)&&n.pick()}),w.on(o,"mousedown",function(){setTimeout(function(){a.focus()},20)}),w.signal(e,"select",t[0],o.firstChild),!0}var T="CodeMirror-hint-active",i=(w.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},w.defineExtension("showHint",function(e){if(!(1<this.listSelections().length||this.somethingSelected())){this.state.completionActive&&this.state.completionActive.close();var t=this.state.completionActive=new n(this,e),e=t.options.hint;if(e)return w.signal(this,"startCompletion",this),e.async?void e(this,function(e){t.showHints(e)},t.options):t.showHints(e(this,t.options))}}),n.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),w.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,t){t=e.list[t];t.hint?t.hint(this.cm,e,t):this.cm.replaceRange(C(t),t.from||e.from,t.to||e.to,"complete"),w.signal(e,"pick",t),this.close()},showHints:function(e){return e&&e.list.length&&this.active()?void(this.options.completeSingle&&1==e.list.length?this.pick(e,0):this.showWidget(e)):this.close()},showWidget:function(t){function n(){a||(a=!0,s.close(),s.cm.off("cursorActivity",e),t&&w.signal(t,"close"))}function r(){var e;a||(w.signal(t,"update"),(e=s.options.hint).async?e(s.cm,i,s.options):i(e(s.cm,s.options)))}function i(e){if(t=e,!a){if(!t||!t.list.length)return n();s.widget&&s.widget.close(),s.widget=new h(s,t)}}function e(){o&&(f(o),o=0);var e=s.cm.getCursor(),t=s.cm.getLine(e.line);e.line!=c.line||t.length-e.ch!=u-c.ch||e.ch<c.ch||s.cm.somethingSelected()||e.ch&&l.test(t.charAt(e.ch-1))?s.close():(o=d(r),s.widget&&s.widget.close())}this.widget=new h(this,t),w.signal(t,"shown");var a,o=0,s=this,l=this.options.closeCharacters,c=this.cm.getCursor(),u=this.cm.getLine(c.line).length,d=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},f=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",e),this.onClose=n},buildOptions:function(e){var t=this.cm.options.hintOptions,n={};for(r in i)n[r]=i[r];if(t)for(var r in t)void 0!==t[r]&&(n[r]=t[r]);if(e)for(var r in e)void 0!==e[r]&&(n[r]=e[r]);return n}},h.prototype={close:function(){var e;this.completion.widget==this&&(this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap),e=this.completion.cm,this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll))},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,t){e>=this.data.list.length?e=t?this.data.list.length-1:0:e<0&&(e=t?0:this.data.list.length-1),this.selectedHint!=e&&((t=this.hints.childNodes[this.selectedHint]).className=t.className.replace(" "+T,""),(t=this.hints.childNodes[this.selectedHint=e]).className+=" "+T,t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-3:t.offsetTop+t.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=t.offsetTop+t.offsetHeight-this.hints.clientHeight+3),w.signal(this.data,"select",this.data.list[this.selectedHint],t))},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},w.registerHelper("hint","auto",function(e,t){var n,r=e.getHelpers(e.getCursor(),"hint");if(r.length)for(var i=0;i<r.length;i++){var a=r[i](e,t);if(a&&a.list.length)return a}else if(n=e.getHelper(e.getCursor(),"hintWords")){if(n)return w.hint.fromList(e,{words:n})}else if(w.hint.anyword)return w.hint.anyword(e,t)}),w.registerHelper("hint","fromList",function(e,t){for(var n=e.getCursor(),r=e.getTokenAt(n),i=[],a=0;a<t.words.length;a++){var o=t.words[a];o.slice(0,r.string.length)==r.string&&i.push(o)}return i.length?{list:i,from:w.Pos(n.line,r.start),to:w.Pos(n.line,r.end)}:void 0}),w.commands.autocomplete=w.showHint,{hint:w.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null});w.defineOption("hintOptions",null)}),(e=>{"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(T){var k=T.Pos;T.registerHelper("hint","xml",function(e,t){var n=t&&t.schemaInfo,r=t&&t.quoteChar||'"';if(n){var t=e.getCursor(),i=e.getTokenAt(t),a=T.innerMode(e.getMode(),i.state);if("xml"==a.mode.name){var o,s,l,c=[],u=!1,d=/\btag\b/.test(i.type),f=d&&/^\w/.test(i.string);if(f?(C=e.getLine(t.line).slice(Math.max(0,i.start-2),i.start),(l=/<\/$/.test(C)?"close":/<$/.test(C)?"open":null)&&(s=i.start-("close"==l?2:1))):d&&"<"==i.string?l="open":d&&"</"==i.string&&(l="close"),!d&&!a.state.tagName||l){f&&(o=i.string);var u=l,d=a.state.context,h=d&&n[d.tagName],p=d?h&&h.children:n["!top"];if(p&&"close"!=l)for(var m=0;m<p.length;++m)o&&0!=p[m].lastIndexOf(o,0)||c.push("<"+p[m]);else if("close"!=l)for(var g in n)!n.hasOwnProperty(g)||"!top"==g||"!attrs"==g||o&&0!=g.lastIndexOf(o,0)||c.push("<"+g);d&&(!o||"close"==l&&0==d.tagName.lastIndexOf(o,0))&&c.push("</"+d.tagName+">")}else{var v=(h=n[a.state.tagName])&&h.attrs,b=n["!attrs"];if(!v&&!b)return;if(v){if(b){var y,A={};for(y in b)b.hasOwnProperty(y)&&(A[y]=b[y]);for(y in v)v.hasOwnProperty(y)&&(A[y]=v[y]);v=A}}else v=b;if("string"==i.type||"="==i.string){var w,C,f=(C=e.getRange(k(t.line,Math.max(0,t.ch-60)),k(t.line,"string"==i.type?i.start:i.end))).match(/([^\s\u00a0=<>\"\']+)=$/);if(!f||!v.hasOwnProperty(f[1])||!(w=v[f[1]]))return;"function"==typeof w&&(w=w.call(this,e)),"string"==i.type&&(o=i.string,/['"]/.test(i.string.charAt(0))&&(r=i.string.charAt(0),o=i.string.slice(1)),u=!0);for(m=0;m<w.length;++m)o&&0!=w[m].lastIndexOf(o,0)||c.push(r+w[m]+r)}else for(var x in"attribute"==i.type&&(o=i.string,u=!0),v)!v.hasOwnProperty(x)||o&&0!=x.lastIndexOf(o,0)||c.push(x)}return{list:c,from:u?k(t.line,null==s?i.start:s):t,to:u?k(t.line,i.end):t}}}})}),(e=>{"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(c){var u=c.Pos;function d(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n])}function n(e,t,n,r){var i=e.getCursor(),a=n(e,i),o=a;if(!/\b(?:string|comment)\b/.test(a.type)){for(a.state=c.innerMode(e.getMode(),a.state).state,/^[\w$_]*$/.test(a.string)||(a=o={start:i.ch,end:i.ch,string:"",state:a.state,type:"."==a.string?"property":null});"property"==o.type;){if("."!=(o=n(e,u(i.line,o.start))).string)return;var o=n(e,u(i.line,o.start)),s=s||[];s.push(o)}var l=n(e,u(i.line,a.start));return"operator"==(l=l.type?l:n(e,u(i.line,l.start))).type&&"|"==l.string&&(t=window.availableFilters,a.state.globalVars=void 0),{list:((e,t,n,r)=>{var i=[],a=e.string;function o(e){0!=e.lastIndexOf(a,0)||((e,t)=>{if(Array.prototype.indexOf)return-1!=e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return 1})(i,e)||i.push(e)}function s(e){for(var t in"string"==typeof e?d(f,o):e instanceof Array?d(h,o):e instanceof Function&&d(p,o),e)o(t)}if(t&&t.length){var l,c=t.pop();for(c.type&&0===c.type.indexOf("variable")?(r&&r.additionalContext&&(l=r.additionalContext[c.string]),r&&!1===r.useGlobalScope||(l=l||window[c.string])):"string"==c.type?l="":"atom"==c.type?l=1:"function"==c.type&&(null==window.jQuery||"$"!=c.string&&"jQuery"!=c.string||"function"!=typeof window.jQuery?null!=window._&&"_"==c.string&&"function"==typeof window._&&(l=window._()):l=window.jQuery());null!=l&&t.length;)l=l[t.pop().string];null!=l&&s(l)}else{for(var u=e.state.localVars;u;u=u.next)o(u.name);for(u=e.state.globalVars;u;u=u.next)o(u.name);r&&!1===r.useGlobalScope||s(window),d(n,o)}return i})(a,s,t,r),from:u(i.line,a.start),to:u(i.line,a.end)}}}function r(e,t){e=e.getTokenAt(t);return t.ch==e.start+1&&"."==e.string.charAt(0)?(e.end=e.start,e.string=".",e.type="property"):/^\.[\w$_]*$/.test(e.string)&&(e.type="property",e.start++,e.string=e.string.replace(/\./,"")),e}c.registerHelper("hint","javascript",function(e,t){return n(e,a,function(e,t){return e.getTokenAt(t)},t)}),c.registerHelper("hint","coffeescript",function(e,t){return n(e,i,r,t)});var f="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),h="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),p="prototype apply call bind".split(" "),i=("break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),"and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")),a="null".split(" ")});
//# sourceMappingURL=app.js.map
